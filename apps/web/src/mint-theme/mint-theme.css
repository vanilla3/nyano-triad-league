/* ═══════════════════════════════════════════════════════════════════════════
   Nyano Triad League — Mint Theme (Nintendo UX)

   Usage: import in BoardViewMint.tsx

   Adds:
   - CSS custom properties for Mint color palette
   - Keyframe animations: breathe, glow, pop-in, shake
   - .mint-* utility classes for board, cells, cards, HUD, prompt, overlay
   - Reduced motion support
   ═══════════════════════════════════════════════════════════════════════════ */

/* ── Mint Custom Properties ──────────────────────────────────────────── */

:root {
  /* Surface */
  --mint-bg: #EFF8FF;
  --mint-surface: #FFFFFF;
  --mint-surface-dim: #E8F6FF;

  /* Accent */
  --mint-accent: #38BDF8;
  --mint-accent-light: #7DD3FC;
  --mint-accent-dark: #0284C7;
  --mint-accent-muted: #BAE6FD;

  /* Cell */
  --mint-cell-active: #BAE6FD;
  --mint-cell-active-glow: rgba(56, 189, 248, 0.35);
  --mint-cell-flat: #DAEAF6;
  --mint-cell-flat-dark: #C4D9E8;
  --mint-cell-selected: rgba(56, 189, 248, 0.42);

  /* Player A (Sky) */
  --mint-pa: #0EA5E9;
  --mint-pa-light: #38BDF8;
  --mint-pa-glow: rgba(14, 165, 233, 0.4);
  --mint-pa-bg: rgba(14, 165, 233, 0.08);

  /* Player B (Rose) */
  --mint-pb: #F43F5E;
  --mint-pb-light: #FB7185;
  --mint-pb-glow: rgba(244, 63, 94, 0.4);
  --mint-pb-bg: rgba(244, 63, 94, 0.08);

  /* Events */
  --mint-flip: #F59E0B;
  --mint-flip-glow: rgba(245, 158, 11, 0.4);
  --mint-chain: #8B5CF6;
  --mint-chain-glow: rgba(139, 92, 246, 0.4);

  /* Text */
  --mint-text-primary: #1F2937;
  --mint-text-secondary: #4B5563;
  --mint-text-hint: #9CA3AF;
  --mint-text-accent: #0284C7;

  /* Feedback */
  --mint-error: #F87171;
  --mint-error-bg: rgba(248, 113, 113, 0.1);
  --mint-warning-bg: rgba(251, 191, 36, 0.15);

  /* Prompt */
  --mint-prompt-bg: rgba(239, 249, 255, 0.95);
  --mint-prompt-border: rgba(125, 211, 252, 0.6);

  /* Pressable microinteraction */
  --mint-press-transition: 180ms cubic-bezier(0.22, 1, 0.36, 1);
  --mint-press-hover-transform: translateY(-2px) scale(1.01);
  --mint-press-active-transform: translateY(0) scale(0.985);
  --mint-press-focus-color: var(--mint-accent);
  --mint-press-focus-shadow: 0 10px 18px -12px rgba(15, 23, 42, 0.42);

  /* Gamefeel background tokens (reference image approximation) */
  --mint-gamefeel-bg-mint: #C1E4E6;
  --mint-gamefeel-bg-lavender: #D0C3EF;
  --mint-gamefeel-bg-fresh: #B7F5DD;
  --mint-gamefeel-bg-neutral: #ACA3BB;
  --mint-gamefeel-glass-fill: rgba(255, 255, 255, 0.65);
  --mint-gamefeel-glass-border: rgba(255, 255, 255, 0.72);
  --mint-gamefeel-floor-shadow: 0 18px 36px -28px rgba(2, 6, 23, 0.55);
  --mint-gamefeel-paw-pattern: url("data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27260%27 height=%27260%27 viewBox=%270 0 260 260%27%3E%3Cg fill=%27%23ffffff%27 fill-opacity=%270.22%27%3E%3Ccircle cx=%2734%27 cy=%2724%27 r=%278%27/%3E%3Ccircle cx=%2756%27 cy=%2724%27 r=%278%27/%3E%3Ccircle cx=%2722%27 cy=%2740%27 r=%278%27/%3E%3Ccircle cx=%2768%27 cy=%2740%27 r=%278%27/%3E%3Cellipse cx=%2745%27 cy=%2758%27 rx=%2715%27 ry=%2711%27/%3E%3Cg transform=%27translate%28140 116%29 rotate%28-12%29%27%3E%3Ccircle cx=%2734%27 cy=%2724%27 r=%278%27/%3E%3Ccircle cx=%2756%27 cy=%2724%27 r=%278%27/%3E%3Ccircle cx=%2722%27 cy=%2740%27 r=%278%27/%3E%3Ccircle cx=%2768%27 cy=%2740%27 r=%278%27/%3E%3Cellipse cx=%2745%27 cy=%2758%27 rx=%2715%27 ry=%2711%27/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");

  /* Mint material surface v4 */
  --mint-surface-radius: 16px;
  --mint-surface-border: rgba(255, 255, 255, 0.74);
  --mint-surface-border-2: rgba(148, 163, 184, 0.28);
  --mint-surface-face-a: rgba(255, 255, 255, 0.88);
  --mint-surface-face-b: rgba(226, 242, 255, 0.7);
  --mint-surface-shadow: 0 16px 28px -24px rgba(15, 23, 42, 0.86);
  --mint-surface-shadow-press: 0 8px 16px -14px rgba(15, 23, 42, 0.72);
  --mint-surface-specular-opacity: 0.36;

  /* Optional generated assets (UI must still work when these files do not exist) */
  --mint-asset-bg-cloud: url("/assets/gen/bg_cloud_corners_16x9_v3.png");
  --mint-asset-bg-paw: url("/assets/gen/bg_paw_tile_512_v1.png");
  --mint-asset-sparkle: url("/assets/gen/fx_sparkle_tile_512_v1.png");
  --mint-asset-noise: url("/assets/gen/tx_noise_256_v1.png");
  --mint-asset-slot-shadow: url("/assets/gen/slot_inner_shadow_256_v1.png");
  --mint-asset-board-tray: url("/assets/gen/board_tray_tex_1024_v1.png");
}


/* ── Keyframe Animations ─────────────────────────────────────────────── */

@keyframes mint-breathe {
  0%, 100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(56, 189, 248, 0); }
  50% { transform: scale(1.02); box-shadow: 0 0 12px 2px rgba(56, 189, 248, 0.26); }
}

@keyframes mint-glow-pulse {
  0%, 100% { box-shadow: 0 0 8px rgba(56, 189, 248, 0.28); }
  50% { box-shadow: 0 0 20px rgba(56, 189, 248, 0.5); }
}

@keyframes mint-pop-in {
  0% { transform: scale(0.7); opacity: 0; }
  70% { transform: scale(1.05); opacity: 1; }
  100% { transform: scale(1); }
}

@keyframes mint-error-shake {
  0%, 100% { transform: translateX(0); }
  20%, 60% { transform: translateX(-3px); }
  40%, 80% { transform: translateX(3px); }
}

@keyframes mint-slide-up {
  0% { opacity: 0; transform: translateY(8px); }
  100% { opacity: 1; transform: translateY(0); }
}

@keyframes mint-fade-in {
  0% { opacity: 0; }
  100% { opacity: 1; }
}

@keyframes mint-board-sheen {
  0% {
    background-position: center, center, -140% 0;
    opacity: 0.46;
  }
  44% {
    background-position: center, center, 36% 0;
    opacity: 0.58;
  }
  100% {
    background-position: center, center, 180% 0;
    opacity: 0.46;
  }
}

/* Card placement: dramatic slam-down with bounce + flash */
@keyframes mint-cell-place {
  0%   { transform: scale(0.5) translateY(-16px); opacity: 0; filter: brightness(1); }
  30%  { transform: scale(1.12) translateY(0); opacity: 1; filter: brightness(1.4); }
  50%  { transform: scale(0.96); filter: brightness(1.1); }
  70%  { transform: scale(1.04); filter: brightness(1); }
  100% { transform: scale(1); filter: brightness(1); }
}

/* Card flip: full 360 rotation with color burst */
@keyframes mint-cell-flip {
  0%   { transform: rotateY(0deg) scale(1); filter: brightness(1); }
  25%  { transform: rotateY(90deg) scale(1.06); filter: brightness(0.7); }
  50%  { transform: rotateY(180deg) scale(1.08); filter: brightness(1.5); }
  75%  { transform: rotateY(270deg) scale(1.04); filter: brightness(1.2); }
  100% { transform: rotateY(360deg) scale(1); filter: brightness(1); }
}

/* Shockwave ripple for placed cells */
@keyframes mint-place-ripple {
  0%   { transform: scale(0.8); opacity: 0.6; }
  100% { transform: scale(2.2); opacity: 0; }
}

/* Glow burst for flipped cells */
@keyframes mint-flip-burst {
  0%   { box-shadow: 0 0 0 0 var(--mint-chain-glow); }
  50%  { box-shadow: 0 0 24px 8px var(--mint-chain-glow); }
  100% { box-shadow: 0 0 12px 2px var(--mint-chain-glow); }
}

/* Shared press feedback for tappable controls */
.mint-pressable {
  transition:
    transform var(--mint-press-transition),
    box-shadow var(--mint-press-transition),
    border-color var(--mint-press-transition),
    background var(--mint-press-transition),
    filter var(--mint-press-transition);
  touch-action: manipulation;
}

.mint-pressable:hover:not(:disabled):not([aria-disabled="true"]) {
  transform: var(--mint-press-hover-transform);
}

.mint-pressable:active:not(:disabled):not([aria-disabled="true"]) {
  transform: var(--mint-press-active-transform);
}

.mint-pressable:focus-visible {
  outline: none;
  box-shadow:
    0 0 0 2px rgba(255, 255, 255, 0.88),
    0 0 0 4px color-mix(in srgb, var(--mint-press-focus-color, var(--mint-accent)) 42%, transparent),
    var(--mint-press-focus-shadow);
}

.mint-pressable--cell {
  --mint-press-focus-color: var(--mint-accent);
  --mint-press-focus-shadow: 0 0 0 2px rgba(56, 189, 248, 0.24), 0 0 14px rgba(56, 189, 248, 0.2);
}

.mint-pressable--card {
  --mint-press-hover-transform: translateY(-5px) scale(1.03);
  --mint-press-active-transform: translateY(-1px) scale(0.99);
  --mint-press-focus-shadow: 0 12px 20px -14px rgba(15, 23, 42, 0.45);
}

.mint-hand-card--a.mint-pressable--card {
  --mint-press-focus-color: var(--mint-pa);
}

.mint-hand-card--b.mint-pressable--card {
  --mint-press-focus-color: var(--mint-pb);
}

.mint-pressable--pill {
  --mint-press-hover-transform: translateY(-1px) scale(1.01);
  --mint-press-active-transform: translateY(0) scale(0.985);
}

/* ── Board Frame ─────────────────────────────────────────────────────── */

.mint-board-frame {
  position: relative;
  background:
    var(--mint-asset-board-tray),
    radial-gradient(circle at 18% 10%, rgba(255, 255, 255, 0.96), rgba(233, 247, 255, 0.9) 42%, rgba(186, 230, 253, 0.64) 100%),
    linear-gradient(160deg, #f8fdff 0%, #dbf2ff 58%, #c4e8ff 100%),
    repeating-linear-gradient(
      135deg,
      rgba(255, 255, 255, 0.08) 0px,
      rgba(255, 255, 255, 0.08) 3px,
      rgba(186, 230, 253, 0.02) 3px,
      rgba(186, 230, 253, 0.02) 16px
    );
  background-size: cover, auto, auto, auto;
  background-repeat: no-repeat, no-repeat, no-repeat, repeat;
  background-blend-mode: soft-light, normal, normal, normal;
  border: 2px solid rgba(125, 211, 252, 0.72);
  border-radius: 22px;
  padding: 12px;
  box-shadow:
    0 0 0 1px rgba(255, 255, 255, 0.56),
    0 20px 36px -22px rgba(14, 165, 233, 0.54),
    0 24px 36px -30px rgba(2, 6, 23, 0.8),
    inset 0 1px 0 rgba(255, 255, 255, 0.9),
    inset 0 -1px 0 rgba(14, 116, 144, 0.14);
}

.mint-board-frame::before {
  content: "";
  position: absolute;
  inset: 6px;
  border-radius: 16px;
  border: 1px solid rgba(255, 255, 255, 0.7);
  box-shadow: inset 0 0 0 1px rgba(125, 211, 252, 0.15);
  pointer-events: none;
}

.mint-board-frame::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background:
    radial-gradient(circle at 78% 16%, rgba(255, 255, 255, 0.5), transparent 38%),
    radial-gradient(circle at 24% 82%, rgba(125, 211, 252, 0.2), transparent 42%);
  pointer-events: none;
  mix-blend-mode: screen;
}

.mint-board-inner {
  position: relative;
  background:
    radial-gradient(circle at 18% 8%, rgba(255, 255, 255, 0.66), transparent 48%),
    linear-gradient(155deg, rgba(237, 252, 249, 0.8), rgba(219, 234, 254, 0.78)),
    linear-gradient(120deg, rgba(167, 243, 208, 0.08), rgba(165, 243, 252, 0.04)),
    url('/board-bg.webp');
  background-size: cover, cover, cover, cover;
  background-position: center, center, center, center;
  background-blend-mode: screen, normal, soft-light, normal;
  border-radius: 16px;
  padding: 10px;
  border: 1px solid rgba(125, 211, 252, 0.52);
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.7),
    inset 0 -14px 24px rgba(2, 132, 199, 0.1),
    inset 0 0 0 1px rgba(255, 255, 255, 0.3),
    0 16px 30px -24px rgba(14, 116, 144, 0.52);
  overflow: hidden;
}

.mint-board-inner::before {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  background:
    linear-gradient(135deg, rgba(255, 255, 255, 0.16), transparent 35%),
    linear-gradient(315deg, rgba(14, 165, 233, 0.12), transparent 48%);
}

.mint-board-inner::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  background:
    var(--mint-asset-noise),
    radial-gradient(circle at 74% 20%, rgba(255, 255, 255, 0.18), transparent 30%),
    repeating-linear-gradient(
      120deg,
      rgba(255, 255, 255, 0.045) 0px,
      rgba(255, 255, 255, 0.045) 5px,
      transparent 5px,
      transparent 24px
    ),
    linear-gradient(
      112deg,
      transparent 22%,
      rgba(255, 255, 255, 0.16) 40%,
      transparent 58%
    );
  background-size: 256px 256px, auto, auto, 220% 100%;
  background-position: center, center, center, -140% 0;
  opacity: 0.5;
  animation: mint-board-sheen 18s ease-in-out infinite;
}


/* ── Grid ─────────────────────────────────────────────────────────────── */

.mint-grid {
  position: relative;
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: clamp(8px, 1vw, 12px);
  padding: 1px;
  transform-style: preserve-3d;
  perspective: 900px;
}

.mint-grid::before {
  content: "";
  position: absolute;
  inset: -6px;
  pointer-events: none;
  border-radius: 16px;
  background:
    radial-gradient(circle at 50% 42%, rgba(125, 211, 252, 0.16), transparent 54%);
  filter: blur(10px);
  opacity: 0.66;
  z-index: 0;
}


/* ── Cell ─────────────────────────────────────────────────────────────── */

.mint-cell {
  position: relative;
  aspect-ratio: 1;
  border-radius: 16px;
  border: 2px solid var(--mint-cell-flat);
  background:
    radial-gradient(circle at 24% 16%, rgba(255, 255, 255, 0.58), transparent 38%),
    linear-gradient(168deg, rgba(255, 255, 255, 0.94), rgba(241, 245, 249, 0.86));
  overflow: hidden;
  transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease, background 0.2s ease, filter 0.2s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  perspective: 600px;
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.72),
    inset 0 -1px 0 rgba(148, 163, 184, 0.26),
    0 8px 14px -10px rgba(15, 23, 42, 0.58);
  transform: translateZ(0);
  z-index: 1;
}

.mint-cell::before {
  content: "";
  position: absolute;
  inset: 1px;
  border-radius: 14px;
  pointer-events: none;
  background:
    linear-gradient(180deg, rgba(255, 255, 255, 0.24), transparent 44%),
    linear-gradient(0deg, rgba(148, 163, 184, 0.09), transparent 42%);
  z-index: 1;
}

.mint-cell::after {
  content: "";
  position: absolute;
  inset: 2px;
  border-radius: 13px;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.2s ease;
}

/* Selectable (empty, interactive) — puffy + glow */
.mint-cell--selectable {
  cursor: pointer;
  border-color: rgba(110, 231, 183, 0.72);
  background:
    radial-gradient(circle at 26% 14%, rgba(255, 255, 255, 0.72), transparent 34%),
    linear-gradient(135deg, rgba(236, 253, 245, 0.7), rgba(255, 255, 255, 0.58));
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px);
  animation: mint-breathe 2.5s ease-in-out infinite;
  will-change: transform, box-shadow;
}

.mint-cell--selectable::after {
  opacity: 0.72;
  background:
    radial-gradient(circle at 26% 18%, rgba(255, 255, 255, 0.34), transparent 44%),
    linear-gradient(165deg, rgba(45, 212, 191, 0.12), transparent 58%);
}

.mint-cell--selectable:hover {
  border-color: rgba(52, 211, 153, 0.86);
  box-shadow:
    0 0 0 1px rgba(45, 212, 191, 0.4) inset,
    0 0 14px rgba(45, 212, 191, 0.24),
    0 12px 18px -12px rgba(14, 116, 144, 0.44);
  transform: translateY(-2px) scale(1.03);
}

.mint-cell--selectable:active {
  transform: translateY(0) scale(0.985);
}

.mint-cell--drop-ready {
  border-style: dashed;
  border-width: 2px;
  border-color: rgba(45, 212, 191, 0.78);
  box-shadow:
    0 0 0 1px rgba(45, 212, 191, 0.38) inset,
    0 0 12px rgba(45, 212, 191, 0.22),
    0 10px 18px -14px rgba(14, 116, 144, 0.5);
}

.mint-cell--drop-ready .mint-cell__empty-label {
  color: #0ea5e9;
  font-weight: 700;
}

/* Flat (empty, non-interactive) — sunken, semi-transparent on board bg */
.mint-cell--flat {
  cursor: default;
  border-color: rgba(148, 163, 184, 0.32);
  background:
    var(--mint-asset-slot-shadow),
    linear-gradient(180deg, rgba(255, 255, 255, 0.2), rgba(203, 213, 225, 0.24));
  background-size: cover, auto;
  background-repeat: no-repeat, no-repeat;
  background-position: center, center;
  backdrop-filter: blur(2px);
  -webkit-backdrop-filter: blur(2px);
  box-shadow:
    inset 0 8px 12px rgba(148, 163, 184, 0.18),
    inset 0 -10px 14px rgba(255, 255, 255, 0.14),
    inset 0 1px 0 rgba(255, 255, 255, 0.28),
    0 2px 4px -4px rgba(15, 23, 42, 0.4);
}

.mint-cell--flat::after {
  opacity: 0.68;
  background:
    linear-gradient(180deg, rgba(255, 255, 255, 0.22), transparent 28%),
    linear-gradient(0deg, rgba(15, 23, 42, 0.12), transparent 40%),
    linear-gradient(130deg, transparent 42%, rgba(255, 255, 255, 0.2) 52%, transparent 64%);
}

.mint-cell--warning-mode {
  border-color: rgba(251, 191, 36, 0.6);
  background:
    radial-gradient(circle at 26% 14%, rgba(255, 251, 235, 0.76), transparent 34%),
    linear-gradient(135deg, rgba(255, 247, 237, 0.72), rgba(255, 237, 213, 0.52));
  box-shadow:
    0 0 0 1px rgba(245, 158, 11, 0.24) inset,
    0 0 14px rgba(245, 158, 11, 0.2),
    0 10px 18px -14px rgba(120, 53, 15, 0.5);
}

.mint-cell--warning-mode .mint-cell__empty-label {
  color: #b45309;
}

/* Selected */
.mint-cell--selected {
  --mint-selected-ring: var(--mint-accent);
  --mint-selected-glow: var(--mint-cell-active-glow);
  border-color: var(--mint-accent) !important;
  box-shadow:
    0 0 0 3px color-mix(in srgb, var(--mint-selected-ring) 34%, transparent),
    0 0 18px var(--mint-selected-glow),
    0 12px 20px -14px rgba(14, 116, 144, 0.46) !important;
  transform: translateY(-1px);
  animation: mint-glow-pulse 2s ease-in-out infinite !important;
}

/* Placed (just placed) — dramatic slam with ripple ring */
.mint-cell--placed {
  animation: mint-cell-place 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards !important;
  border-color: var(--mint-flip) !important;
  box-shadow:
    0 0 20px var(--mint-flip-glow),
    0 0 4px rgba(245, 158, 11, 0.6),
    0 14px 20px -14px rgba(120, 53, 15, 0.5),
    inset 0 0 8px rgba(245, 158, 11, 0.15) !important;
}
.mint-cell--placed::after {
  content: '';
  position: absolute;
  inset: -4px;
  border-radius: 18px;
  border: 2px solid var(--mint-flip);
  animation: mint-place-ripple 0.6s ease-out forwards;
  pointer-events: none;
}

/* Flipped — dramatic rotation with glow burst */
.mint-cell--flipped {
  animation: mint-cell-flip 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards,
             mint-flip-burst 0.6s ease-out forwards !important;
  border-color: var(--mint-chain) !important;
  box-shadow:
    0 0 18px rgba(139, 92, 246, 0.36),
    0 12px 20px -14px rgba(76, 29, 149, 0.46),
    inset 0 0 8px rgba(139, 92, 246, 0.14);
}

/* Stagger flip delays — wider stagger for dramatic cascade */
.mint-cell--flip-delay-1 { animation-delay: 0.2s !important; }
.mint-cell--flip-delay-2 { animation-delay: 0.4s !important; }
.mint-cell--flip-delay-3 { animation-delay: 0.6s !important; }

/* Owner tints */
.mint-cell--owner-a {
  border-color: var(--mint-pa);
  background:
    radial-gradient(circle at 22% 12%, rgba(224, 242, 254, 0.44), transparent 36%),
    var(--mint-pa-bg);
  box-shadow:
    inset 0 1px 0 rgba(224, 242, 254, 0.72),
    0 10px 16px -12px rgba(14, 165, 233, 0.65),
    0 0 0 1px rgba(56, 189, 248, 0.12);
}

.mint-cell--owner-b {
  border-color: var(--mint-pb);
  background:
    radial-gradient(circle at 22% 12%, rgba(255, 228, 230, 0.42), transparent 36%),
    var(--mint-pb-bg);
  box-shadow:
    inset 0 1px 0 rgba(255, 228, 230, 0.72),
    0 10px 16px -12px rgba(244, 63, 94, 0.6),
    0 0 0 1px rgba(251, 113, 133, 0.11);
}

/* Focus ring (replay) */
.mint-cell--focus {
  box-shadow:
    0 0 0 2px var(--mint-accent),
    0 0 0 4px rgba(56, 189, 248, 0.24),
    0 0 16px rgba(56, 189, 248, 0.28);
}

/* Coordinate label */
.mint-cell__coord {
  position: absolute;
  top: 2px;
  left: 4px;
  font-size: 8px;
  font-family: 'JetBrains Mono', monospace;
  color: var(--mint-text-hint);
  opacity: 0.5;
  pointer-events: none;
  z-index: 2;
}

/* Warning mark */
.mint-cell__warning {
  position: absolute;
  top: 3px;
  right: 3px;
  width: 18px;
  height: 18px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 9px;
  font-weight: 800;
  color: white;
  z-index: 5;
}

.mint-cell__warning--a { background: var(--mint-pa); }
.mint-cell__warning--b { background: var(--mint-pb); }

/* Empty cell label */
.mint-cell__empty-label {
  font-size: 11px;
  font-weight: 600;
  color: var(--mint-text-hint);
  user-select: none;
}

.mint-cell--selectable .mint-cell__empty-label {
  color: var(--mint-text-accent);
}


/* ── Score Bar ────────────────────────────────────────────────────────── */

.mint-scorebar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 10px 16px;
  border-radius: 16px;
  background: var(--mint-surface);
  border: 1px solid var(--mint-accent-muted);
  box-shadow: 0 2px 8px -2px rgba(56, 189, 248, 0.16);
}

.mint-scorebar__player {
  display: flex;
  align-items: center;
  gap: 8px;
}

.mint-scorebar__dot {
  width: 10px;
  height: 10px;
  border-radius: 50%;
}

.mint-scorebar__dot--a { background: var(--mint-pa); box-shadow: 0 0 6px var(--mint-pa-glow); }
.mint-scorebar__dot--b { background: var(--mint-pb); box-shadow: 0 0 6px var(--mint-pb-glow); }

.mint-scorebar__label {
  font-size: 13px;
  font-weight: 700;
  font-family: 'Nunito', sans-serif;
}

.mint-scorebar__label--a { color: var(--mint-pa); }
.mint-scorebar__label--b { color: var(--mint-pb); }

.mint-scorebar__count {
  font-size: 13px;
  font-weight: 600;
  font-family: 'JetBrains Mono', monospace;
  color: var(--mint-text-primary);
}

.mint-scorebar__turn {
  font-size: 12px;
  color: var(--mint-text-hint);
}

/* ── Top HUD (WO012) ─────────────────────────────────────────────────── */

@keyframes mint-top-hud-sheen {
  0% {
    transform: translateX(-120%);
    opacity: 0;
  }
  20% {
    opacity: 0.32;
  }
  40% {
    transform: translateX(128%);
    opacity: 0;
  }
  100% {
    transform: translateX(128%);
    opacity: 0;
  }
}

@keyframes mint-top-turn-pulse {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.05);
  }
}

.mint-top-hud-row {
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap;
}

.mint-top-hud-row__main {
  flex: 1 1 300px;
  min-width: 0;
}

.mint-top-hud {
  position: relative;
  display: grid;
  grid-template-columns: minmax(96px, 1fr) auto auto;
  align-items: center;
  gap: 10px;
  min-height: 60px;
  padding: 9px 12px;
  border-radius: 20px;
  border: 1px solid rgba(148, 211, 252, 0.6);
  background:
    radial-gradient(circle at 18% -20%, rgba(125, 211, 252, 0.3), transparent 40%),
    linear-gradient(160deg, rgba(255, 255, 255, 0.84), rgba(240, 249, 255, 0.72));
  box-shadow:
    0 16px 28px -24px rgba(14, 116, 144, 0.75),
    0 8px 20px rgba(15, 23, 42, 0.08),
    inset 0 1px 0 rgba(255, 255, 255, 0.74);
  backdrop-filter: blur(13px) saturate(1.1);
  -webkit-backdrop-filter: blur(13px) saturate(1.1);
  overflow: hidden;
}

.mint-top-hud::before {
  content: "";
  position: absolute;
  top: 0;
  bottom: 0;
  left: -28%;
  width: 28%;
  background: linear-gradient(104deg, transparent, rgba(255, 255, 255, 0.46), transparent);
  pointer-events: none;
  animation: mint-top-hud-sheen 11s ease-in-out infinite;
}

.mint-top-hud > * {
  position: relative;
  z-index: 1;
}

.mint-top-hud__logo {
  min-width: 0;
  display: grid;
  line-height: 1;
}

.mint-top-hud__logo-main {
  font-family: var(--font-display, "Baloo 2", sans-serif);
  font-size: clamp(16px, 3.4vw, 24px);
  font-weight: 800;
  letter-spacing: 0.01em;
  color: #5b21b6;
  text-shadow:
    0 0 0 rgba(255, 255, 255, 0.85),
    0 2px 0 rgba(255, 255, 255, 0.55),
    0 6px 14px rgba(125, 211, 252, 0.34);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.mint-top-hud__logo-sub {
  margin-top: 1px;
  font-family: var(--font-display, "Baloo 2", sans-serif);
  font-size: clamp(12px, 2.3vw, 16px);
  font-weight: 700;
  letter-spacing: 0.04em;
  color: rgba(91, 33, 182, 0.74);
  text-transform: uppercase;
}

.mint-top-hud__score {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  min-height: 40px;
  padding: 6px 12px;
  border-radius: 999px;
  border: 1px solid rgba(125, 211, 252, 0.56);
  background:
    linear-gradient(160deg, rgba(255, 255, 255, 0.78), rgba(224, 242, 254, 0.56));
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.7),
    0 8px 18px -14px rgba(14, 116, 144, 0.72);
  white-space: nowrap;
}

.mint-top-hud__score-side {
  display: inline-flex;
  align-items: center;
  gap: 4px;
}

.mint-top-hud__score-icon {
  width: 9px;
  height: 9px;
  border-radius: 50%;
  box-shadow: 0 0 9px rgba(14, 165, 233, 0.4);
}

.mint-top-hud__score-side--a .mint-top-hud__score-icon {
  background: var(--mint-pa, #0EA5E9);
  box-shadow: 0 0 9px var(--mint-pa-glow, rgba(14, 165, 233, 0.4));
}

.mint-top-hud__score-side--b .mint-top-hud__score-icon {
  background: var(--mint-pb, #F43F5E);
  box-shadow: 0 0 9px var(--mint-pb-glow, rgba(244, 63, 94, 0.4));
}

.mint-top-hud__score-label {
  font-family: var(--font-display, system-ui);
  font-size: 13px;
  font-weight: 700;
  color: var(--mint-text-secondary, #4B5563);
}

.mint-top-hud__score-value {
  min-width: 1ch;
  text-align: center;
  font-family: var(--font-mono, "JetBrains Mono", monospace);
  font-size: 20px;
  line-height: 1;
  font-weight: 700;
  color: var(--mint-text-primary, #1F2937);
}

.mint-top-hud__score-separator {
  font-family: var(--font-display, system-ui);
  font-size: 12px;
  font-weight: 700;
  color: rgba(100, 116, 139, 0.75);
}

.mint-top-hud__current-player {
  margin-left: 2px;
  min-width: 22px;
  height: 22px;
  border-radius: 999px;
  border: 1px solid rgba(125, 211, 252, 0.5);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 11px;
  font-weight: 700;
  color: #0f4c6b;
  background: rgba(224, 242, 254, 0.72);
}

.mint-top-hud__turn {
  min-height: 40px;
  display: inline-flex;
  align-items: center;
  gap: 7px;
  padding: 6px 12px;
  border-radius: 999px;
  border: 1px solid rgba(147, 197, 253, 0.6);
  background:
    linear-gradient(165deg, rgba(255, 255, 255, 0.86), rgba(224, 242, 254, 0.68));
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.7),
    0 10px 18px -14px rgba(14, 116, 144, 0.7);
  white-space: nowrap;
}

.mint-top-hud__turn-label {
  font-family: var(--font-display, system-ui);
  font-size: 10px;
  font-weight: 800;
  letter-spacing: 0.08em;
  color: var(--mint-text-secondary, #4B5563);
}

.mint-top-hud__turn-value {
  font-family: var(--font-mono, "JetBrains Mono", monospace);
  font-size: 17px;
  line-height: 1;
  font-weight: 700;
  color: var(--mint-text-primary, #1F2937);
}

@media (max-width: 760px) {
  .mint-top-hud {
    min-height: 56px;
    border-radius: 16px;
    gap: 8px;
    padding: 8px 10px;
    grid-template-columns: minmax(80px, 1fr) auto auto;
  }

  .mint-top-hud__score {
    padding: 5px 10px;
    gap: 6px;
  }

  .mint-top-hud__score-value {
    font-size: 17px;
  }

  .mint-top-hud__current-player {
    min-width: 20px;
    height: 20px;
    font-size: 10px;
  }

  .mint-top-hud__turn {
    padding: 5px 10px;
  }

  .mint-top-hud__turn-value {
    font-size: 15px;
  }
}

@media (max-width: 520px) {
  .mint-top-hud {
    grid-template-columns: 1fr auto;
    grid-template-areas:
      "logo turn"
      "score score";
    row-gap: 7px;
  }

  .mint-top-hud__logo { grid-area: logo; }
  .mint-top-hud__score { grid-area: score; justify-self: stretch; }
  .mint-top-hud__turn { grid-area: turn; }
}

@media (max-width: 380px) {
  .mint-top-hud__logo-main {
    font-size: 14px;
  }

  .mint-top-hud__logo-sub {
    font-size: 11px;
  }

  .mint-top-hud__score-label {
    font-size: 12px;
  }

  .mint-top-hud__score-value {
    font-size: 15px;
  }

  .mint-top-hud__turn-value {
    font-size: 14px;
  }
}

[data-vfx="high"] .mint-top-hud__turn-value {
  animation: mint-top-turn-pulse 1.8s ease-in-out infinite;
}

/* ── Battle Layout + Player Side Panels (WO013) ─────────────────────── */

.mint-battle-layout {
  display: grid;
  grid-template-columns: minmax(80px, 102px) minmax(0, 1fr) minmax(80px, 102px);
  align-items: start;
  gap: 8px;
}

.mint-battle-layout__board {
  min-width: 0;
}

.mint-player-panel {
  position: relative;
  display: grid;
  justify-items: center;
  gap: 6px;
  min-height: 152px;
  padding: 7px 6px 8px;
  border-radius: 16px;
  border: 1px solid rgba(148, 211, 252, 0.58);
  background:
    radial-gradient(circle at 15% -20%, rgba(125, 211, 252, 0.24), transparent 42%),
    linear-gradient(165deg, rgba(255, 255, 255, 0.82), rgba(238, 250, 255, 0.7));
  box-shadow:
    0 16px 26px -22px rgba(14, 116, 144, 0.7),
    0 10px 16px rgba(15, 23, 42, 0.08),
    inset 0 1px 0 rgba(255, 255, 255, 0.72);
  backdrop-filter: blur(12px) saturate(1.08);
  -webkit-backdrop-filter: blur(12px) saturate(1.08);
}

.mint-player-panel--a {
  border-color: rgba(56, 189, 248, 0.62);
}

.mint-player-panel--b {
  border-color: rgba(251, 113, 133, 0.45);
}

.mint-player-panel--active {
  box-shadow:
    0 18px 30px -22px rgba(14, 116, 144, 0.82),
    0 14px 18px rgba(15, 23, 42, 0.12),
    0 0 0 1px rgba(125, 211, 252, 0.44) inset,
    inset 0 1px 0 rgba(255, 255, 255, 0.78);
}

.mint-player-panel__avatar {
  padding: 6px;
  border-radius: 999px;
  border: 1px solid rgba(255, 255, 255, 0.74);
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.62), rgba(224, 242, 254, 0.46));
}

.mint-player-panel__name {
  font-family: var(--font-display, "Baloo 2", sans-serif);
  font-size: 12px;
  font-weight: 700;
  color: var(--mint-text-primary, #1F2937);
  text-align: center;
}

.mint-player-panel__remaining {
  display: grid;
  justify-items: center;
  gap: 2px;
  width: 100%;
  border-radius: 12px;
  border: 1px solid rgba(148, 163, 184, 0.3);
  background: rgba(255, 255, 255, 0.56);
  padding: 6px 8px;
}

.mint-player-panel__remaining-label {
  font-size: 10px;
  font-weight: 600;
  color: var(--mint-text-secondary, #4B5563);
}

.mint-player-panel__remaining-value {
  font-family: var(--font-mono, "JetBrains Mono", monospace);
  font-size: 18px;
  line-height: 1;
  font-weight: 700;
  color: var(--mint-text-primary, #1F2937);
}

.mint-player-panel__stack {
  position: relative;
  width: 28px;
  height: 22px;
}

.mint-player-panel__stack span {
  position: absolute;
  left: 50%;
  width: 18px;
  height: 11px;
  transform: translateX(-50%) skewX(-12deg);
  border-radius: 4px;
  border: 1px solid rgba(125, 211, 252, 0.64);
  background: linear-gradient(165deg, rgba(255, 255, 255, 0.84), rgba(224, 242, 254, 0.64));
  box-shadow: 0 5px 8px -8px rgba(14, 116, 144, 0.9);
}

.mint-player-panel__stack span:nth-child(1) { top: 10px; }
.mint-player-panel__stack span:nth-child(2) { top: 5px; left: calc(50% - 1px); }
.mint-player-panel__stack span:nth-child(3) { top: 1px; left: calc(50% - 2px); }

@media (max-width: 1240px) {
  .mint-battle-layout {
    grid-template-columns: minmax(72px, 90px) minmax(0, 1fr) minmax(72px, 90px);
    gap: 7px;
  }

  .mint-player-panel {
    min-height: 142px;
    padding: 6px 5px 7px;
  }
}

@media (max-width: 1024px) {
  .mint-battle-layout {
    grid-template-columns: minmax(0, 1fr);
  }

  .mint-player-panel {
    display: none;
  }
}


/* ── Action Prompt (NIN-UX-011) ──────────────────────────────────────── */

.mint-prompt-slot {
  min-height: 82px;
  display: grid;
  align-items: center;
}

.mint-prompt-slot--hidden {
  min-height: 0;
  display: none;
}

.mint-ai-notice-slot {
  min-height: 40px;
  display: grid;
  align-items: stretch;
}

.mint-ai-notice {
  display: flex;
  align-items: center;
  min-height: 40px;
  border-radius: 10px;
  border: 1px solid rgba(251, 191, 36, 0.55);
  background: rgba(254, 243, 199, 0.85);
  padding: 6px 10px;
  font-size: 12px;
  color: #92400e;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.mint-ai-notice--placeholder {
  visibility: hidden;
  pointer-events: none;
}

.mint-status-summary-slot {
  min-height: 40px;
  display: grid;
  align-items: stretch;
}

.mint-announcer-stack {
  display: grid;
  gap: clamp(6px, 0.9vw, 10px);
  align-content: start;
}

.mint-status-summary {
  display: flex;
  align-items: center;
  min-height: 40px;
  border-radius: 10px;
  border: 1px solid rgba(245, 158, 11, 0.28);
  background: var(--mint-warning-bg, rgba(255, 251, 235, 0.92));
  color: var(--mint-flip, #b45309);
  padding: 6px 10px;
  font-size: 12px;
  font-weight: 700;
}

.mint-status-summary__text {
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  line-height: 1.25;
  width: 100%;
}

.mint-status-summary--placeholder {
  visibility: hidden;
  pointer-events: none;
}

.mint-prompt {
  min-height: 74px;
  max-width: 360px;
  margin: 0 auto;
  padding: 8px 16px 8px;
  border-radius: 999px;
  border: 1.5px solid rgba(147, 197, 253, 0.68);
  background:
    radial-gradient(circle at 18% -28%, rgba(125, 211, 252, 0.3), transparent 44%),
    linear-gradient(165deg, rgba(255, 255, 255, 0.86), rgba(224, 242, 254, 0.7));
  box-shadow:
    0 16px 24px -22px rgba(14, 116, 144, 0.8),
    0 10px 16px rgba(15, 23, 42, 0.08),
    inset 0 1px 0 rgba(255, 255, 255, 0.74);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  animation: mint-slide-up 0.3s ease-out;
  text-align: center;
  display: grid;
  align-content: center;
  justify-items: center;
  gap: 2px;
}

/* Warning mode prompt */
.mint-prompt--warning {
  background:
    radial-gradient(circle at 18% -28%, rgba(251, 191, 36, 0.3), transparent 44%),
    linear-gradient(165deg, rgba(255, 255, 255, 0.88), rgba(255, 247, 214, 0.74));
  border-color: rgba(251, 191, 36, 0.5);
}

.mint-prompt__ja {
  font-size: clamp(14px, 1.8vw, 19px);
  line-height: 1.08;
  font-weight: 800;
  letter-spacing: 0.02em;
  font-family: var(--font-display, "Baloo 2", sans-serif);
  color: #5b21b6;
  text-shadow:
    0 2px 0 rgba(255, 255, 255, 0.58),
    0 7px 16px rgba(125, 211, 252, 0.28);
}

.mint-prompt__en {
  margin-top: 1px;
  font-size: 11px;
  line-height: 1.15;
  font-weight: 700;
  letter-spacing: 0.03em;
  font-family: var(--font-display, "Baloo 2", sans-serif);
  color: rgba(91, 33, 182, 0.78);
}

.mint-prompt__text {
  font-size: clamp(13px, 1.6vw, 17px);
  line-height: 1.12;
  font-weight: 700;
  letter-spacing: 0.01em;
  font-family: var(--font-display, "Baloo 2", sans-serif);
  color: #5b21b6;
}

.mint-prompt__ja--ai,
.mint-prompt__en--ai,
.mint-prompt__text--ai {
  color: var(--mint-text-hint);
  font-style: italic;
  text-shadow: none;
}


/* ── Inline Error (NIN-UX-012) ───────────────────────────────────────── */

.mint-error-pill {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 6px 14px;
  border-radius: 20px;
  background: var(--mint-error-bg);
  border: 1px solid rgba(248, 113, 113, 0.3);
  font-size: 13px;
  font-weight: 500;
  color: var(--mint-error);
  animation: mint-error-shake 0.4s ease-in-out, mint-fade-in 0.2s ease-out;
}

.mint-error-pill__icon {
  font-size: 14px;
}


/* ── Hand Card ────────────────────────────────────────────────────────── */

.mint-hand-tray {
  position: relative;
  border-radius: 24px;
  border: 1px solid rgba(148, 211, 252, 0.58);
  background:
    radial-gradient(circle at 14% -22%, rgba(125, 211, 252, 0.2), transparent 40%),
    radial-gradient(circle at 86% 118%, rgba(186, 230, 253, 0.24), transparent 46%),
    linear-gradient(168deg, rgba(255, 255, 255, 0.9), rgba(238, 250, 255, 0.8));
  box-shadow:
    0 16px 28px -22px rgba(14, 116, 144, 0.78),
    0 10px 18px rgba(15, 23, 42, 0.08),
    inset 0 1px 0 rgba(255, 255, 255, 0.76);
  padding: 9px 10px 10px;
  overflow: hidden;
}

.mint-hand-tray::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  border-radius: inherit;
  background:
    linear-gradient(104deg, transparent 0%, rgba(255, 255, 255, 0.3) 42%, transparent 64%),
    repeating-linear-gradient(
      120deg,
      rgba(255, 255, 255, 0.05) 0px,
      rgba(255, 255, 255, 0.05) 7px,
      transparent 7px,
      transparent 28px
    );
  opacity: 0.4;
}

.mint-hand {
  display: flex;
  gap: 0;
  justify-content: center;
  flex-wrap: nowrap;
  padding: 8px 10px 10px;
  overflow-x: auto;
  overflow-y: visible;
  scrollbar-width: thin;
  scrollbar-color: rgba(56, 189, 248, 0.42) transparent;
}

.mint-hand-tray__rail {
  position: relative;
  z-index: 1;
}

.mint-hand::-webkit-scrollbar {
  height: 6px;
}

.mint-hand::-webkit-scrollbar-thumb {
  background: rgba(56, 189, 248, 0.38);
  border-radius: 999px;
}

.mint-hand-card {
  position: relative;
  width: 82px;
  aspect-ratio: 3 / 4;
  border-radius: 16px;
  border: 2px solid var(--mint-cell-flat);
  background: var(--mint-surface);
  padding: 4px;
  cursor: pointer;
  transition:
    transform var(--mint-press-transition),
    box-shadow var(--mint-press-transition),
    border-color var(--mint-press-transition),
    filter var(--mint-press-transition);
  flex-shrink: 0;
  /* Subtle depth even at rest */
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.06), 0 1px 2px rgba(0, 0, 0, 0.04);
}

.mint-hand-card--stacked {
  margin-left: -12px;
}

.mint-hand-card--draggable {
  cursor: grab;
}

.mint-hand-card--draggable:active {
  cursor: grabbing;
}

.mint-hand-card:hover:not(.mint-hand-card--used) {
  transform: translateY(-6px) scale(1.03);
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12), 0 2px 4px rgba(0, 0, 0, 0.06);
}

.mint-hand-card--a { border-color: rgba(14, 165, 233, 0.35); }
.mint-hand-card--b { border-color: rgba(244, 63, 94, 0.35); }

.mint-hand-card--selected {
  transform: translateY(-12px) scale(1.05) !important;
  --mint-selected-ring: var(--mint-accent);
  --mint-selected-glow: var(--mint-cell-active-glow);
  border-color: var(--mint-selected-ring) !important;
  animation: mint-card-select-glow 1.5s ease-in-out infinite;
  box-shadow:
    0 0 0 2px var(--mint-selected-ring),
    0 0 20px var(--mint-selected-glow),
    0 12px 24px rgba(0, 0, 0, 0.14) !important;
}

.mint-hand-card--a.mint-hand-card--selected {
  --mint-selected-ring: var(--mint-pa, #0EA5E9);
  --mint-selected-glow: var(--mint-pa-glow, rgba(14, 165, 233, 0.4));
}

.mint-hand-card--b.mint-hand-card--selected {
  --mint-selected-ring: var(--mint-pb, #F43F5E);
  --mint-selected-glow: var(--mint-pb-glow, rgba(244, 63, 94, 0.4));
}

.mint-hand-card--used {
  opacity: 0.3;
  transform: scale(0.88);
  pointer-events: none;
  filter: grayscale(0.6);
}

.mint-hand-card__slot {
  position: absolute;
  top: -7px;
  right: -7px;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 10px;
  font-weight: 800;
  color: white;
  z-index: 5;
  border: 2px solid var(--mint-surface);
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.2);
}

.mint-hand-card__slot--a { background: var(--mint-pa); }
.mint-hand-card__slot--b { background: var(--mint-pb); }

/* ── Focus Hand Rail (Engine Focus / Stage) ─────────────────────────── */

@keyframes mint-focus-hand-sheen {
  0% {
    transform: translateX(-118%);
    opacity: 0;
  }
  16% {
    opacity: 0.4;
  }
  34% {
    transform: translateX(128%);
    opacity: 0;
  }
  100% {
    transform: translateX(128%);
    opacity: 0;
  }
}

.mint-focus-hand-dock {
  position: relative;
  overflow: hidden;
  background:
    radial-gradient(circle at 86% -22%, rgba(56, 189, 248, 0.2), transparent 42%),
    radial-gradient(circle at 10% 120%, rgba(186, 230, 253, 0.24), transparent 46%),
    linear-gradient(170deg, rgba(255, 255, 255, 0.92), rgba(237, 248, 255, 0.82));
  border-color: rgba(56, 189, 248, 0.56) !important;
  box-shadow:
    0 16px 32px rgba(2, 6, 23, 0.2),
    0 0 0 1px rgba(125, 211, 252, 0.34),
    inset 0 1px 0 rgba(255, 255, 255, 0.78);
}

.mint-focus-hand-dock::before {
  content: "";
  position: absolute;
  inset: 0 0 auto;
  height: 48%;
  pointer-events: none;
  border-radius: inherit;
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.32), transparent);
  opacity: 0.8;
}

.mint-focus-hand-dock::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  border-radius: inherit;
  background:
    linear-gradient(106deg, transparent 0%, rgba(255, 255, 255, 0.34) 44%, transparent 66%),
    repeating-linear-gradient(
      120deg,
      rgba(255, 255, 255, 0.05) 0px,
      rgba(255, 255, 255, 0.05) 7px,
      transparent 7px,
      transparent 30px
    );
  opacity: 0.46;
  animation: mint-focus-hand-sheen 13s ease-in-out infinite;
}

.mint-focus-hand-row {
  position: relative;
  z-index: 1;
  display: flex;
  gap: 10px;
  overflow-x: auto;
  padding: 4px 2px 8px;
  perspective: 920px;
  scroll-snap-type: x proximity;
}

.mint-focus-hand-row::-webkit-scrollbar {
  height: 8px;
}

.mint-focus-hand-row::-webkit-scrollbar-thumb {
  background: rgba(148, 163, 184, 0.45);
  border-radius: 999px;
}

.mint-focus-hand-row::-webkit-scrollbar-track {
  background: transparent;
}

.mint-focus-hand-card {
  --focus-hand-rot: 0deg;
  --focus-hand-drop: 0px;
  position: relative;
  width: 92px;
  flex-shrink: 0;
  overflow: hidden;
  border-radius: 14px;
  border: 1px solid rgba(125, 211, 252, 0.44);
  background: linear-gradient(165deg, rgba(255, 255, 255, 0.88), rgba(241, 245, 249, 0.84));
  padding: 4px;
  transform-origin: 50% 110%;
  transform: translateY(var(--focus-hand-drop)) rotate(var(--focus-hand-rot)) translateZ(0);
  box-shadow:
    0 10px 18px -12px rgba(15, 23, 42, 0.42),
    inset 0 1px 0 rgba(255, 255, 255, 0.64);
  scroll-snap-align: center;
  transition: transform 170ms ease, box-shadow 170ms ease, border-color 170ms ease, opacity 170ms ease;
}

.mint-focus-hand-card::before {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  border-radius: inherit;
  background:
    radial-gradient(circle at 24% 14%, rgba(255, 255, 255, 0.24), transparent 42%),
    linear-gradient(180deg, rgba(255, 255, 255, 0.22), transparent 42%);
  z-index: 3;
}

.mint-focus-hand-card::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  border-radius: inherit;
  border: 1px solid rgba(255, 255, 255, 0.3);
  box-shadow: inset 0 -1px 0 rgba(15, 23, 42, 0.18);
  z-index: 3;
}

.mint-focus-hand-card:hover:not(.mint-focus-hand-card--used):not(.mint-focus-hand-card--selected) {
  transform: translateY(calc(var(--focus-hand-drop) - 8px)) rotate(var(--focus-hand-rot)) scale(1.015);
  border-color: rgba(56, 189, 248, 0.78);
  box-shadow:
    0 18px 24px -14px rgba(14, 116, 144, 0.42),
    0 0 18px rgba(56, 189, 248, 0.18);
}

.mint-focus-hand-card--selected {
  border-color: rgba(56, 189, 248, 0.95);
  box-shadow:
    0 0 0 2px rgba(125, 211, 252, 0.6),
    0 18px 28px rgba(8, 47, 73, 0.34),
    0 0 22px rgba(56, 189, 248, 0.3);
  transform: translateY(-14px) scale(1.055) rotate(var(--focus-hand-rot));
}

.mint-focus-hand-card--used {
  opacity: 0.44;
  filter: grayscale(0.26) saturate(0.74);
  box-shadow: 0 8px 16px -12px rgba(15, 23, 42, 0.35);
}

.mint-focus-hand-card--loading {
  width: 86px;
  height: 112px;
  display: grid;
  place-items: center;
  text-align: center;
  background:
    linear-gradient(180deg, rgba(226, 232, 240, 0.88), rgba(241, 245, 249, 0.88));
}

.mint-focus-hand-actions {
  position: relative;
  z-index: 1;
}

.mint-focus-hand-dock--inline {
  position: sticky;
}

.mint-focus-hand-dock--stage {
  position: fixed;
  left: 50%;
  bottom: max(6px, env(safe-area-inset-bottom));
  transform: translate(-50%, 0);
  width: min(1120px, calc(100vw - env(safe-area-inset-left) - env(safe-area-inset-right) - 16px));
  padding: 4px 8px;
  z-index: 42;
  backdrop-filter: blur(14px) saturate(1.06);
  -webkit-backdrop-filter: blur(14px) saturate(1.06);
  pointer-events: auto;
}

@media (min-width: 1200px) and (min-height: 700px) {
  .mint-focus-hand-dock--stage {
    transform: translate(-50%, 10px);
  }
}

.mint-focus-hand-dock--stage .mint-focus-hand-row {
  gap: 8px;
  padding: 2px 0 4px;
}

.mint-focus-hand-dock--stage .mint-focus-hand-card {
  width: 72px;
}

.mint-focus-hand-dock--stage .mint-focus-hand-actions {
  gap: 6px;
}

.mint-focus-hand-dock--stage .mint-focus-hand-actions .input {
  min-height: 32px;
  height: 32px;
  min-width: 132px;
  font-size: 11px;
}

.mint-focus-hand-dock--stage .mint-focus-hand-actions .btn {
  min-height: 32px;
  padding: 0 10px;
  font-size: 11px;
}

/* Stage page hierarchy */
@keyframes mint-stage-atmo-drift {
  0% {
    transform: translate3d(-2%, -1%, 0) scale(1);
  }
  100% {
    transform: translate3d(2%, 1%, 0) scale(1.04);
  }
}

@keyframes mint-stage-board-breathe {
  0% {
    transform: translate3d(-1.5%, -1%, 0) scale(1);
  }
  100% {
    transform: translate3d(1.5%, 1%, 0) scale(1.03);
  }
}

@keyframes mint-stage-board-glint {
  0% {
    background-position: -140% 0, 0 0;
  }
  48% {
    background-position: -140% 0, 0 0;
  }
  100% {
    background-position: 140% 0, 0 0;
  }
}

.stage-focus-root {
  --stage-focus-hand-dock-height: clamp(196px, 27vh, 250px);
  display: grid;
  grid-template-rows: auto minmax(0, 1fr);
  gap: var(--stage-focus-gap, 12px);
  min-height: 100dvh;
  padding: 8px;
  padding-bottom: max(8px, env(safe-area-inset-bottom));
  overflow-x: hidden;
  position: relative;
  isolation: isolate;
  background:
    radial-gradient(circle at 14% -4%, rgba(56, 189, 248, 0.16), transparent 42%),
    radial-gradient(circle at 86% 8%, rgba(186, 230, 253, 0.28), transparent 44%),
    linear-gradient(180deg, rgba(255, 255, 255, 0.52), rgba(238, 250, 255, 0.34));
}

.stage-focus-root--with-hand-dock {
  padding-bottom: calc(var(--stage-focus-hand-dock-height) + env(safe-area-inset-bottom));
}

.stage-focus-root::before {
  content: "";
  position: absolute;
  inset: -14% -8% auto;
  height: 62%;
  border-radius: 999px;
  pointer-events: none;
  z-index: 0;
  background:
    radial-gradient(circle at 24% 38%, rgba(56, 189, 248, 0.24), transparent 46%),
    radial-gradient(circle at 78% 24%, rgba(125, 211, 252, 0.28), transparent 42%);
  filter: blur(28px);
  opacity: 0.66;
  animation: mint-stage-atmo-drift 18s ease-in-out infinite alternate;
}

.stage-focus-root::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  background:
    repeating-linear-gradient(
      115deg,
      rgba(255, 255, 255, 0.06) 0px,
      rgba(255, 255, 255, 0.06) 6px,
      transparent 6px,
      transparent 28px
    );
  opacity: 0.22;
}

.stage-focus-root > * {
  position: relative;
  z-index: 1;
}

.stage-focus-toolbar {
  position: sticky;
  top: max(6px, env(safe-area-inset-top));
  z-index: 34;
  border-color: var(--stage-panel-border, rgba(56, 189, 248, 0.42)) !important;
  background:
    linear-gradient(180deg, rgba(255, 255, 255, 0.8), rgba(231, 246, 255, 0.72)),
    var(--stage-panel-bg, linear-gradient(180deg, rgba(255, 255, 255, 0.94), rgba(235, 248, 255, 0.9))) !important;
  box-shadow:
    var(--stage-panel-shadow, 0 10px 28px rgba(2, 6, 23, 0.16)),
    inset 0 1px 0 rgba(255, 255, 255, 0.66);
  backdrop-filter: blur(14px) saturate(1.08);
  -webkit-backdrop-filter: blur(14px) saturate(1.08);
  overflow: hidden;
}

.stage-focus-toolbar::before {
  content: "";
  position: absolute;
  left: 10px;
  right: 10px;
  top: 0;
  height: 1px;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.82), transparent);
  pointer-events: none;
}

.stage-focus-toolbar-actions {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 6px;
  padding: 4px 8px;
  border-radius: 999px;
  border: 1px solid rgba(56, 189, 248, 0.42);
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.86), rgba(237, 249, 255, 0.7));
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.7);
  backdrop-filter: blur(8px) saturate(1.08);
  -webkit-backdrop-filter: blur(8px) saturate(1.08);
}

.stage-focus-toolbar-status {
  font-size: 11px;
  font-weight: 700;
  color: var(--mint-text-secondary, #475569);
  white-space: nowrap;
}

.stage-focus-toolbar-hint {
  font-size: 10px;
  font-weight: 600;
  color: var(--mint-text-hint, #94a3b8);
  white-space: nowrap;
}

.stage-focus-toolbar-feedback {
  display: inline-flex;
  align-items: center;
  min-height: 24px;
  padding: 0 8px;
  border-radius: 999px;
  border: 1px solid rgba(56, 189, 248, 0.35);
  background: linear-gradient(180deg, rgba(240, 249, 255, 0.82), rgba(224, 242, 254, 0.65));
  color: #0f4c6b;
  font-size: 10px;
  font-weight: 700;
  white-space: nowrap;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.66);
}

.stage-focus-toolbar-feedback--info {
  border-color: rgba(56, 189, 248, 0.35);
  background: linear-gradient(180deg, rgba(240, 249, 255, 0.82), rgba(224, 242, 254, 0.65));
  color: #0f4c6b;
}

.stage-focus-toolbar-feedback--success {
  border-color: rgba(16, 185, 129, 0.42);
  background: linear-gradient(180deg, rgba(236, 253, 245, 0.88), rgba(209, 250, 229, 0.7));
  color: #065f46;
}

.stage-focus-toolbar-feedback--warn {
  border-color: rgba(245, 158, 11, 0.46);
  background: linear-gradient(180deg, rgba(255, 251, 235, 0.9), rgba(254, 243, 199, 0.72));
  color: #92400e;
}

.stage-focus-toolbar-actions .btn {
  min-height: 30px;
}

.stage-focus-toolbar-actions--replay {
  gap: 4px;
  padding: 4px 6px;
}

.stage-focus-toolbar-actions--replay .btn {
  min-height: 28px;
}

.stage-focus-toolbar-speed {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  font-size: 11px;
  font-weight: 700;
  color: var(--mint-text-secondary, #475569);
  white-space: nowrap;
}

.stage-focus-toolbar-speed-select {
  min-height: 28px;
  border-radius: 8px;
  border: 1px solid rgba(148, 163, 184, 0.42);
  background: rgba(255, 255, 255, 0.92);
  padding: 0 6px;
  font-size: 12px;
}

.stage-focus-arena-shell {
  border-color: var(--stage-shell-border, rgba(125, 211, 252, 0.46)) !important;
  background:
    linear-gradient(180deg, rgba(255, 255, 255, 0.64), rgba(238, 250, 255, 0.42)),
    var(--stage-shell-bg, linear-gradient(165deg, rgba(255, 255, 255, 0.96), rgba(235, 248, 255, 0.92))) !important;
  box-shadow: var(--stage-shell-shadow, 0 20px 40px -26px rgba(2, 132, 199, 0.46));
  min-height: 0;
  overflow: hidden;
  position: relative;
  backdrop-filter: blur(12px) saturate(1.06);
  -webkit-backdrop-filter: blur(12px) saturate(1.06);
}

.stage-focus-root--with-hand-dock .stage-focus-arena-shell {
  /* Keep fixed hand dock anchored to viewport (not filtered ancestor). */
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
}

.stage-focus-arena-shell::before {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  background:
    radial-gradient(circle at 78% 18%, rgba(255, 255, 255, 0.26), transparent 34%),
    radial-gradient(circle at 18% 78%, rgba(125, 211, 252, 0.18), transparent 38%);
  opacity: 0.72;
}

.stage-focus-arena-shell > * {
  position: relative;
  z-index: 1;
}

.stage-focus-arena-inner {
  min-height: 0;
  display: grid;
  gap: var(--stage-focus-gap, 12px);
  align-content: start;
}

.stage-focus-columns {
  min-height: 0;
}

.stage-focus-main-column {
  min-height: 0;
  align-content: start;
}

.stage-focus-main-column--with-hand-dock {
  padding-bottom: 4px;
}

.stage-focus-main-column--with-hand-dock .stage-focus-board-shell {
  margin-bottom: clamp(10px, 1.4vw, 18px);
  padding: 4px;
  border-radius: 20px;
}

.stage-focus-main-column--with-hand-dock .stage-focus-board-shell .mint-stage {
  padding: clamp(10px, 1.2vw, 15px) clamp(8px, 1vw, 12px) clamp(8px, 1vw, 12px);
  border-radius: 20px;
}

.stage-focus-main-column--with-hand-dock .stage-focus-board-shell .mint-stage__board > * {
  transform: none;
}

.stage-focus-main-column--with-hand-dock [aria-label="Game board (engine renderer)"] {
  max-width: min(70vw, 440px);
  min-height: 0;
}

.stage-focus-main-column--with-hand-dock .mint-board-frame {
  max-width: min(70vw, 440px);
  margin-inline: auto;
}

.stage-focus-announcer-stack {
  display: grid;
  gap: clamp(6px, 0.8vw, 10px);
  align-content: start;
}

.stage-focus-announcer-stack .mint-status-summary-slot {
  min-height: 40px;
}

.stage-focus-board-shell {
  min-height: 0;
  display: grid;
  align-content: start;
  position: relative;
  overflow: hidden;
  border-radius: 24px;
  padding: clamp(4px, 0.6vw, 8px);
  border: 1px solid var(--stage-board-shell-border, rgba(125, 211, 252, 0.52));
  background:
    linear-gradient(180deg, rgba(255, 255, 255, 0.46), rgba(224, 242, 254, 0.28)),
    var(--stage-board-shell-bg, linear-gradient(165deg, rgba(255, 255, 255, 0.74), rgba(227, 245, 255, 0.56)));
  box-shadow: var(--stage-board-shell-shadow, 0 22px 38px -26px rgba(2, 132, 199, 0.6), 0 10px 24px rgba(2, 6, 23, 0.14));
  backdrop-filter: blur(10px) saturate(1.06);
  -webkit-backdrop-filter: blur(10px) saturate(1.06);
}

.stage-focus-board-shell::before {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  background:
    radial-gradient(circle at 18% 22%, rgba(255, 255, 255, 0.38), transparent 34%),
    radial-gradient(circle at 82% 16%, rgba(125, 211, 252, 0.26), transparent 38%);
  opacity: 0.66;
  animation: mint-stage-board-breathe 12s ease-in-out infinite alternate;
}

.stage-focus-board-shell::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  background:
    linear-gradient(
      118deg,
      transparent 0%,
      rgba(255, 255, 255, 0.18) 42%,
      rgba(125, 211, 252, 0.12) 58%,
      transparent 100%
    ),
    repeating-linear-gradient(
      132deg,
      rgba(255, 255, 255, 0.05) 0px,
      rgba(255, 255, 255, 0.05) 5px,
      transparent 5px,
      transparent 24px
    );
  background-size: 220% 100%, auto;
  background-position: -140% 0, 0 0;
  opacity: 0.2;
  animation: mint-stage-board-glint 16s ease-in-out infinite;
}

.stage-focus-board-shell > * {
  position: relative;
  z-index: 1;
}

.stage-focus-board-shell--replay {
  border-radius: 20px;
}

.stage-focus-board-shell .mint-stage {
  padding: clamp(16px, 2vw, 28px) clamp(10px, 1.6vw, 18px) clamp(12px, 1.8vw, 22px);
  border: 1px solid rgba(125, 211, 252, 0.32);
  box-shadow:
    0 20px 36px -28px rgba(14, 116, 144, 0.72),
    inset 0 1px 0 rgba(255, 255, 255, 0.56);
}

.stage-focus-board-shell .mint-stage__board > * {
  transform: rotateX(1.4deg);
}

.stage-focus-board-shell .mint-prompt {
  min-height: 62px;
  max-width: 320px;
  padding: 7px 13px 8px;
}

.stage-focus-board-shell .mint-prompt__ja,
.stage-focus-board-shell .mint-prompt__text {
  font-size: clamp(13px, 1.3vw, 17px);
  line-height: 1.08;
}

.stage-focus-board-shell .mint-prompt__en {
  font-size: 10px;
}

.mint-nyano-reaction-slot {
  position: relative;
  height: clamp(76px, 8vw, 108px);
  overflow: hidden;
  contain: layout paint;
}

.mint-nyano-reaction-slot--stage-focus {
  height: clamp(62px, 6.8vw, 88px);
}

.mint-nyano-reaction-slot__content {
  position: absolute;
  inset: 0;
  min-width: 0;
  z-index: 1;
}

.mint-nyano-reaction-slot__placeholder {
  display: block;
  width: 100%;
  height: 100%;
  border-radius: 22px;
  border: 1px solid rgba(148, 211, 252, 0.16);
  background: linear-gradient(165deg, rgba(255, 255, 255, 0.24), rgba(224, 242, 254, 0.12));
  opacity: 0.4;
  pointer-events: none;
}

.mint-nyano-reaction-slot__content > .mint-nyano-reaction {
  position: absolute;
  inset: 0;
  margin: 0;
}

.stage-focus-cutin {
  margin: 0;
  height: 100%;
  transform-origin: center top;
}

.stage-focus-cutin.mint-nyano-reaction {
  border-radius: 20px;
  box-shadow:
    0 20px 34px -24px rgba(2, 6, 23, 0.6),
    0 0 0 1px rgba(125, 211, 252, 0.26),
    inset 0 1px 0 rgba(255, 255, 255, 0.22);
}

.stage-focus-cutin.mint-nyano-reaction .mint-nyano-reaction__line {
  font-size: clamp(16px, 1.4vw, 22px);
}

.stage-focus-cutin.mint-nyano-reaction .mint-nyano-reaction__badge {
  font-size: 14px;
}

.stage-focus-replay-column .mint-nyano-reaction {
  margin-top: 2px;
}

@keyframes mint-stage-side-glint {
  0% {
    transform: translateX(-120%);
    opacity: 0;
  }
  18% {
    opacity: 0.28;
  }
  42% {
    opacity: 0.08;
  }
  100% {
    transform: translateX(120%);
    opacity: 0;
  }
}

.stage-focus-side-column {
  min-height: 0;
  align-content: start;
  gap: clamp(10px, 1.2vw, 14px);
}

.stage-focus-replay-shell {
  min-height: 0;
  align-content: start;
}

.stage-focus-replay-shell > * {
  min-width: 0;
}

.stage-focus-side-panel {
  position: relative;
  overflow: hidden;
  border-color: var(--stage-side-panel-border, rgba(125, 211, 252, 0.48)) !important;
  background:
    var(--stage-side-panel-bg, linear-gradient(180deg, rgba(255, 255, 255, 0.86), rgba(236, 248, 255, 0.7))),
    linear-gradient(150deg, rgba(14, 165, 233, 0.08), rgba(125, 211, 252, 0.04));
  box-shadow: var(--stage-side-panel-shadow, 0 16px 30px -22px rgba(2, 132, 199, 0.52), 0 8px 18px rgba(2, 6, 23, 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.72));
  backdrop-filter: blur(12px) saturate(1.08);
  -webkit-backdrop-filter: blur(12px) saturate(1.08);
}

.stage-focus-side-panel::before {
  content: "";
  position: absolute;
  top: 0;
  bottom: 0;
  width: 38%;
  pointer-events: none;
  z-index: 0;
  background: linear-gradient(
    110deg,
    transparent 0%,
    rgba(255, 255, 255, 0.38) 44%,
    rgba(191, 219, 254, 0.16) 62%,
    transparent 100%
  );
  filter: blur(0.2px);
  animation: mint-stage-side-glint 13s ease-in-out infinite;
}

.stage-focus-side-panel::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  background:
    radial-gradient(circle at 84% 14%, rgba(255, 255, 255, 0.24), transparent 36%),
    linear-gradient(180deg, rgba(255, 255, 255, 0.1), transparent 45%);
  opacity: 0.36;
}

.stage-focus-side-panel > * {
  position: relative;
  z-index: 1;
}

.stage-focus-side-panel--muted {
  background:
    var(--stage-side-panel-bg-muted, linear-gradient(180deg, rgba(247, 252, 255, 0.9), rgba(232, 243, 252, 0.78))),
    linear-gradient(150deg, rgba(148, 163, 184, 0.08), rgba(125, 211, 252, 0.04));
}

.stage-focus-side-panel--timeline {
  box-shadow: var(--stage-side-panel-shadow-strong, 0 20px 34px -24px rgba(2, 132, 199, 0.5), 0 10px 22px rgba(15, 23, 42, 0.12), inset 0 1px 0 rgba(255, 255, 255, 0.72));
}

@media (prefers-reduced-motion: reduce) {
  .stage-focus-root::before {
    animation: none;
  }
  .stage-focus-board-shell::before,
  .stage-focus-board-shell::after {
    animation: none;
  }
  .stage-focus-side-panel::before {
    animation: none;
  }
}

[data-vfx="off"] .stage-focus-root::before,
[data-vfx="off"] .stage-focus-root::after {
  display: none !important;
}

[data-vfx="off"] .stage-focus-side-panel::before,
[data-vfx="off"] .stage-focus-side-panel::after,
[data-vfx="off"] .stage-focus-board-shell::before,
[data-vfx="off"] .stage-focus-board-shell::after {
  display: none !important;
}

[data-vfx="low"] .stage-focus-root::before {
  animation-duration: 30s !important;
  opacity: 0.36;
}

[data-vfx="low"] .stage-focus-side-panel::before {
  animation-duration: 22s !important;
  opacity: 0.22;
}

[data-vfx="low"] .stage-focus-side-panel::after {
  opacity: 0.22;
}

[data-vfx="low"] .stage-focus-board-shell::before {
  animation: none !important;
  opacity: 0.36;
}

[data-vfx="low"] .stage-focus-board-shell::after {
  animation-duration: 24s !important;
  opacity: 0.12;
}

[data-vfx="medium"] .stage-focus-board-shell::before {
  animation-duration: 14s;
  opacity: 0.56;
}

[data-vfx="medium"] .stage-focus-board-shell::after {
  animation-duration: 18s;
  opacity: 0.18;
}

[data-vfx="medium"] .stage-focus-board-shell .mint-stage__board > * {
  transform: rotateX(1.7deg);
}

[data-vfx="high"] .stage-focus-board-shell::before {
  animation-duration: 10s;
  opacity: 0.72;
}

[data-vfx="high"] .stage-focus-board-shell::after {
  animation-duration: 12s;
  opacity: 0.24;
}

[data-vfx="high"] .stage-focus-board-shell .mint-stage__board > * {
  transform: rotateX(2deg) translateY(-1px);
}

@media (min-width: 768px) {
  .stage-focus-root {
    padding: 12px;
  }

  .stage-focus-root--with-hand-dock {
    padding-bottom: calc(var(--stage-focus-hand-dock-height) + env(safe-area-inset-bottom));
  }

  .mint-focus-hand-row {
    justify-content: center;
    overflow-x: visible;
  }
  .mint-focus-hand-card {
    width: 106px;
  }
}

@media (max-width: 768px) {
  .mint-focus-hand-dock {
    border-radius: 14px;
  }

  .mint-focus-hand-dock--stage {
    width: calc(100vw - env(safe-area-inset-left) - env(safe-area-inset-right) - 10px);
    bottom: max(4px, env(safe-area-inset-bottom));
  }

  .mint-focus-hand-dock--stage .mint-focus-hand-card {
    width: 62px;
  }

  .mint-focus-hand-row {
    gap: 8px;
    padding-bottom: 6px;
  }

  .mint-focus-hand-card {
    width: 88px;
  }

  .stage-focus-toolbar-actions {
    width: 100%;
    border-radius: 12px;
    justify-content: flex-start;
  }

  .stage-focus-toolbar-status {
    width: 100%;
  }

  .stage-focus-toolbar-hint {
    width: 100%;
  }

  .stage-focus-toolbar-feedback {
    width: 100%;
    justify-content: flex-start;
  }

  .stage-focus-toolbar-actions--replay {
    width: 100%;
  }
}

/* ── Mobile: min-size guarantee for tap targets ── */
@media (max-width: 480px) {
  .mint-ai-notice-slot {
    min-height: 36px;
  }

  .mint-ai-notice {
    min-height: 36px;
    font-size: 11px;
    padding: 5px 8px;
  }

  .mint-status-summary-slot {
    min-height: 36px;
  }

  .mint-status-summary {
    min-height: 36px;
    font-size: 11px;
    padding: 5px 8px;
  }

  .mint-prompt-slot {
    min-height: 78px;
  }

  .mint-prompt {
    min-height: 70px;
    padding: 8px 12px 7px;
  }

  .mint-prompt__ja {
    font-size: clamp(13px, 4vw, 17px);
  }

  .mint-prompt__en {
    font-size: 11px;
  }

  .mint-hand-tray {
    border-radius: 18px;
    padding: 8px 8px 9px;
  }

  .mint-hand {
    padding: 6px 8px 8px;
  }

  .mint-hand-card {
    width: 68px;
    min-height: 80px;
    padding: 3px;
  }

  .mint-hand-card--stacked {
    margin-left: -9px;
  }

  .mint-focus-hand-card {
    width: 82px;
  }
}


/* ── Mobile Confirm (NIN-UX-022) ─────────────────────────────────────── */

.mint-confirm-bar {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  padding: 10px 16px;
  border-radius: 16px;
  background: var(--mint-surface);
  border: 2px solid var(--mint-accent);
  box-shadow: 0 4px 16px rgba(16, 185, 129, 0.2);
  animation: mint-slide-up 0.25s ease-out;
}

.mint-confirm-btn {
  padding: 8px 24px;
  border-radius: 12px;
  font-size: 14px;
  font-weight: 700;
  font-family: 'Nunito', sans-serif;
  cursor: pointer;
  transition: all 0.15s ease;
  border: none;
}

.mint-confirm-btn--ok {
  background: var(--mint-accent);
  color: white;
}

.mint-confirm-btn--ok:hover {
  background: var(--mint-accent-dark);
  box-shadow: 0 0 12px var(--mint-cell-active-glow);
}

.mint-confirm-btn--cancel {
  background: var(--mint-cell-flat);
  color: var(--mint-text-secondary);
}

.mint-confirm-btn--cancel:hover {
  background: var(--mint-cell-flat-dark);
}


/* ── Result Overlay ──────────────────────────────────────────────────── */

.mint-result-overlay {
  position: fixed;
  inset: 0;
  z-index: 100;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(255, 255, 255, 0.7);
  backdrop-filter: blur(12px);
  animation: mint-fade-in 0.4s ease;
}

.mint-result-panel {
  position: relative;
  min-width: 300px;
  max-width: 400px;
  padding: 32px;
  border-radius: 28px;
  background: var(--mint-surface);
  border: 2px solid var(--mint-accent-muted);
  box-shadow: 0 16px 48px rgba(16, 185, 129, 0.15);
  animation: mint-pop-in 0.35s cubic-bezier(0.34, 1.56, 0.64, 1);
  text-align: center;
}

.mint-result__title {
  font-family: 'Nunito', sans-serif;
  font-size: 28px;
  font-weight: 900;
  margin-bottom: 4px;
}

.mint-result__title--victory {
  color: #10B981;
  text-shadow: 0 0 20px rgba(16, 185, 129, 0.3);
}

.mint-result__title--defeat {
  color: #EF4444;
  text-shadow: 0 0 20px rgba(239, 68, 68, 0.3);
}

.mint-result__title--draw {
  color: #6B7280;
}

.mint-result__subtitle {
  font-size: 14px;
  color: var(--mint-text-hint);
  margin-bottom: 20px;
}

.mint-result__scores {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 20px;
  margin-bottom: 24px;
}

.mint-result__score-val {
  font-family: 'Nunito', sans-serif;
  font-size: 42px;
  font-weight: 900;
  line-height: 1;
}

.mint-result__score-val--a { color: var(--mint-pa); }
.mint-result__score-val--b { color: var(--mint-pb); }

.mint-result__divider {
  font-size: 18px;
  color: var(--mint-text-hint);
}

/* ── Post-Game Summary (P1-150) ──────────────────────────────────────── */

.mint-result__summary {
  display: grid;
  gap: 6px;
  padding: 10px 16px;
  border-radius: 12px;
  background: var(--mint-surface-dim);
  border: 1px solid var(--mint-accent-muted);
  margin: 12px 0;
  font-size: 12px;
}

.mint-result__summary-line {
  display: flex;
  align-items: center;
  gap: 6px;
}

.mint-result__summary-icon { font-size: 14px; line-height: 1; }

.mint-result__summary-text {
  flex: 1;
  color: var(--mint-text-secondary);
  font-size: 11px;
}

.mint-result__quality {
  display: inline-block;
  padding: 1px 6px;
  border-radius: 6px;
  font-size: 10px;
  font-weight: 700;
}

.mint-result__quality--excellent { background: rgba(16,185,129,0.12); color: #059669; }
.mint-result__quality--great     { background: rgba(59,130,246,0.12); color: #2563EB; }
.mint-result__quality--good      { background: rgba(20,184,166,0.12); color: #0D9488; }
.mint-result__quality--neutral   { background: rgba(100,116,139,0.08); color: #64748B; }
.mint-result__quality--questionable { background: rgba(245,158,11,0.12); color: #D97706; }
.mint-result__quality--blunder   { background: rgba(239,68,68,0.12); color: #DC2626; }

.mint-result__actions {
  display: flex;
  gap: 10px;
  justify-content: center;
  flex-wrap: wrap;
}

.mint-result__btn {
  padding: 10px 24px;
  border-radius: 14px;
  border: 1.5px solid var(--mint-accent-muted);
  background: var(--mint-surface);
  color: var(--mint-text-primary);
  font-family: 'Nunito', sans-serif;
  font-size: 14px;
  font-weight: 700;
  cursor: pointer;
  transition:
    transform var(--mint-press-transition),
    box-shadow var(--mint-press-transition),
    border-color var(--mint-press-transition),
    background var(--mint-press-transition);
}

.mint-result__btn:hover {
  border-color: var(--mint-accent);
  box-shadow: 0 0 12px rgba(56, 189, 248, 0.2);
}

.mint-result__btn--primary {
  background: var(--mint-accent);
  border-color: var(--mint-accent);
  color: white;
}

.mint-result__btn--primary:hover {
  background: var(--mint-accent-dark);
}


/* ═══════════════════════════════════════════════════════════════════════════
   Flip Arrow Overlay (NIN-UX-030, D-1/D-2)
   ═══════════════════════════════════════════════════════════════════════════ */

@keyframes mint-arrow-appear {
  0% { opacity: 0; transform: scale(0.8); }
  100% { opacity: 1; transform: scale(1); }
}

.mint-arrow-overlay {
  position: absolute;
  top: 0;
  left: 0;
  pointer-events: none;
  z-index: 10;
}

.mint-arrow-line {
  filter: drop-shadow(0 0 3px var(--mint-flip-glow));
}

.mint-arrow-line--chain {
  filter: drop-shadow(0 0 4px var(--mint-chain-glow));
}

/* ── Board inner: relative positioning for arrow overlay ── */
.mint-board-inner {
  position: relative;
}


/* ═══════════════════════════════════════════════════════════════════════════
   NyanoReaction Mint (NIN-UX-032, D-4)
   ═══════════════════════════════════════════════════════════════════════════ */

.mint-nyano-reaction {
  font-family: 'Nunito', system-ui, sans-serif;
}

.mint-nyano-reaction--pixi {
  letter-spacing: 0.01em;
}

.mint-nyano-reaction {
  position: relative;
  overflow: hidden;
  isolation: isolate;
  border-radius: 22px;
  box-shadow:
    0 16px 30px -24px rgba(2, 6, 23, 0.55),
    0 0 0 1px rgba(125, 211, 252, 0.24),
    inset 0 1px 0 rgba(255, 255, 255, 0.18);
  transition: opacity 0.3s ease, transform 0.3s ease;
}

.mint-nyano-reaction--visible {
  opacity: 1;
  transform: translateY(0);
}

.mint-nyano-reaction--hidden {
  opacity: 0;
  transform: translateY(6px);
}

.mint-nyano-reaction--cutin::before {
  content: "";
  position: absolute;
  top: -12px;
  left: -30px;
  width: 78px;
  height: calc(100% + 24px);
  background: linear-gradient(
    120deg,
    color-mix(in srgb, var(--nyano-reaction-glow, rgba(16,185,129,0.42)) 68%, transparent),
    transparent
  );
  transform: skewX(-16deg);
  opacity: 0.72;
  pointer-events: none;
  z-index: 0;
}

.mint-nyano-reaction--cutin::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  border-radius: inherit;
  border: 1px solid rgba(255, 255, 255, 0.34);
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.26),
    inset 0 -1px 0 rgba(2, 6, 23, 0.2);
  z-index: 1;
}

.mint-nyano-reaction__inner {
  position: relative;
  z-index: 2;
  display: flex;
  align-items: flex-start;
  flex-wrap: wrap;
  gap: 10px 14px;
  width: 100%;
  min-width: 0;
}

.mint-nyano-reaction__badge {
  font-size: 13px;
  font-weight: 700;
  padding: 3px 9px;
  border-radius: 9px;
  flex-shrink: 0;
}

.mint-nyano-reaction__badge--low {
  transform: scale(0.98);
}

.mint-nyano-reaction__badge--mid {
  transform: scale(1);
}

.mint-nyano-reaction__badge--high {
  transform: scale(1.05);
}

.mint-nyano-reaction__line {
  font-size: clamp(18px, 1.6vw, 26px);
  font-weight: 800;
  line-height: 1.2;
  letter-spacing: 0.014em;
  max-width: min(64ch, 100%);
  min-width: 0;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  line-clamp: 2;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: normal;
  text-shadow: 0 1px 0 rgba(255, 255, 255, 0.18);
}

.mint-nyano-reaction__reason {
  margin-left: auto;
  font-size: 10px;
  font-weight: 600;
  padding: 3px 8px;
  border-radius: 999px;
  border: 1px solid rgba(125, 211, 252, 0.25);
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.4);
  flex-shrink: 0;
}

.mint-nyano-reaction__cutin-flash,
.mint-nyano-reaction__scanline {
  pointer-events: none;
  position: absolute;
  inset: 0;
}

.mint-nyano-reaction__cutin-flash {
  z-index: 1;
  opacity: 0;
  background:
    linear-gradient(
      105deg,
      transparent 0%,
      color-mix(in srgb, var(--nyano-reaction-glow, rgba(16,185,129,0.45)) 60%, white) 36%,
      transparent 64%
    );
}

.mint-nyano-reaction__scanline {
  z-index: 1;
  opacity: 0.08;
  mix-blend-mode: screen;
  background:
    repeating-linear-gradient(
      to bottom,
      rgba(255, 255, 255, 0.22) 0px,
      rgba(255, 255, 255, 0.22) 1px,
      transparent 1px,
      transparent 5px
    );
}

.mint-nyano-reaction__burst-banner {
  position: absolute;
  inset: 2px;
  z-index: 2;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  padding: 0 12px;
  border-radius: 13px;
  opacity: 0;
  pointer-events: none;
  transform: translateX(-12%) skewX(-12deg);
  background:
    linear-gradient(
      102deg,
      rgba(249, 115, 22, 0.82) 0%,
      rgba(244, 63, 94, 0.76) 26%,
      rgba(56, 189, 248, 0.72) 58%,
      rgba(16, 185, 129, 0.68) 100%
    );
  box-shadow:
    0 0 0 1px rgba(255, 255, 255, 0.38),
    0 0 28px rgba(56, 189, 248, 0.32),
    0 14px 24px -18px rgba(2, 6, 23, 0.72);
}

.mint-nyano-reaction__burst-main,
.mint-nyano-reaction__burst-sub {
  color: #f8fafc;
  font-family: "Trebuchet MS", "Segoe UI", "Arial Black", sans-serif;
  letter-spacing: 0.08em;
  text-shadow: 0 1px 6px rgba(2, 6, 23, 0.85);
  transform: skewX(12deg);
}

.mint-nyano-reaction__burst-main {
  font-size: 11px;
  font-weight: 900;
}

.mint-nyano-reaction__burst-sub {
  font-size: 13px;
  font-weight: 900;
}

.mint-nyano-reaction--braveburst.mint-nyano-reaction--burst .mint-nyano-reaction__burst-banner {
  animation: mint-nyano-braveburst-banner 860ms cubic-bezier(0.16, 1, 0.3, 1);
}

.mint-nyano-reaction--burst .mint-nyano-reaction__cutin-flash {
  animation: mint-nyano-cutin-flash 560ms cubic-bezier(0.16, 1, 0.3, 1);
}

.mint-nyano-reaction--cutin {
  animation: mint-nyano-cutin-enter 460ms cubic-bezier(0.2, 0.85, 0.25, 1);
}

.mint-nyano-reaction--impact-low::before {
  opacity: 0.58;
}

.mint-nyano-reaction--impact-low .mint-nyano-reaction__line {
  letter-spacing: 0.005em;
}

.mint-nyano-reaction--impact-low.mint-nyano-reaction--burst .mint-nyano-reaction__cutin-flash {
  animation-duration: 440ms;
}

.mint-nyano-reaction--impact-mid::before {
  opacity: 0.72;
}

.mint-nyano-reaction--impact-mid.mint-nyano-reaction--burst .mint-nyano-reaction__cutin-flash {
  animation-duration: 560ms;
}

.mint-nyano-reaction--impact-high::before {
  width: 96px;
  opacity: 0.92;
}

.mint-nyano-reaction--impact-high .mint-nyano-reaction__line {
  letter-spacing: 0.018em;
  font-weight: 800;
}

.mint-nyano-reaction--impact-high .mint-nyano-reaction__badge {
  box-shadow:
    0 0 0 1px rgba(255, 255, 255, 0.36),
    0 0 14px color-mix(in srgb, var(--nyano-reaction-glow, rgba(16,185,129,0.45)) 72%, transparent);
}

.mint-nyano-reaction--impact-high.mint-nyano-reaction--burst .mint-nyano-reaction__cutin-flash {
  animation-duration: 740ms;
}

.mint-nyano-reaction--impact-high.mint-nyano-reaction--burst::after {
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.34),
    inset 0 -1px 0 rgba(2, 6, 23, 0.25),
    0 0 0 1px rgba(125, 211, 252, 0.32),
    0 0 18px color-mix(in srgb, var(--nyano-reaction-glow, rgba(16,185,129,0.42)) 56%, transparent);
}

.mint-nyano-reaction--pixi {
  border-color: rgba(56, 189, 248, 0.46) !important;
  box-shadow:
    0 18px 30px -24px rgba(2, 6, 23, 0.74),
    0 0 0 1px rgba(56, 189, 248, 0.26),
    inset 0 1px 0 rgba(148, 163, 184, 0.16);
}

.mint-nyano-reaction--pixi .mint-nyano-reaction__line {
  text-shadow: 0 0 18px rgba(125, 211, 252, 0.26);
}

.mint-nyano-reaction--pixi .mint-nyano-reaction__scanline {
  opacity: 0.13;
}

.mint-nyano-reaction--pixi .mint-nyano-reaction__reason {
  border-color: rgba(56, 189, 248, 0.34);
  box-shadow: inset 0 1px 0 rgba(148, 163, 184, 0.14);
}

@keyframes mint-nyano-cutin-enter {
  0% {
    opacity: 0;
    transform: translateX(-24px) translateY(4px) scale(0.97);
    filter: saturate(0.9);
  }
  58% {
    opacity: 1;
    transform: translateX(3px) translateY(0) scale(1.01);
    filter: saturate(1.05);
  }
  100% {
    opacity: 1;
    transform: translateX(0) translateY(0) scale(1);
    filter: saturate(1);
  }
}

@keyframes mint-nyano-cutin-flash {
  0% {
    opacity: 0;
    transform: translateX(-112%);
  }
  24% {
    opacity: 0.9;
  }
  100% {
    opacity: 0;
    transform: translateX(112%);
  }
}

@keyframes mint-nyano-braveburst-banner {
  0% {
    opacity: 0;
    transform: translateX(-20%) skewX(-12deg);
    filter: saturate(0.94) brightness(0.92);
  }
  20% {
    opacity: 0.98;
    transform: translateX(0) skewX(-12deg);
    filter: saturate(1.08) brightness(1.08);
  }
  80% {
    opacity: 0.95;
    transform: translateX(0) skewX(-12deg);
  }
  100% {
    opacity: 0;
    transform: translateX(9%) skewX(-12deg);
    filter: saturate(0.96) brightness(0.96);
  }
}


/* ═══════════════════════════════════════════════════════════════════════════
   SFX Mute Toggle (NIN-UX-031, D-3)
   ═══════════════════════════════════════════════════════════════════════════ */

.mint-sfx-toggle {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 34px;
  height: 34px;
  border-radius: 11px;
  border: 1px solid rgba(125, 211, 252, 0.52);
  background:
    linear-gradient(165deg, rgba(255, 255, 255, 0.84), rgba(238, 250, 255, 0.7));
  cursor: pointer;
  font-size: 16px;
  color: #0f4c6b;
  box-shadow:
    0 8px 18px -14px rgba(14, 116, 144, 0.7),
    inset 0 1px 0 rgba(255, 255, 255, 0.72);
  transition: background 0.2s, border-color 0.2s, transform 0.2s, box-shadow 0.2s, color 0.2s;
  padding: 0;
  line-height: 1;
}

.mint-sfx-toggle:hover {
  transform: translateY(-1px);
  background:
    linear-gradient(165deg, rgba(255, 255, 255, 0.92), rgba(224, 242, 254, 0.78));
  border-color: rgba(56, 189, 248, 0.72);
  box-shadow:
    0 12px 22px -14px rgba(14, 116, 144, 0.82),
    inset 0 1px 0 rgba(255, 255, 255, 0.82);
}

.mint-sfx-toggle--muted {
  opacity: 0.65;
  color: #64748b;
  filter: saturate(0.72);
}


/* ═══════════════════════════════════════════════════════════════════════════
   Match Drawer Mint (NIN-UX-040, F-1)
   ═══════════════════════════════════════════════════════════════════════════ */

.mint-drawer-backdrop {
  position: fixed;
  inset: 0;
  z-index: 40;
  background: rgba(0, 0, 0, 0.25);
  backdrop-filter: blur(2px);
  -webkit-backdrop-filter: blur(2px);
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.25s ease;
}

.mint-drawer-backdrop--open {
  opacity: 1;
  pointer-events: auto;
}

.mint-drawer {
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  z-index: 50;
  width: 360px;
  max-width: 90vw;
  background: rgba(255, 255, 255, 0.92);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border-left: 1px solid var(--mint-accent-muted);
  box-shadow: -4px 0 24px rgba(0, 0, 0, 0.08);
  transform: translateX(100%);
  transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  display: flex;
  flex-direction: column;
  font-family: 'Nunito', system-ui, sans-serif;
}

.mint-drawer--open {
  transform: translateX(0);
}

.mint-drawer--closed {
  display: none;
}

.mint-drawer__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 20px;
  border-bottom: 1px solid var(--mint-accent-muted);
  flex-shrink: 0;
}

.mint-drawer__title {
  font-size: 16px;
  font-weight: 700;
  color: var(--mint-text-primary);
}

.mint-drawer__close {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  border-radius: 50%;
  border: 1px solid var(--mint-accent-muted);
  background: var(--mint-surface);
  cursor: pointer;
  font-size: 18px;
  color: var(--mint-text-secondary);
  transition: background 0.2s;
  padding: 0;
  line-height: 1;
  font-weight: 700;
}

.mint-drawer__close:hover {
  background: var(--mint-surface-dim);
}

.mint-drawer__body {
  flex: 1;
  overflow-y: auto;
  padding: 16px 20px;
  display: grid;
  gap: 16px;
  align-content: start;
}

/* Drawer toggle button */
.mint-drawer-toggle {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  border-radius: 12px;
  border: 1px solid var(--mint-accent-muted);
  background: var(--mint-surface);
  cursor: pointer;
  font-size: 18px;
  color: var(--mint-text-secondary);
  transition: background 0.2s, border-color 0.2s;
  padding: 0;
  line-height: 1;
}

.mint-drawer-toggle:hover {
  background: var(--mint-surface-dim);
  border-color: var(--mint-accent);
}

@media (prefers-reduced-motion: reduce) {
  .mint-drawer,
  .mint-drawer-backdrop,
  .mint-drawer__close,
  .mint-drawer-toggle {
    transition: none !important;
  }
}

[data-vfx="off"] .mint-drawer,
[data-vfx="off"] .mint-drawer-backdrop,
[data-vfx="off"] .mint-drawer__close,
[data-vfx="off"] .mint-drawer-toggle {
  transition: none !important;
}

[data-vfx="off"] .mint-drawer {
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
}

[data-vfx="off"] .mint-drawer-backdrop {
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
}

/* ── Mobile: Bottom sheet ── */
@media (max-width: 640px) {
  .mint-drawer {
    top: auto;
    right: 0;
    left: 0;
    bottom: 0;
    width: 100%;
    max-width: 100%;
    height: 60vh;
    border-left: none;
    border-top: 1px solid var(--mint-accent-muted);
    border-radius: 20px 20px 0 0;
    transform: translateY(100%);
    box-shadow: 0 -4px 24px rgba(0, 0, 0, 0.1);
  }

  .mint-drawer--open {
    transform: translateY(0);
  }
}


/* ═══════════════════════════════════════════════════════════════════════════
   Compact Card Skin (P1-100) — "遊戯王級"カードフレーム
   ═══════════════════════════════════════════════════════════════════════════ */

.mint-compact-card {
  background: linear-gradient(
    145deg,
    rgba(255, 255, 255, 0.97) 0%,
    rgba(248, 250, 252, 0.92) 100%
  );
  box-shadow:
    0 1px 4px rgba(0, 0, 0, 0.08),
    inset 0 1px 0 rgba(255, 255, 255, 0.9);
  transition: box-shadow 0.2s ease;
}

.mint-cell--owner-a .mint-compact-card {
  border-color: var(--mint-pa-light);
  box-shadow:
    0 2px 8px -2px var(--mint-pa-glow),
    inset 0 1px 0 rgba(255, 255, 255, 0.8);
}

.mint-cell--owner-b .mint-compact-card {
  border-color: var(--mint-pb-light);
  box-shadow:
    0 2px 8px -2px var(--mint-pb-glow),
    inset 0 1px 0 rgba(255, 255, 255, 0.8);
}

/* ═══════════════════════════════════════════════════════════════════════════
   DuelStage Mint (P2-200) — Cinematic Arena Stage
   "Yu-Gi-Oh級" — the board is a stage, the game is a show.
   ═══════════════════════════════════════════════════════════════════════════ */

@keyframes mint-stage-atmo-float {
  0% {
    transform: translate3d(-1.4%, -1%, 0) scale(1);
    opacity: 0.34;
  }
  52% {
    transform: translate3d(1.2%, 1.4%, 0) scale(1.03);
    opacity: 0.44;
  }
  100% {
    transform: translate3d(-1.4%, -1%, 0) scale(1);
    opacity: 0.34;
  }
}

@keyframes mint-stage-bg-pan {
  0% {
    background-position: 0% 0%, 78% 14%, 16% 82%, 50% 50%;
  }
  100% {
    background-position: 4% 2%, 72% 20%, 22% 76%, 50% 50%;
  }
}

@keyframes mint-stage-paw-drift {
  0% {
    background-position: center, 0 0, 120px 90px;
  }
  100% {
    background-position: center, 26px 20px, 142px 108px;
  }
}

@keyframes mint-stage-sparkle-float {
  0% {
    opacity: 0.34;
    transform: translate3d(0, 0, 0);
  }
  50% {
    opacity: 0.5;
    transform: translate3d(0, -1.2%, 0);
  }
  100% {
    opacity: 0.36;
    transform: translate3d(0, 0, 0);
  }
}

.mint-stage {
  position: relative;
  padding: 20px 10px 16px;
  border-radius: 28px;
  overflow: hidden;
  background:
    radial-gradient(circle at 16% 10%, rgba(255, 255, 255, 0.58), transparent 40%),
    radial-gradient(circle at 78% 14%, rgba(208, 195, 239, 0.44), transparent 42%),
    radial-gradient(circle at 16% 82%, rgba(183, 245, 221, 0.36), transparent 48%),
    linear-gradient(
      148deg,
      var(--mint-gamefeel-bg-mint) 0%,
      #d6f4ed 34%,
      var(--mint-gamefeel-bg-lavender) 68%,
      #cde7f9 100%
    );
  animation: mint-stage-bg-pan 30s ease-in-out infinite alternate;
  isolation: isolate;
  box-shadow:
    inset 0 0 0 1px var(--mint-gamefeel-glass-border),
    inset 0 2px 4px rgba(255, 255, 255, 0.4),
    var(--mint-gamefeel-floor-shadow),
    0 2px 12px rgba(0, 0, 0, 0.08);
}

.mint-stage__rim {
  position: absolute;
  inset: 4px;
  z-index: 1;
  pointer-events: none;
  border-radius: 24px;
  border: 1px solid var(--mint-gamefeel-glass-border);
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.42),
    inset 0 -1px 0 rgba(2, 132, 199, 0.2),
    0 0 0 1px rgba(125, 211, 252, 0.16);
}

.mint-stage__atmo {
  position: absolute;
  inset: -12% -8%;
  z-index: 0;
  pointer-events: none;
  opacity: 0.38;
  background:
    radial-gradient(circle at 18% 26%, rgba(125, 211, 252, 0.28), transparent 36%),
    radial-gradient(circle at 82% 72%, rgba(14, 165, 233, 0.22), transparent 42%),
    radial-gradient(circle at 52% 42%, rgba(255, 255, 255, 0.2), transparent 46%);
  filter: blur(24px);
  animation: mint-stage-atmo-float 20s ease-in-out infinite;
}

/* ── Holo Grid Background ── */
.mint-stage__holo {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  opacity: 0.045;
  background:
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 39px,
      var(--mint-accent) 39px,
      var(--mint-accent) 40px
    ),
    repeating-linear-gradient(
      90deg,
      transparent,
      transparent 39px,
      var(--mint-accent) 39px,
      var(--mint-accent) 40px
    );
  background-size: 40px 40px;
}

/* ── Vignette Overlay — draws eye to center ── */
.mint-stage::before {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  background-image:
    radial-gradient(ellipse 74% 62% at 50% 45%, transparent 44%, rgba(15, 23, 42, 0.12) 100%),
    var(--mint-gamefeel-paw-pattern),
    var(--mint-gamefeel-paw-pattern);
  background-size:
    100% 100%,
    260px 260px,
    320px 320px;
  background-position:
    center,
    0 0,
    120px 90px;
  opacity: 0.16;
  mix-blend-mode: screen;
  animation: mint-stage-paw-drift 34s linear infinite;
}

/* ── Ambient sparkle dots (pure CSS, no images) ── */
.mint-stage::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  opacity: 0.38;
  background-image:
    radial-gradient(1.5px 1.5px at 12% 20%, rgba(255,255,255,0.8) 50%, transparent 50%),
    radial-gradient(1px 1px at 28% 65%, rgba(255,255,255,0.6) 50%, transparent 50%),
    radial-gradient(1.5px 1.5px at 45% 12%, rgba(255,255,255,0.7) 50%, transparent 50%),
    radial-gradient(1px 1px at 62% 78%, rgba(255,255,255,0.5) 50%, transparent 50%),
    radial-gradient(1.5px 1.5px at 78% 35%, rgba(255,255,255,0.8) 50%, transparent 50%),
    radial-gradient(1px 1px at 88% 55%, rgba(255,255,255,0.6) 50%, transparent 50%),
    radial-gradient(1.5px 1.5px at 35% 88%, rgba(255,255,255,0.7) 50%, transparent 50%),
    radial-gradient(1px 1px at 55% 42%, rgba(255,255,255,0.5) 50%, transparent 50%),
    radial-gradient(18px 18px at 20% 58%, rgba(255,255,255,0.18) 0, rgba(255,255,255,0) 72%),
    radial-gradient(22px 22px at 78% 32%, rgba(255,255,255,0.14) 0, rgba(255,255,255,0) 74%),
    radial-gradient(14px 14px at 60% 84%, rgba(255,255,255,0.16) 0, rgba(255,255,255,0) 72%);
  animation: mint-stage-sparkle-float 14s ease-in-out infinite;
}

/* ── Edge Glows — softer, wider ── */
.mint-stage__glow {
  position: absolute;
  left: 5%;
  right: 5%;
  height: 80px;
  pointer-events: none;
  z-index: 1;
  border-radius: 50%;
  filter: blur(28px);
}

.mint-stage__glow--top {
  top: -40px;
  background: radial-gradient(
    ellipse at center,
    rgba(125, 211, 252, 0.48) 0%,
    transparent 70%
  );
  opacity: 0.6;
}

.mint-stage__glow--bottom {
  bottom: -40px;
  background: radial-gradient(
    ellipse at center,
    rgba(56, 189, 248, 0.22) 0%,
    transparent 70%
  );
  opacity: 0.5;
}

/* ── Decorative paw watermarks (rendered in TSX as SVG) ── */
.mint-stage__paws {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 0;
}

/* ── Board Container with 3D Tilt ── */
.mint-stage__board {
  position: relative;
  z-index: 2;
  perspective: 900px;
}

.mint-stage__board > * {
  transform: rotateX(2deg) translateY(-1px);
  transform-origin: center bottom;
  filter: drop-shadow(0 16px 22px rgba(2, 6, 23, 0.18));
}

@media (max-width: 560px) {
  .mint-stage {
    padding: 16px 8px 12px;
    border-radius: 22px;
  }

  .mint-stage__rim {
    inset: 3px;
    border-radius: 19px;
  }

  .mint-board-frame {
    padding: 10px;
    border-radius: 20px;
  }

  .mint-board-frame::before {
    inset: 5px;
    border-radius: 13px;
  }

  .mint-board-inner {
    padding: 8px;
    border-radius: 13px;
  }

  .mint-grid {
    gap: clamp(6px, 2.4vw, 10px);
  }
}

.engine-drop-grid {
  position: absolute;
  inset: 0;
  margin: auto;
  z-index: 4;
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 4px;
  pointer-events: none;
}

.engine-drop-grid__cell {
  border-radius: 6px;
  pointer-events: none;
}

.engine-drop-grid--active .engine-drop-grid__cell--droppable {
  pointer-events: auto;
  border: 1.5px dashed rgba(56, 189, 248, 0.42);
  background: rgba(8, 47, 73, 0.16);
  box-shadow: inset 0 0 0 1px rgba(125, 211, 252, 0.22);
  transition: border-color 120ms ease, background 120ms ease, box-shadow 120ms ease;
}

.engine-drop-grid--active .engine-drop-grid__cell--droppable:hover {
  border-color: rgba(56, 189, 248, 0.88);
  background: rgba(14, 116, 144, 0.24);
  box-shadow:
    inset 0 0 0 1px rgba(125, 211, 252, 0.4),
    0 0 16px rgba(56, 189, 248, 0.32);
}

.mint-stage--impact-low {
  --mint-stage-impact-glow: rgba(56, 189, 248, 0.18);
}

.mint-stage--impact-mid {
  --mint-stage-impact-glow: rgba(56, 189, 248, 0.32);
}

.mint-stage--impact-high {
  --mint-stage-impact-glow: rgba(251, 191, 36, 0.36);
}

.mint-stage--impact-burst {
  animation: mint-stage-impact-shell 760ms cubic-bezier(0.16, 1, 0.3, 1);
}

.mint-stage--impact-burst .mint-stage__holo {
  animation: mint-stage-impact-grid 760ms cubic-bezier(0.16, 1, 0.3, 1);
}

.mint-stage--impact-burst .mint-stage__board > * {
  animation: mint-stage-impact-board-glow 760ms cubic-bezier(0.16, 1, 0.3, 1);
}

.mint-stage--impact-burst .mint-stage__glow {
  animation: mint-stage-impact-glow 760ms cubic-bezier(0.16, 1, 0.3, 1);
}

.mint-stage--impact-high.mint-stage--impact-burst,
.mint-stage--impact-high.mint-stage--impact-burst .mint-stage__holo,
.mint-stage--impact-high.mint-stage--impact-burst .mint-stage__board > *,
.mint-stage--impact-high.mint-stage--impact-burst .mint-stage__glow {
  animation-duration: 960ms;
}

@keyframes mint-stage-impact-shell {
  0% {
    filter: brightness(1) saturate(1) drop-shadow(0 0 0 rgba(0, 0, 0, 0));
  }
  28% {
    filter: brightness(1.06) saturate(1.1) drop-shadow(0 0 28px var(--mint-stage-impact-glow, rgba(56, 189, 248, 0.28)));
  }
  100% {
    filter: brightness(1) saturate(1) drop-shadow(0 0 0 rgba(0, 0, 0, 0));
  }
}

@keyframes mint-stage-impact-grid {
  0% {
    opacity: 0.06;
    transform: translate3d(0, 0, 0);
  }
  30% {
    opacity: 0.15;
    transform: translate3d(0, -4px, 0);
  }
  100% {
    opacity: 0.06;
    transform: translate3d(0, 0, 0);
  }
}

@keyframes mint-stage-impact-board-glow {
  0% {
    filter: brightness(1) saturate(1);
    box-shadow: none;
  }
  24% {
    filter: brightness(1.035) saturate(1.05);
    box-shadow: 0 0 0 1px color-mix(in srgb, var(--mint-stage-impact-glow, rgba(56, 189, 248, 0.28)) 26%, transparent);
  }
  100% {
    filter: brightness(1) saturate(1);
    box-shadow: none;
  }
}

@keyframes mint-stage-impact-glow {
  0% {
    opacity: 0.45;
    filter: blur(28px);
  }
  36% {
    opacity: 0.88;
    filter: blur(24px);
  }
  100% {
    opacity: 0.45;
    filter: blur(28px);
  }
}


/* ── Holo / Foil Effect (P1-110) ─────────────────────────────────────── */

@keyframes mint-holo-shift {
  from { --mint-holo-angle: 0deg; }
  to   { --mint-holo-angle: 360deg; }
}

@property --mint-holo-angle {
  syntax: "<angle>";
  inherits: false;
  initial-value: 0deg;
}

.mint-compact-card::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: conic-gradient(
    from var(--mint-holo-angle),
    rgba(255, 0, 0, 0.06),
    rgba(255, 165, 0, 0.06),
    rgba(255, 255, 0, 0.06),
    rgba(0, 255, 0, 0.06),
    rgba(0, 0, 255, 0.06),
    rgba(128, 0, 128, 0.06),
    rgba(255, 0, 0, 0.06)
  );
  mix-blend-mode: color-dodge;
  pointer-events: none;
  z-index: 5;
  animation: mint-holo-shift 8s linear infinite;
}


/* ── BattleHudMint (P3-300) ──────────────────────────────────────────── */

@keyframes mint-hud-glint-sweep {
  0% {
    transform: translateX(-118%);
    opacity: 0;
  }
  20% {
    opacity: 0.38;
  }
  38% {
    transform: translateX(132%);
    opacity: 0;
  }
  100% {
    transform: translateX(132%);
    opacity: 0;
  }
}

.mint-battle-hud {
  position: relative;
  display: flex;
  align-items: center;
  flex-wrap: nowrap;
  gap: 10px;
  padding: 10px 14px;
  min-height: 58px;
  border-radius: 18px;
  border: 1px solid rgba(148, 211, 252, 0.58);
  background:
    radial-gradient(circle at 14% -20%, rgba(125, 211, 252, 0.24), transparent 42%),
    linear-gradient(165deg, rgba(255, 255, 255, 0.82), rgba(238, 250, 255, 0.68));
  box-shadow:
    0 14px 28px -20px rgba(14, 116, 144, 0.6),
    0 6px 18px rgba(15, 23, 42, 0.08),
    inset 0 1px 0 rgba(255, 255, 255, 0.72);
  backdrop-filter: blur(14px) saturate(1.08);
  -webkit-backdrop-filter: blur(14px) saturate(1.08);
  overflow: hidden;
  font-size: 12px;
}

.mint-battle-hud::before {
  content: "";
  position: absolute;
  top: 0;
  bottom: 0;
  left: -28%;
  width: 28%;
  pointer-events: none;
  background: linear-gradient(102deg, transparent, rgba(255, 255, 255, 0.4), transparent);
  animation: mint-hud-glint-sweep 10.5s ease-in-out infinite;
}

.mint-battle-hud::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  border-radius: inherit;
  background:
    linear-gradient(180deg, rgba(255, 255, 255, 0.2), transparent 44%),
    repeating-linear-gradient(
      118deg,
      rgba(255, 255, 255, 0.05) 0px,
      rgba(255, 255, 255, 0.05) 5px,
      transparent 5px,
      transparent 24px
    );
  opacity: 0.52;
}

.mint-battle-hud > * {
  position: relative;
  z-index: 1;
}

.mint-battle-hud--pixi {
  border-color: rgba(56, 189, 248, 0.34);
  background:
    radial-gradient(circle at 12% -22%, rgba(34, 211, 238, 0.2), transparent 40%),
    linear-gradient(148deg, rgba(7, 22, 42, 0.9), rgba(6, 15, 30, 0.88));
  box-shadow:
    0 16px 32px rgba(2, 6, 23, 0.48),
    inset 0 1px 0 rgba(148, 163, 184, 0.18),
    0 0 24px rgba(56, 189, 248, 0.2);
}

.mint-battle-hud--pixi .mint-battle-hud__turn-label,
.mint-battle-hud--pixi .mint-battle-hud__phase-label {
  color: #cbd5e1;
}

.mint-battle-hud--pixi .mint-battle-hud__turn-value {
  color: #f8fafc;
}

.mint-battle-hud--pixi .mint-battle-hud__progress {
  background: rgba(30, 41, 59, 0.9);
}

.mint-battle-hud--pixi .mint-battle-hud__progress-fill {
  background: linear-gradient(90deg, #22d3ee 0%, #38bdf8 100%);
}

.mint-battle-hud--pixi .mint-battle-hud__advantage--emerald {
  background: rgba(16, 185, 129, 0.22);
  color: #86efac;
}

.mint-battle-hud--pixi .mint-battle-hud__advantage--red {
  background: rgba(239, 68, 68, 0.24);
  color: #fecaca;
}

.mint-battle-hud--pixi .mint-battle-hud__advantage--slate {
  background: rgba(148, 163, 184, 0.22);
  color: #e2e8f0;
}

.mint-battle-hud--pixi .mint-battle-hud__advantage--amber {
  background: rgba(245, 158, 11, 0.24);
  color: #fde68a;
}

.mint-battle-hud--pixi .mint-battle-hud__tip {
  border-color: rgba(56, 189, 248, 0.32);
  background: rgba(14, 116, 144, 0.24);
  color: #e0f2fe;
}

.mint-battle-hud--pixi .mint-battle-hud__ai-reason {
  border-color: rgba(56, 189, 248, 0.28);
  background: rgba(14, 116, 144, 0.22);
  color: #bae6fd;
}

.mint-battle-hud--pixi .mint-battle-hud__turn,
.mint-battle-hud--pixi .mint-battle-hud__phase {
  border-color: rgba(56, 189, 248, 0.28);
  background: linear-gradient(180deg, rgba(15, 23, 42, 0.54), rgba(15, 23, 42, 0.32));
  box-shadow: inset 0 1px 0 rgba(148, 163, 184, 0.12);
}

.mint-battle-hud--pixi .mint-battle-hud__phase-dot {
  background: radial-gradient(circle at 35% 35%, rgba(255, 255, 255, 0.96), rgba(34, 211, 238, 0.82));
  box-shadow: 0 0 10px rgba(34, 211, 238, 0.46);
}

.mint-battle-hud__turn {
  display: flex;
  align-items: center;
  gap: 6px;
  flex-shrink: 0;
  padding: 2px 9px;
  border-radius: 999px;
  border: 1px solid rgba(148, 163, 184, 0.28);
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.56), rgba(241, 245, 249, 0.42));
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.6);
}

.mint-battle-hud__turn-label {
  font-family: var(--font-display, system-ui);
  font-size: 9px;
  font-weight: 700;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--mint-text-muted, #94a3b8);
}

.mint-battle-hud__turn-value {
  font-family: var(--font-mono, monospace);
  font-weight: 700;
  font-size: 15px;
  color: var(--mint-text-primary, #1e293b);
  text-shadow: 0 1px 0 rgba(255, 255, 255, 0.45);
}

.mint-battle-hud__progress {
  position: relative;
  width: 48px;
  height: 4px;
  border-radius: 999px;
  background: rgba(148, 163, 184, 0.3);
  box-shadow: inset 0 1px 2px rgba(15, 23, 42, 0.24);
  overflow: hidden;
}

.mint-battle-hud__progress-fill {
  position: relative;
  height: 100%;
  border-radius: 999px;
  background: linear-gradient(90deg, #22d3ee 0%, #34d399 100%);
  box-shadow: 0 0 10px rgba(20, 184, 166, 0.34);
  transition: width 0.3s ease;
}

.mint-battle-hud__progress-fill::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
  transform: translateX(-100%);
  animation: mint-hud-glint-sweep 2.8s ease-in-out infinite;
}

.mint-battle-hud__advantage {
  padding: 3px 10px;
  border-radius: 10px;
  font-weight: 700;
  font-size: 11px;
  white-space: nowrap;
  border: 1px solid rgba(148, 163, 184, 0.28);
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.55);
}

.mint-battle-hud__advantage--emerald {
  background: rgba(16, 185, 129, 0.15);
  color: #059669;
}

.mint-battle-hud__advantage--red {
  background: rgba(239, 68, 68, 0.15);
  color: #dc2626;
}

.mint-battle-hud__advantage--slate {
  background: rgba(100, 116, 139, 0.12);
  color: #64748b;
}

.mint-battle-hud__advantage--amber {
  background: rgba(245, 158, 11, 0.15);
  color: #d97706;
}

.mint-battle-hud__insight {
  display: grid;
  grid-template-columns: minmax(136px, 170px) minmax(144px, 196px);
  gap: 6px;
  align-items: center;
  min-width: 0;
}

.mint-battle-hud__phase {
  display: flex;
  align-items: center;
  gap: 6px;
  margin-left: auto;
  padding: 2px 8px;
  border-radius: 999px;
  border: 1px solid rgba(148, 163, 184, 0.24);
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.58), rgba(241, 245, 249, 0.42));
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.58);
}

.mint-battle-hud__player-tag {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 24px;
  padding: 2px 8px;
  border-radius: 999px;
  border: 1px solid rgba(255, 255, 255, 0.22);
  font-size: 11px;
  font-weight: 700;
  letter-spacing: 0.02em;
  line-height: 1.4;
}

.mint-battle-hud__player-tag--a {
  background: var(--mint-pa-base, #3b82f6);
  color: #fff;
  box-shadow: 0 0 6px var(--mint-pa-glow, rgba(59, 130, 246, 0.5));
}

.mint-battle-hud__player-tag--b {
  background: var(--mint-pb-base, #ef4444);
  color: #fff;
  box-shadow: 0 0 6px var(--mint-pb-glow, rgba(239, 68, 68, 0.5));
}

.mint-battle-hud__phase-label {
  font-size: 11px;
  color: var(--mint-text-secondary, #64748b);
  white-space: nowrap;
}

.mint-battle-hud__phase-dot {
  width: 6px;
  height: 6px;
  border-radius: 999px;
  background: radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.92), rgba(14, 165, 233, 0.84));
  box-shadow: 0 0 10px rgba(14, 165, 233, 0.4);
}


/* ── Card Selection Glow (P1-130) ────────────────────────────────────── */

@keyframes mint-card-select-glow {
  0%, 100% {
    box-shadow:
      0 0 0 2px var(--mint-selected-ring, var(--mint-accent)),
      0 0 12px var(--mint-selected-glow, var(--mint-cell-active-glow)),
      0 8px 20px rgba(0, 0, 0, 0.12);
  }
  50% {
    box-shadow:
      0 0 0 3px var(--mint-selected-ring, var(--mint-accent)),
      0 0 24px var(--mint-selected-glow, var(--mint-cell-active-glow)),
      0 8px 20px rgba(0, 0, 0, 0.12);
  }
}


/* ── Move Tip Badge (P1-120) ─────────────────────────────────────────── */

.mint-battle-hud__tip {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 4px;
  padding: 3px 9px;
  width: 100%;
  min-height: 24px;
  border-radius: 999px;
  font-size: 11px;
  font-weight: 700;
  background: rgba(16, 185, 129, 0.10);
  color: #059669;
  border: 1px solid rgba(167, 243, 208, 0.6);
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.55);
  animation: mint-slide-up 0.3s ease-out;
  overflow: hidden;
}

.mint-battle-hud__tip-icon { font-size: 12px; line-height: 1; }
.mint-battle-hud__tip-label {
  font-size: 11px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.mint-battle-hud__tip--empty {
  visibility: hidden;
  pointer-events: none;
  animation: none;
}

/* Contextual variants */
.mint-battle-hud__tip--warning_dodge,
.mint-battle-hud__tip--corner_control {
  background: rgba(16, 185, 129, 0.12); color: #059669;
  border-color: rgba(167, 243, 208, 0.5);
}
.mint-battle-hud__tip--warning_triggered {
  background: rgba(245, 158, 11, 0.12); color: #D97706;
  border-color: rgba(245, 158, 11, 0.3);
}
.mint-battle-hud__tip--warning_trap {
  background: rgba(249, 115, 22, 0.10); color: #EA580C;
  border-color: rgba(249, 115, 22, 0.25);
}
.mint-battle-hud__tip--big_swing,
.mint-battle-hud__tip--domination_combo {
  background: rgba(239, 68, 68, 0.10); color: #DC2626;
  border-color: rgba(239, 68, 68, 0.25);
}
.mint-battle-hud__tip--chain_combo {
  background: rgba(139, 92, 246, 0.10); color: #7C3AED;
  border-color: rgba(139, 92, 246, 0.25);
}
.mint-battle-hud__tip--center_hold {
  background: rgba(100, 116, 139, 0.08); color: #64748B;
  border-color: rgba(100, 116, 139, 0.2);
}


/* ── AI Reason Badge (P3-312) ────────────────────────────────────────── */

.mint-battle-hud__ai-reason {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 4px;
  padding: 3px 9px;
  width: 100%;
  min-height: 24px;
  border-radius: 999px;
  font-size: 10px;
  font-weight: 600;
  background: rgba(139, 92, 246, 0.08);
  color: #8B5CF6;
  border: 1px solid rgba(139, 92, 246, 0.2);
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.55);
  animation: mint-slide-up 0.3s ease-out;
  overflow: hidden;
}

.mint-battle-hud__ai-reason-icon { font-size: 11px; line-height: 1; }
.mint-battle-hud__ai-reason-label {
  font-size: 10px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.mint-battle-hud__ai-reason--empty {
  visibility: hidden;
  pointer-events: none;
  animation: none;
}

@media (max-width: 760px) {
  .mint-battle-hud {
    flex-wrap: wrap;
    gap: 8px;
    padding: 8px 10px;
    border-radius: 14px;
  }

  .mint-battle-hud__insight {
    grid-template-columns: minmax(0, 1fr);
    width: 100%;
    order: 10;
  }

  .mint-battle-hud__turn {
    padding: 2px 7px;
  }

  .mint-battle-hud__turn-value {
    font-size: 13px;
  }

  .mint-battle-hud__progress {
    width: 38px;
  }

  .mint-battle-hud__advantage,
  .mint-battle-hud__tip,
  .mint-battle-hud__ai-reason {
    font-size: 10px;
  }

  .mint-battle-hud__phase {
    margin-left: 0;
  }
}

@media (max-width: 480px) {
  .mint-battle-hud {
    justify-content: space-between;
  }

  .mint-battle-hud__phase {
    width: 100%;
    justify-content: flex-start;
  }
}


/* ── Reduced Motion ──────────────────────────────────────────────────── */

@media (prefers-reduced-motion: reduce) {
  .mint-pressable,
  .mint-pressable:hover,
  .mint-pressable:active {
    transform: none !important;
    transition-duration: 0s !important;
  }

  .mint-cell--selectable,
  .mint-cell--selected,
  .mint-cell--placed,
  .mint-cell--flipped,
  .mint-prompt,
  .mint-error-pill,
  .mint-hand-card,
  .mint-focus-hand-card,
  .mint-confirm-bar,
  .mint-result-overlay,
  .mint-result-panel,
  .mint-arrow-overlay,
  .mint-nyano-reaction,
  .mint-nyano-reaction__cutin-flash,
  .mint-nyano-reaction__scanline,
  .mint-nyano-reaction__burst-banner,
  .mint-drawer,
  .mint-drawer-backdrop,
  .mint-stage--impact-burst,
  .mint-stage--impact-burst .mint-stage__holo,
  .mint-stage--impact-burst .mint-stage__glow,
  .mint-stage--impact-burst .mint-stage__board > *,
  .engine-drop-grid--active .engine-drop-grid__cell--droppable {
    animation: none !important;
    transition-duration: 0s !important;
  }

  .mint-arrow-overlay g {
    opacity: 1 !important;
    animation: none !important;
  }

  .mint-board-inner::after,
  .mint-stage,
  .mint-stage::before,
  .mint-stage::after,
  .mint-stage__atmo {
    animation: none !important;
  }

  .mint-stage__board > * {
    transform: none !important;
  }

  .mint-focus-hand-dock::after {
    animation: none !important;
  }

  .mint-compact-card::after {
    animation: none !important;
  }

  /* P1-130: Static glow fallback for card selection */
  .mint-hand-card--selected {
    animation: none !important;
    box-shadow: 0 0 0 2px var(--mint-selected-ring, var(--mint-accent)),
                0 0 16px var(--mint-selected-glow, var(--mint-cell-active-glow)),
                0 8px 20px rgba(0, 0, 0, 0.12) !important;
  }

  /* P1-120 / P3-312: Disable tip & reason badge entrance animation */
  .mint-battle-hud__tip,
  .mint-battle-hud__ai-reason {
    animation: none !important;
  }

  .mint-battle-hud::before,
  .mint-battle-hud::after,
  .mint-battle-hud__progress-fill::after {
    animation: none !important;
  }

  .mint-top-hud::before,
  .mint-top-hud__turn-value {
    animation: none !important;
  }

  /* CARD-0101: disable holo foil in reduced motion */
  .mint-duel-card__foil {
    animation: none !important;
  }
}


/* ═══════════════════════════════════════════════════════════════════════════
   CARD-0101: CardNyanoDuel — Art-forward "duel" card skin
   ═══════════════════════════════════════════════════════════════════════════ */

.mint-duel-card {
  position: relative;
  overflow: hidden;
  border-radius: 14px;
  border: 2px solid rgba(255, 255, 255, 0.2);
  background:
    radial-gradient(circle at 20% 12%, rgba(255, 255, 255, 0.16), transparent 48%),
    linear-gradient(165deg, rgba(30, 41, 59, 0.22), rgba(15, 23, 42, 0.52)),
    #1a1a2e;
  box-shadow:
    0 10px 18px -12px rgba(2, 6, 23, 0.9),
    inset 0 1px 0 rgba(255, 255, 255, 0.24);
  transition: box-shadow 0.25s ease, border-color 0.25s ease, transform 0.25s ease;
}

.mint-duel-card::before {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 2;
  background:
    radial-gradient(circle at 28% 18%, rgba(255, 255, 255, 0.14), transparent 44%),
    linear-gradient(to bottom, transparent 38%, rgba(2, 6, 23, 0.28) 100%);
}

.mint-duel-card::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  z-index: 6;
  border: 1px solid rgba(255, 255, 255, 0.16);
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.25),
    inset 0 -1px 0 rgba(2, 6, 23, 0.35);
}

/* Owner glow — activated by parent .mint-cell--owner-X */
.mint-cell--owner-a .mint-duel-card {
  border-color: var(--mint-pa-light);
  box-shadow:
    0 0 16px var(--mint-pa-glow),
    0 0 4px rgba(14, 165, 233, 0.3),
    0 10px 14px -10px rgba(0, 0, 0, 0.8);
}
.mint-cell--owner-b .mint-duel-card {
  border-color: var(--mint-pb-light);
  box-shadow:
    0 0 16px var(--mint-pb-glow),
    0 0 4px rgba(244, 63, 94, 0.3),
    0 10px 14px -10px rgba(0, 0, 0, 0.8);
}

/* Hand owner glow (no .mint-cell parent) */
.mint-duel-card--owner-a {
  border-color: var(--mint-pa-light);
  box-shadow:
    0 0 14px var(--mint-pa-glow),
    0 8px 12px -10px rgba(0, 0, 0, 0.8);
}
.mint-duel-card--owner-b {
  border-color: var(--mint-pb-light);
  box-shadow:
    0 0 14px var(--mint-pb-glow),
    0 8px 12px -10px rgba(0, 0, 0, 0.8);
}

/* NFT art hero layer */
.mint-duel-card__art {
  position: absolute;
  inset: 0;
  z-index: 0;
  transform: scale(1.015);
  filter: saturate(1.08) contrast(1.06);
}

/* Owner tint overlay */
.mint-duel-card__tint {
  position: absolute;
  inset: 0;
  z-index: 1;
  opacity: 0.09;
  pointer-events: none;
}

/* Glass bottom panel — premium frosted glass with subtle border */
.mint-duel-card__glass {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 4;
  backdrop-filter: blur(12px) saturate(1.38);
  -webkit-backdrop-filter: blur(12px) saturate(1.38);
  background: linear-gradient(
    180deg,
    rgba(2, 6, 23, 0.08) 0%,
    rgba(2, 6, 23, 0.44) 56%,
    rgba(2, 6, 23, 0.64) 100%
  );
  padding: 5px 6px 6px;
  border-top: 1px solid rgba(255, 255, 255, 0.28);
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.24);
}

/* Edge cross layout inside glass panel (3x3 grid) */
.mint-duel-card__edges {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  grid-template-rows: repeat(3, 1fr);
  gap: 2px;
}

/* Edge number cells */
.mint-duel-card__edge {
  --mint-edge-fg: #f1f5f9;
  --mint-edge-glow: rgba(148, 163, 184, 0.2);
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  min-height: 16px;
  border-radius: 7px;
  border: 1px solid rgba(148, 163, 184, 0.34);
  background:
    radial-gradient(circle at 28% 20%, rgba(255, 255, 255, 0.24), transparent 58%),
    linear-gradient(180deg, rgba(255, 255, 255, 0.08), rgba(15, 23, 42, 0.34));
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.22),
    inset 0 -1px 0 rgba(2, 6, 23, 0.38),
    0 2px 3px rgba(2, 6, 23, 0.3);
}

.mint-duel-card__edge::before {
  content: "";
  position: absolute;
  top: 1px;
  left: 2px;
  right: 2px;
  height: 32%;
  border-radius: 999px;
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.34), rgba(255, 255, 255, 0));
  pointer-events: none;
}

.mint-duel-card__edge-value {
  position: relative;
  z-index: 1;
  font-size: 12px;
  font-weight: 900;
  line-height: 1;
  letter-spacing: 0.02em;
  color: var(--mint-edge-fg);
  text-shadow:
    0 1px 0 rgba(2, 6, 23, 0.95),
    0 0 6px var(--mint-edge-glow);
}

.mint-duel-card__edge--up,
.mint-duel-card__edge--down {
  justify-self: center;
  width: 88%;
}

.mint-duel-card__edge--left,
.mint-duel-card__edge--right {
  width: 100%;
}

/* Strength-based coloring — more vivid */
.mint-duel-card__edge--high {
  color: #fbbf24;
  text-shadow: 0 0 6px rgba(251, 191, 36, 0.5), 0 1px 3px rgba(0, 0, 0, 0.9);
}
.mint-duel-card__edge--mid  { color: #f1f5f9; }   /* value 4-7: bright silver */
.mint-duel-card__edge--low  { color: #94a3b8; }   /* value ≤ 3: dim */

/* Highlighted edge (flip winner) */
.mint-duel-card__edge--highlight {
  background: rgba(251, 191, 36, 0.35);
  border-radius: 4px;
  outline: 1.5px solid rgba(251, 191, 36, 0.7);
  text-shadow: 0 0 8px rgba(251, 191, 36, 0.6), 0 1px 3px rgba(0, 0, 0, 0.9);
}

/* Center cell — janken */
.mint-duel-card__janken {
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  line-height: 1;
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.5));
}

/* Trait accent bar at top */
.mint-duel-card__trait {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  z-index: 5;
}

/* Token ID label */
.mint-duel-card__token-id {
  position: absolute;
  top: 3px;
  left: 5px;
  z-index: 6;
  font-size: 8px;
  font-family: var(--font-mono, monospace);
  color: rgba(255, 255, 255, 0.6);
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8);
  pointer-events: none;
}

/* CARD polish overrides: edge gem readability + center badge depth */
.mint-duel-card__edge--high {
  --mint-edge-fg: #fbbf24;
  --mint-edge-glow: rgba(251, 191, 36, 0.72);
  border-color: rgba(251, 191, 36, 0.52);
  background:
    radial-gradient(circle at 28% 20%, rgba(254, 240, 138, 0.36), transparent 58%),
    linear-gradient(180deg, rgba(251, 191, 36, 0.2), rgba(120, 53, 15, 0.44));
}

.mint-duel-card__edge--mid {
  --mint-edge-fg: #f8fafc;
  --mint-edge-glow: rgba(241, 245, 249, 0.34);
}

.mint-duel-card__edge--low {
  --mint-edge-fg: #cbd5e1;
  --mint-edge-glow: rgba(148, 163, 184, 0.2);
  border-color: rgba(100, 116, 139, 0.42);
  background:
    radial-gradient(circle at 28% 20%, rgba(203, 213, 225, 0.2), transparent 56%),
    linear-gradient(180deg, rgba(30, 41, 59, 0.24), rgba(15, 23, 42, 0.45));
}

.mint-duel-card__edge--highlight {
  transform: translateY(-1px) scale(1.06);
  border-color: rgba(251, 191, 36, 0.88);
  box-shadow:
    0 0 0 1px rgba(254, 243, 199, 0.62),
    0 0 12px rgba(251, 191, 36, 0.46);
}

.mint-duel-card__janken {
  border-radius: 999px;
  border: 1px solid rgba(255, 255, 255, 0.42);
  background:
    radial-gradient(circle at 28% 20%, rgba(255, 255, 255, 0.4), transparent 58%),
    linear-gradient(180deg, rgba(14, 165, 233, 0.25), rgba(2, 6, 23, 0.44));
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.3),
    0 2px 4px rgba(2, 6, 23, 0.34);
}

.mint-duel-card__janken-glyph {
  font-size: 14px;
  line-height: 1;
  filter: drop-shadow(0 1px 3px rgba(2, 6, 23, 0.75));
}

.mint-duel-card__token-id {
  letter-spacing: 0.04em;
  color: rgba(255, 255, 255, 0.82);
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.92);
}

/* Holo foil shimmer */
.mint-duel-card__foil {
  position: absolute;
  inset: 0;
  z-index: 7;
  background: linear-gradient(
    135deg,
    transparent 30%,
    rgba(255, 255, 255, 0.06) 45%,
    rgba(255, 255, 255, 0.1) 50%,
    rgba(255, 255, 255, 0.06) 55%,
    transparent 70%
  );
  background-size: 200% 200%;
  animation: mint-holo-shift 4s ease-in-out infinite;
  mix-blend-mode: screen;
  opacity: 0.75;
  pointer-events: none;
}

@keyframes mint-holo-shift {
  0%   { background-position: -50% -50%; }
  50%  { background-position: 150% 150%; }
  100% { background-position: -50% -50%; }
}

/* Card placement / flip animations (reuse enhanced keyframes) */
.mint-duel-card--placed {
  animation: mint-cell-place 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
}
.mint-duel-card--flipped {
  animation: mint-cell-flip 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Hand variant: slightly taller aspect ratio */
.mint-duel-card--hand {
  aspect-ratio: 3 / 4;
}


/* ═══════════════════════════════════════════════════════════════════════════
   MINI-DUEL: CardMini "duel" variant — browser grid card with NFT art hero
   Aspect ratio 3/4, responsive sizing, hover lift effect.
   ═══════════════════════════════════════════════════════════════════════════ */

.card-mini-duel {
  width: 100%;
  aspect-ratio: 3 / 4;
  border-radius: 14px;
  overflow: hidden;
  position: relative;
}

/* Browser grid: slightly smaller glass panel & edges for mini cards */
.card-mini-duel .mint-duel-card__glass {
  padding: 2px 3px;
}
.card-mini-duel .mint-duel-card__edge-value {
  font-size: 10px;
  font-weight: 800;
}
.card-mini-duel .mint-duel-card__janken-glyph {
  font-size: 11px;
}
.card-mini-duel .mint-duel-card__token-id {
  font-size: 7px;
}

/* Hover lift with spring feel */
.card-mini-duel:hover {
  transform: translateY(-2px) scale(1.03);
  transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* Deck preview: larger cards in 5-col grid */
.deck-preview-grid .card-mini-duel .mint-duel-card__glass {
  padding: 3px 4px;
}
.deck-preview-grid .card-mini-duel .mint-duel-card__edge-value {
  font-size: 11px;
}


/* ═══════════════════════════════════════════════════════════════════════════
   PREV-0501: CardPreviewPanel — Large card inspection popover
   ═══════════════════════════════════════════════════════════════════════════ */

.mint-preview-panel {
  position: fixed;
  z-index: 60;
  width: 220px;
  border-radius: 18px;
  background: rgba(15, 15, 30, 0.92);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 16px 48px rgba(0, 0, 0, 0.4), 0 0 0 1px rgba(0, 0, 0, 0.2);
  padding: 12px;
  pointer-events: auto;
  animation: mint-preview-pop 0.15s ease-out;
}

@keyframes mint-preview-pop {
  from { opacity: 0; transform: scale(0.92); }
  to   { opacity: 1; transform: scale(1); }
}

.mint-preview-panel__card {
  width: 100%;
  aspect-ratio: 1;
  border-radius: 14px;
  overflow: hidden;
}

.mint-preview-panel__stats {
  margin-top: 10px;
  display: grid;
  gap: 4px;
  font-size: 12px;
  color: rgba(255, 255, 255, 0.8);
}

.mint-preview-panel__stat-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 2px 4px;
}

.mint-preview-panel__stat-label {
  color: rgba(255, 255, 255, 0.45);
  font-size: 10px;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.mint-preview-panel__stat-value {
  font-weight: 700;
  font-family: var(--font-mono, monospace);
}

/* Reduced motion: skip pop animation */
@media (prefers-reduced-motion: reduce) {
  .mint-preview-panel { animation: none; }
}


/* ═══════════════════════════════════════════════════════════════════════════
   VFX Quality Tiers — [data-vfx] attribute on <html>  (P2-VFX-001 / 003)
   Set by visualSettings.ts via App.tsx.  Tiers: off | low | medium | high.
   ═══════════════════════════════════════════════════════════════════════════ */

/* ── OFF: No animations at all ──────────────────────────────────────── */
[data-vfx="off"] .mint-stage::after                 { display: none !important; }
[data-vfx="off"] .mint-stage__atmo                 { display: none !important; }
[data-vfx="off"] .mint-stage__glow                 { display: none !important; }
[data-vfx="off"] .mint-stage::before               { animation: none !important; opacity: 0.1; }
[data-vfx="off"] .mint-compact-card::after           { animation: none !important; }
[data-vfx="off"] .mint-duel-card__foil               { animation: none !important; }
[data-vfx="off"] .mint-board-inner::after            { animation: none !important; opacity: 0.34; }
[data-vfx="off"] .mint-cell--selectable              { animation: none !important; }
[data-vfx="off"] .mint-cell--selected                { animation: none !important; }
[data-vfx="off"] .mint-cell--placed                  { animation: none !important; }
[data-vfx="off"] .mint-cell--flipped                 { animation: none !important; }
[data-vfx="off"] .mint-duel-card--placed             { animation: none !important; }
[data-vfx="off"] .mint-duel-card--flipped            { animation: none !important; }
[data-vfx="off"] .mint-focus-hand-dock::after        { display: none !important; }
[data-vfx="off"] .mint-battle-hud::before,
[data-vfx="off"] .mint-battle-hud::after             { display: none !important; }
[data-vfx="off"] .mint-battle-hud__progress-fill::after { animation: none !important; }
[data-vfx="off"] .mint-top-hud::before               { display: none !important; }
[data-vfx="off"] .mint-top-hud__turn-value           { animation: none !important; }
[data-vfx="off"] .mint-nyano-reaction__burst-banner  { animation: none !important; }
[data-vfx="off"] .mint-pressable                     { transition-duration: 0s !important; }
[data-vfx="off"] .mint-pressable:hover,
[data-vfx="off"] .mint-pressable:active              { transform: none !important; }
[data-vfx="off"] .mint-stage--impact-burst           { animation: none !important; filter: none !important; }
[data-vfx="off"] .mint-stage--impact-burst .mint-stage__holo,
[data-vfx="off"] .mint-stage--impact-burst .mint-stage__glow,
[data-vfx="off"] .mint-stage--impact-burst .mint-stage__board > * {
  animation: none !important;
}

/* ── LOW: Minimal — no foil/sparkle, shortened placement ────────────── */
[data-vfx="low"] .mint-stage::after                  { display: none !important; }
[data-vfx="low"] .mint-stage__atmo                   { animation: none !important; opacity: 0.2; }
[data-vfx="low"] .mint-stage::before                { animation-duration: 44s !important; opacity: 0.12; }
[data-vfx="low"] .mint-stage__glow                  { opacity: 0.34; }
[data-vfx="low"] .mint-compact-card::after            { animation: none !important; }
[data-vfx="low"] .mint-duel-card__foil                { animation: none !important; }
[data-vfx="low"] .mint-board-inner::after             { animation: none !important; opacity: 0.4; }
[data-vfx="low"] .mint-cell--selectable               { animation: none !important; }
[data-vfx="low"] .mint-cell--selected                 { animation: none !important; }
[data-vfx="low"] .mint-cell--placed                   { animation-duration: 0.25s !important; }
[data-vfx="low"] .mint-cell--flipped                  { animation-duration: 0.25s !important; }
[data-vfx="low"] .mint-duel-card--placed              { animation-duration: 0.25s !important; }
[data-vfx="low"] .mint-duel-card--flipped             { animation-duration: 0.3s !important; }
[data-vfx="low"] .mint-focus-hand-dock::after         { animation-duration: 22s !important; opacity: 0.22; }
[data-vfx="low"] .mint-battle-hud::before             { animation-duration: 16s !important; opacity: 0.2; }
[data-vfx="low"] .mint-battle-hud::after              { opacity: 0.2; }
[data-vfx="low"] .mint-battle-hud__progress-fill::after { animation-duration: 5s !important; opacity: 0.26; }
[data-vfx="low"] .mint-top-hud::before                { animation-duration: 16s !important; opacity: 0.2; }
[data-vfx="low"] .mint-top-hud__turn-value            { animation: none !important; }
[data-vfx="low"] .mint-nyano-reaction__burst-banner   { animation-duration: 420ms !important; }
[data-vfx="low"] .mint-pressable                      { transition-duration: 120ms !important; }
[data-vfx="low"] .mint-stage--impact-burst            { animation-duration: 280ms !important; }
[data-vfx="low"] .mint-stage--impact-burst .mint-stage__holo,
[data-vfx="low"] .mint-stage--impact-burst .mint-stage__glow,
[data-vfx="low"] .mint-stage--impact-burst .mint-stage__board > * {
  animation: none !important;
}

/* ── MEDIUM: Standard — sparkle hidden, slower foils/glow ───────────── */
[data-vfx="medium"] .mint-stage::after               { display: none !important; }
[data-vfx="medium"] .mint-stage__atmo                { animation-duration: 24s !important; opacity: 0.3; }
[data-vfx="medium"] .mint-stage::before             { animation-duration: 36s !important; opacity: 0.14; }
[data-vfx="medium"] .mint-compact-card::after         { animation-duration: 12s !important; }
[data-vfx="medium"] .mint-duel-card__foil             { animation-duration: 6s !important; }
[data-vfx="medium"] .mint-board-inner::after          { animation-duration: 24s !important; opacity: 0.46; }
[data-vfx="medium"] .mint-cell--selected              { animation-duration: 3s !important; }
[data-vfx="medium"] .mint-top-hud::before             { animation-duration: 12s !important; opacity: 0.28; }
[data-vfx="medium"] .mint-stage--impact-burst         { animation-duration: 520ms !important; }

/* ── HIGH: Full effects (current defaults). Sparkle re-enabled ──────── */
[data-vfx="high"] .mint-stage__atmo                  { opacity: 0.42; }
[data-vfx="high"] .mint-board-inner::after           { opacity: 0.56; }
[data-vfx="high"] .mint-stage::before               { opacity: 0.18; }
[data-vfx="high"] .mint-stage::after                { display: block !important; opacity: 0.42; }

/* ═══════════════════════════════════════════════════════════════════════════
   Mint App Shell + Primitive UI (WO-017 / WO-022)
   ═══════════════════════════════════════════════════════════════════════════ */

@keyframes mint-app-bg-pan {
  0% {
    background-position: 0% 0%, 90% 10%, 12% 88%, 50% 50%;
  }
  100% {
    background-position: 10% 6%, 84% 16%, 18% 82%, 50% 50%;
  }
}

@keyframes mint-app-sparkle {
  0% {
    opacity: 0.22;
    transform: translate3d(0, 0, 0);
  }
  50% {
    opacity: 0.38;
    transform: translate3d(0, -1.2%, 0);
  }
  100% {
    opacity: 0.24;
    transform: translate3d(0, 0, 0);
  }
}

.mint-app-shell {
  position: relative;
  min-height: 100dvh;
  isolation: isolate;
}

.mint-app-shell__bg,
.mint-app-shell__sparkles {
  position: fixed;
  inset: 0;
  pointer-events: none;
}

.mint-app-shell__bg {
  z-index: -2;
  background:
    var(--mint-asset-bg-cloud),
    var(--mint-asset-bg-paw),
    radial-gradient(circle at 14% 8%, rgba(255, 255, 255, 0.52), transparent 34%),
    radial-gradient(circle at 88% 18%, rgba(224, 231, 255, 0.38), transparent 36%),
    radial-gradient(circle at 16% 88%, rgba(221, 214, 254, 0.34), transparent 34%),
    linear-gradient(145deg, #bff0df 0%, #c6ebf5 42%, #d7caf5 74%, #c6e8ef 100%);
  background-size: cover, 512px 512px, 120% 120%, 120% 120%, 130% 130%, 100% 100%;
  background-repeat: no-repeat, repeat, no-repeat, no-repeat, no-repeat, no-repeat;
  background-position: center, center, center, center, center, center;
  background-blend-mode: screen, soft-light, normal, normal, normal, normal;
  animation: mint-app-bg-pan 28s ease-in-out infinite alternate;
}

.mint-app-shell__sparkles {
  z-index: -1;
  opacity: 0.28;
  background-image:
    var(--mint-asset-sparkle),
    var(--mint-asset-noise),
    radial-gradient(1.4px 1.4px at 12% 16%, rgba(255, 255, 255, 0.78) 50%, transparent 50%),
    radial-gradient(1px 1px at 32% 68%, rgba(255, 255, 255, 0.64) 50%, transparent 50%),
    radial-gradient(1.4px 1.4px at 52% 18%, rgba(255, 255, 255, 0.68) 50%, transparent 50%),
    radial-gradient(1.1px 1.1px at 74% 52%, rgba(255, 255, 255, 0.66) 50%, transparent 50%),
    radial-gradient(1.4px 1.4px at 90% 24%, rgba(255, 255, 255, 0.72) 50%, transparent 50%);
  background-size: 512px 512px, 256px 256px, auto, auto, auto, auto, auto;
  background-repeat: repeat, repeat, no-repeat, no-repeat, no-repeat, no-repeat, no-repeat;
  background-blend-mode: screen, overlay, normal, normal, normal, normal, normal;
  animation: mint-app-sparkle 16s ease-in-out infinite;
}

.mint-app-shell__safe {
  min-height: 100dvh;
  padding:
    max(8px, env(safe-area-inset-top))
    max(12px, env(safe-area-inset-right))
    max(14px, env(safe-area-inset-bottom))
    max(12px, env(safe-area-inset-left));
}

.mint-app-main {
  width: min(1240px, 100%);
  margin-inline: auto;
  padding: 10px 4px 16px;
}

.mint-app-chrome {
  width: min(1240px, 100%);
  margin-inline: auto;
  display: grid;
  gap: 10px;
  padding: 2px 4px 8px;
}

.mint-app-chrome__brand {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 10px 14px;
}

.mint-app-chrome__brand-link {
  display: inline-flex;
  align-items: center;
  gap: 9px;
  text-decoration: none;
}

.mint-app-chrome__logo-mark {
  width: 32px;
  height: 32px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 12px;
  color: #8b5cf6;
  border: 1px solid rgba(255, 255, 255, 0.76);
  background: linear-gradient(145deg, rgba(255, 255, 255, 0.88), rgba(233, 229, 255, 0.72));
  box-shadow:
    0 12px 20px -16px rgba(30, 41, 59, 0.65),
    inset 0 1px 0 rgba(255, 255, 255, 0.82);
}

.mint-app-chrome__logo-text {
  font-size: clamp(1.3rem, 3vw, 2rem);
  margin: 0;
}

.mint-app-chrome__tabs {
  margin-top: 2px;
}

.mint-app-footer {
  width: min(1240px, 100%);
  margin-inline: auto;
  padding: 8px 4px 4px;
}

.mint-app-footer__inner {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  gap: 8px;
  border-radius: 20px;
  border: 1px solid rgba(255, 255, 255, 0.76);
  padding: 10px 14px;
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  background: linear-gradient(165deg, rgba(255, 255, 255, 0.72), rgba(237, 249, 255, 0.6));
  box-shadow: 0 20px 30px -28px rgba(2, 6, 23, 0.72);
}

.mint-app-footer__copy {
  font-size: 12px;
  font-weight: 700;
  color: #475569;
}

.mint-app-footer__links {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
}

.mint-app-footer__link {
  font-size: 12px;
  font-weight: 700;
  color: #0f766e;
  text-decoration: none;
}

.mint-app-footer__link:hover {
  color: #155e75;
}

.mint-glass {
  position: relative;
  overflow: hidden;
  isolation: isolate;
  border: 1px solid rgba(255, 255, 255, 0.75);
  background: linear-gradient(160deg, rgba(255, 255, 255, 0.72), rgba(232, 244, 255, 0.56));
  box-shadow:
    0 20px 38px -30px rgba(15, 23, 42, 0.64),
    inset 0 1px 0 rgba(255, 255, 255, 0.82);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}

.mint-glass::before {
  content: "";
  position: absolute;
  inset: 1px;
  border-radius: inherit;
  border: 1px solid rgba(255, 255, 255, 0.54);
  pointer-events: none;
}

.mint-glass::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  opacity: 0.1;
  background:
    var(--mint-asset-noise),
    linear-gradient(130deg, rgba(255, 255, 255, 0.12), transparent 42%);
  background-size: 256px 256px, 100% 100%;
  background-repeat: repeat, no-repeat;
  mix-blend-mode: overlay;
}

.mint-glass--panel {
  border-radius: 24px;
}

.mint-glass--card {
  border-radius: 22px;
}

.mint-glass--pill {
  border-radius: 999px;
}

.mint-glass--interactive {
  transition:
    transform var(--mint-press-transition),
    box-shadow var(--mint-press-transition),
    border-color var(--mint-press-transition);
}

.mint-glass--interactive:hover {
  transform: translateY(-2px);
  box-shadow:
    0 22px 34px -26px rgba(15, 23, 42, 0.78),
    inset 0 1px 0 rgba(255, 255, 255, 0.88);
}

.mint-icon {
  display: inline-block;
  flex: none;
}

.mint-title-text {
  font-family: "Nunito", "Rounded Mplus 1c", sans-serif;
  font-weight: 900;
  letter-spacing: 0.015em;
  line-height: 1.04;
  color: #f8fafc;
  text-shadow:
    0 0 0.06em rgba(148, 163, 184, 0.95),
    0.06em 0 0 rgba(148, 163, 184, 0.95),
    -0.06em 0 0 rgba(148, 163, 184, 0.95),
    0 0.06em 0 rgba(148, 163, 184, 0.95),
    0 -0.06em 0 rgba(148, 163, 184, 0.95),
    0 6px 14px rgba(79, 70, 229, 0.2);
}

.mint-label-text {
  font-size: 12px;
  font-weight: 800;
  color: #334155;
  text-shadow: 0 1px 0 rgba(255, 255, 255, 0.65);
}

.mint-ui-pressable {
  --mint-surface-radius-local: var(--mint-surface-radius);
  --mint-surface-border-local: var(--mint-surface-border);
  --mint-surface-border-2-local: var(--mint-surface-border-2);
  --mint-surface-face-a-local: var(--mint-surface-face-a);
  --mint-surface-face-b-local: var(--mint-surface-face-b);
  --mint-surface-rim-outer-local: rgba(255, 255, 255, 0.54);
  --mint-surface-rim-inner-local: rgba(148, 163, 184, 0.24);
  --mint-surface-shadow-local: var(--mint-surface-shadow);
  --mint-surface-shadow-press-local: var(--mint-surface-shadow-press);
  --mint-surface-specular-opacity-local: var(--mint-surface-specular-opacity);
  --mint-surface-face-contrast-local: 1;
  position: relative;
  isolation: isolate;
  overflow: hidden;
  border: 1px solid color-mix(in srgb, var(--mint-surface-border-local) 82%, rgba(255, 255, 255, 0.86));
  border-radius: var(--mint-surface-radius-local);
  font-family: "Nunito", "Rounded Mplus 1c", sans-serif;
  font-weight: 800;
  letter-spacing: 0.01em;
  text-decoration: none;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  cursor: pointer;
  color: #334155;
  background: linear-gradient(165deg, var(--mint-surface-face-a-local), var(--mint-surface-face-b-local));
  box-shadow:
    0 0 0 1px var(--mint-surface-rim-outer-local),
    var(--mint-surface-shadow-local),
    inset 0 1px 0 rgba(255, 255, 255, 0.86),
    inset 0 -1px 0 rgba(15, 23, 42, 0.08);
  transition:
    transform var(--mint-press-transition),
    border-color var(--mint-press-transition),
    box-shadow var(--mint-press-transition),
    filter var(--mint-press-transition),
    color var(--mint-press-transition),
    background var(--mint-press-transition);
}

.mint-ui-pressable::before {
  content: "";
  position: absolute;
  inset: 1px 1px 2px;
  border-radius: calc(var(--mint-surface-radius-local) - 1px);
  border: 1px solid var(--mint-surface-rim-inner-local);
  background:
    linear-gradient(180deg, rgba(255, 255, 255, 0.18), rgba(255, 255, 255, 0) 36%),
    linear-gradient(0deg, rgba(15, 23, 42, 0.06), rgba(15, 23, 42, 0) 30%);
  pointer-events: none;
}

.mint-ui-pressable::after {
  content: "";
  position: absolute;
  inset: 1px;
  border-radius: calc(var(--mint-surface-radius-local) - 1px);
  pointer-events: none;
  opacity: var(--mint-surface-specular-opacity-local);
  background:
    linear-gradient(180deg, rgba(255, 255, 255, 0.34), rgba(255, 255, 255, 0.08) 38%, rgba(255, 255, 255, 0) 64%),
    linear-gradient(116deg, rgba(255, 255, 255, 0.18), rgba(255, 255, 255, 0) 42%),
    radial-gradient(circle at 18% 8%, rgba(255, 255, 255, 0.22), rgba(255, 255, 255, 0) 56%);
  background-size: 100% 100%, 210% 100%, 100% 100%;
  background-repeat: no-repeat, no-repeat, no-repeat;
  background-position: center, -96% 0, center;
  mix-blend-mode: normal;
}

.mint-ui-pressable:hover:not(:disabled):not([aria-disabled="true"]) {
  border-color: color-mix(in srgb, var(--mint-surface-border-local) 66%, var(--mint-accent) 34%);
  box-shadow:
    0 0 0 1px color-mix(in srgb, var(--mint-surface-rim-outer-local) 72%, rgba(255, 255, 255, 0.9)),
    0 18px 28px -22px rgba(15, 23, 42, 0.8),
    inset 0 1px 0 rgba(255, 255, 255, 0.9),
    inset 0 -1px 0 rgba(15, 23, 42, 0.06);
  filter: contrast(var(--mint-surface-face-contrast-local));
}

.mint-ui-pressable:active:not(:disabled):not([aria-disabled="true"]) {
  box-shadow:
    0 0 0 1px color-mix(in srgb, var(--mint-surface-rim-outer-local) 64%, rgba(255, 255, 255, 0.72)),
    var(--mint-surface-shadow-press-local),
    inset 0 1px 0 rgba(255, 255, 255, 0.74),
    inset 0 10px 14px -12px rgba(15, 23, 42, 0.28);
  filter: saturate(0.94) brightness(0.98);
}

.mint-ui-pressable:focus-visible {
  outline: none;
  box-shadow:
    0 0 0 2px rgba(255, 255, 255, 0.92),
    0 0 0 4px rgba(56, 189, 248, 0.42),
    0 16px 24px -20px rgba(2, 132, 199, 0.8);
}

.mint-ui-pressable--full {
  width: 100%;
}

.mint-ui-pressable--sm {
  min-height: 44px;
  padding: 8px 12px;
  font-size: 12px;
}

.mint-ui-pressable--md {
  min-height: 44px;
  padding: 10px 14px;
  font-size: 14px;
}

.mint-ui-pressable--lg {
  min-height: 58px;
  padding: 13px 16px;
  font-size: 18px;
}

.mint-ui-pressable--default {
  color: #334155;
}

.mint-ui-pressable--primary {
  --mint-surface-border-local: rgba(103, 232, 249, 0.65);
  --mint-surface-border-2-local: rgba(103, 232, 249, 0.44);
  --mint-surface-rim-outer-local: rgba(186, 230, 253, 0.52);
  --mint-surface-rim-inner-local: rgba(8, 145, 178, 0.38);
  --mint-surface-face-a-local: #2ec5f4;
  --mint-surface-face-b-local: #14b8a6;
  --mint-surface-shadow-local: 0 18px 28px -22px rgba(3, 105, 161, 0.86);
  --mint-surface-shadow-press-local: 0 8px 16px -14px rgba(3, 105, 161, 0.88);
  --mint-surface-specular-opacity-local: 0.34;
  --mint-surface-face-contrast-local: 1.05;
  color: #f8fafc;
  text-shadow: 0 1px 0 rgba(12, 74, 110, 0.34);
  background:
    linear-gradient(145deg, #22d3ee 0%, #10b981 88%);
  box-shadow:
    var(--mint-surface-shadow-local),
    0 0 0 1px rgba(186, 230, 253, 0.35);
}

.mint-ui-pressable--soft {
  --mint-surface-border-local: rgba(255, 255, 255, 0.76);
  --mint-surface-border-2-local: rgba(148, 163, 184, 0.24);
  --mint-surface-rim-outer-local: rgba(255, 255, 255, 0.64);
  --mint-surface-rim-inner-local: rgba(148, 163, 184, 0.18);
  --mint-surface-face-a-local: rgba(255, 255, 255, 0.88);
  --mint-surface-face-b-local: rgba(224, 242, 254, 0.64);
  --mint-surface-specular-opacity-local: 0.28;
  color: #334155;
}

.mint-ui-pressable--ghost {
  --mint-surface-border-local: rgba(255, 255, 255, 0.58);
  --mint-surface-border-2-local: rgba(148, 163, 184, 0.2);
  --mint-surface-rim-outer-local: rgba(255, 255, 255, 0.44);
  --mint-surface-rim-inner-local: rgba(148, 163, 184, 0.14);
  --mint-surface-face-a-local: rgba(255, 255, 255, 0.6);
  --mint-surface-face-b-local: rgba(241, 245, 249, 0.38);
  --mint-surface-shadow-local: 0 10px 18px -16px rgba(15, 23, 42, 0.7);
  --mint-surface-shadow-press-local: 0 4px 10px -8px rgba(15, 23, 42, 0.72);
  --mint-surface-specular-opacity-local: 0.24;
}

.mint-ui-pressable--disabled {
  opacity: 0.72;
  color: #94a3b8;
  border-color: rgba(203, 213, 225, 0.8);
  background:
    linear-gradient(165deg, rgba(248, 250, 252, 0.88), rgba(241, 245, 249, 0.78));
  box-shadow:
    0 8px 14px -12px rgba(15, 23, 42, 0.42),
    inset 0 1px 0 rgba(255, 255, 255, 0.72);
  cursor: not-allowed;
}

.mint-ui-pressable:disabled,
.mint-ui-pressable[aria-disabled="true"] {
  opacity: 0.72;
  color: #94a3b8;
  border-color: rgba(203, 213, 225, 0.8);
  background:
    linear-gradient(165deg, rgba(248, 250, 252, 0.88), rgba(241, 245, 249, 0.78));
  box-shadow:
    0 8px 14px -12px rgba(15, 23, 42, 0.42),
    inset 0 1px 0 rgba(255, 255, 255, 0.72);
  filter: saturate(0.68) contrast(0.9);
  cursor: not-allowed;
}

.mint-big-button {
  display: grid;
  grid-template-columns: auto minmax(0, 1fr);
  align-items: center;
  text-align: left;
  border-radius: 28px;
  min-height: 110px;
  padding-inline: 16px;
  gap: 12px;
  --mint-surface-radius-local: 28px;
  --mint-surface-rim-outer-local: rgba(255, 255, 255, 0.62);
  --mint-surface-rim-inner-local: rgba(148, 163, 184, 0.2);
  --mint-surface-specular-opacity-local: 0.32;
}

.mint-big-button__icon-wrap {
  position: relative;
  isolation: isolate;
  overflow: hidden;
  width: 58px;
  height: 58px;
  border-radius: 18px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: #6366f1;
  background:
    radial-gradient(circle at 24% 14%, rgba(255, 255, 255, 0.72), transparent 32%),
    linear-gradient(145deg, rgba(255, 255, 255, 0.78), rgba(221, 214, 254, 0.48));
  border: 1px solid rgba(255, 255, 255, 0.78);
  box-shadow:
    0 14px 22px -20px rgba(30, 41, 59, 0.82),
    inset 0 1px 0 rgba(255, 255, 255, 0.86);
}

.mint-big-button__icon-wrap::after {
  content: "";
  position: absolute;
  inset: 1px;
  border-radius: inherit;
  pointer-events: none;
  background:
    linear-gradient(180deg, rgba(255, 255, 255, 0.34), rgba(255, 255, 255, 0) 58%),
    linear-gradient(120deg, rgba(255, 255, 255, 0.24), transparent 42%);
}

.mint-big-button__copy {
  display: grid;
  gap: 3px;
}

.mint-big-button__title {
  font-size: clamp(1.3rem, 2.8vw, 2rem);
  font-weight: 900;
  line-height: 1;
  color: #334155;
}

.mint-big-button__subtitle {
  font-size: 13px;
  font-weight: 700;
  color: #64748b;
}

.mint-tab-nav {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.mint-tab-nav__item {
  min-height: 44px;
  padding: 8px 14px;
  border-radius: 999px;
  font-size: 14px;
  --mint-surface-radius-local: 999px;
  --mint-surface-specular-opacity-local: 0.44;
}

.mint-tab-nav__item--active {
  color: #155e75;
  --mint-surface-border-local: rgba(125, 211, 252, 0.74);
  --mint-surface-border-2-local: rgba(56, 189, 248, 0.34);
  --mint-surface-rim-outer-local: rgba(186, 230, 253, 0.62);
  --mint-surface-rim-inner-local: rgba(56, 189, 248, 0.28);
  --mint-surface-face-a-local: rgba(255, 255, 255, 0.94);
  --mint-surface-face-b-local: rgba(186, 230, 253, 0.78);
  --mint-surface-shadow-local: 0 14px 22px -18px rgba(3, 105, 161, 0.35);
  --mint-surface-shadow-press-local: 0 7px 12px -10px rgba(3, 105, 161, 0.34);
  --mint-surface-specular-opacity-local: 0.22;
  box-shadow:
    0 0 0 2px rgba(125, 211, 252, 0.22),
    0 12px 18px -16px rgba(3, 105, 161, 0.36),
    inset 0 1px 0 rgba(255, 255, 255, 0.92);
}

@media (max-width: 920px) {
  .mint-app-shell__safe {
    padding-inline: max(10px, env(safe-area-inset-left));
  }

  .mint-app-main {
    padding-inline: 0;
  }

  .mint-big-button {
    min-height: 94px;
    border-radius: 22px;
  }

  .mint-big-button__icon-wrap {
    width: 50px;
    height: 50px;
  }

  .mint-big-button__title {
    font-size: 1.7rem;
  }
}

@media (max-width: 580px) {
  .mint-app-chrome__brand {
    padding: 8px 11px;
  }

  .mint-app-chrome__logo-mark {
    width: 28px;
    height: 28px;
  }

  .mint-app-chrome__logo-text {
    font-size: 1.42rem;
  }

  .mint-tab-nav {
    gap: 6px;
    overflow-x: auto;
    padding-bottom: 4px;
    scrollbar-width: thin;
  }

  .mint-tab-nav__item {
    min-height: 44px;
    padding-inline: 12px;
    font-size: 12px;
    white-space: nowrap;
  }

  .mint-big-button {
    grid-template-columns: 48px minmax(0, 1fr);
    gap: 10px;
    padding-inline: 12px;
    min-height: 88px;
  }

  .mint-big-button__icon-wrap {
    width: 46px;
    height: 46px;
    border-radius: 14px;
  }

  .mint-big-button__title {
    font-size: 1.45rem;
  }

  .mint-big-button__subtitle {
    font-size: 12px;
  }
}

@media (prefers-reduced-motion: reduce) {
  .mint-app-shell__bg,
  .mint-app-shell__sparkles {
    animation: none !important;
  }
}

[data-vfx="off"] .mint-app-shell__sparkles {
  display: none !important;
}

[data-vfx="off"] .mint-app-shell__bg {
  animation: none !important;
  background-size: cover, 640px 640px, 120% 120%, 120% 120%, 130% 130%, 100% 100%;
}

/* ── App Screens: Home / Arena / Decks / Start ───────────────────────── */

.mint-home-screen {
  display: grid;
  gap: 12px;
  padding: 2px;
}

.mint-home-hero {
  text-align: center;
  padding: 14px 10px 6px;
}

.mint-home-title {
  margin: 0;
  font-size: clamp(2rem, 5.5vw, 3.6rem);
}

.mint-home-subtitle {
  margin: 8px 0 0;
  font-size: clamp(13px, 2.1vw, 17px);
  font-weight: 700;
  color: rgba(51, 65, 85, 0.95);
}

.mint-home-menu-grid {
  display: grid;
  gap: 10px;
  grid-template-columns: repeat(4, minmax(0, 1fr));
}

.mint-home-quickplay__panel {
  padding: 12px;
}

.mint-home-quickplay__head {
  display: grid;
  gap: 10px;
}

.mint-home-quickplay__difficulty {
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 8px;
}

.mint-home-difficulty {
  min-height: 52px;
  border-radius: 16px;
  display: grid;
  gap: 1px;
  justify-items: center;
  align-content: center;
  padding: 6px;
  color: #475569;
}

.mint-home-difficulty__sub {
  font-size: 11px;
  opacity: 0.75;
}

.mint-home-difficulty--active {
  color: #0f172a;
  border-color: rgba(167, 139, 250, 0.58);
  box-shadow:
    0 0 0 2px rgba(167, 139, 250, 0.24),
    0 16px 24px -24px rgba(30, 64, 175, 0.92);
}

.mint-home-quickplay__actions {
  margin-top: 10px;
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.mint-home-onboarding {
  display: grid;
  gap: 10px;
}

.mint-home-onboarding__heading {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
}

.mint-home-onboarding__title {
  margin: 0;
  font-size: clamp(1.35rem, 3vw, 2rem);
}

.mint-home-onboarding__progress {
  font-size: 13px;
  font-weight: 800;
  color: #155e75;
  padding: 7px 14px;
}

.mint-home-onboarding__grid {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 10px;
}

.mint-home-onboarding__note {
  margin: -2px 0 0;
  font-size: 13px;
  font-weight: 700;
  color: #475569;
}

.mint-home-step {
  padding: 12px;
  display: grid;
  gap: 8px;
}

.mint-home-step__index {
  width: 30px;
  height: 30px;
  border-radius: 10px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 16px;
  font-weight: 900;
  color: #6366f1;
  background: rgba(255, 255, 255, 0.6);
  border: 1px solid rgba(255, 255, 255, 0.76);
}

.mint-home-step__title {
  margin: 0;
  font-size: clamp(1.05rem, 2.3vw, 1.45rem);
}

.mint-home-step__status {
  display: inline-flex;
  border-radius: 999px;
  padding: 3px 10px;
  width: fit-content;
  font-size: 11px;
  font-weight: 800;
  color: #475569;
  background: rgba(255, 255, 255, 0.65);
}

.mint-home-onboarding__footer {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  align-items: center;
}

.mint-home-onboarding__done {
  font-size: 13px;
  font-weight: 700;
  color: #0f766e;
}

.mint-home-infobar {
  display: grid;
  gap: 8px;
  grid-template-columns: repeat(2, minmax(0, 1fr));
}

.mint-home-pill {
  min-height: 44px;
  padding: 8px 14px;
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 13px;
  font-weight: 700;
  color: #334155;
}

.mint-home-disclosure {
  border-radius: 20px;
  border: 1px solid rgba(255, 255, 255, 0.76);
  background: linear-gradient(160deg, rgba(255, 255, 255, 0.62), rgba(239, 249, 255, 0.5));
  padding: 10px 12px;
}

.mint-home-disclosure > summary {
  cursor: pointer;
  font-weight: 800;
  color: #334155;
}

.mint-home-tools__body {
  margin-top: 10px;
  display: grid;
  gap: 10px;
}

.mint-home-tools__actions {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.mint-home-metrics-grid {
  display: grid;
  gap: 8px;
  grid-template-columns: repeat(4, minmax(0, 1fr));
}

.mint-home-metric {
  padding: 10px;
  display: grid;
  gap: 2px;
}

.mint-home-metric > div {
  font-weight: 900;
  color: #1f2937;
}

.mint-home-targets {
  display: grid;
  gap: 8px;
  grid-template-columns: repeat(2, minmax(0, 1fr));
}

.mint-home-target {
  padding: 10px;
  display: grid;
  gap: 3px;
}

.mint-home-target__top {
  display: flex;
  justify-content: space-between;
  gap: 8px;
  font-size: 12px;
  font-weight: 800;
  color: #334155;
}

.mint-home-target__value {
  font-size: 11px;
  color: #475569;
}

.mint-home-status {
  border-radius: 999px;
  border: 1px solid rgba(148, 163, 184, 0.4);
  padding: 2px 8px;
  font-size: 10px;
  background: rgba(255, 255, 255, 0.65);
}

.mint-home-status--pass {
  color: #047857;
  border-color: rgba(16, 185, 129, 0.42);
  background: rgba(220, 252, 231, 0.8);
}

.mint-home-status--fail {
  color: #be123c;
  border-color: rgba(244, 63, 94, 0.42);
  background: rgba(255, 228, 230, 0.82);
}

.mint-home-snapshots {
  display: grid;
  gap: 8px;
  grid-template-columns: repeat(2, minmax(0, 1fr));
}

.mint-home-snapshot {
  padding: 9px;
  font-size: 11px;
  color: #475569;
  display: grid;
  gap: 2px;
}

.mint-home-snapshots__empty {
  font-size: 12px;
  color: #64748b;
}

.mint-home-modal {
  position: fixed;
  inset: 0;
  z-index: 70;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 14px;
  background: rgba(15, 23, 42, 0.38);
}

.mint-home-modal__panel {
  width: min(560px, 100%);
  padding: 14px;
}

.mint-home-modal__title {
  margin: 0;
}

.mint-home-modal__body {
  margin-top: 10px;
  display: grid;
  gap: 4px;
  font-size: 14px;
  color: #334155;
}

.mint-home-modal__body p {
  margin: 0;
}

.mint-home-modal__actions {
  margin-top: 12px;
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  align-items: center;
}

.mint-home-modal__link {
  font-size: 13px;
  font-weight: 700;
  color: #0f766e;
  text-decoration: none;
}

.mint-home-modal__link:hover {
  color: #155e75;
}

.mint-arena-screen {
  display: grid;
  gap: 12px;
}

.mint-arena-layout {
  display: grid;
  gap: 10px;
  grid-template-columns: 190px minmax(0, 1fr) 220px;
  align-items: stretch;
}

.mint-arena-sidenav {
  display: grid;
  gap: 8px;
}

.mint-arena-sidenav__item {
  min-height: 64px;
  border-radius: 18px;
  justify-content: flex-start;
  padding-inline: 14px;
  font-size: 16px;
}

.mint-arena-banner {
  padding: 16px;
  display: grid;
  grid-template-columns: 62px minmax(0, 1fr);
  align-items: center;
  gap: 12px;
}

.mint-arena-banner__mascot {
  width: 62px;
  height: 62px;
  border-radius: 18px;
  border: 1px solid rgba(255, 255, 255, 0.74);
  background: linear-gradient(145deg, rgba(255, 255, 255, 0.8), rgba(221, 214, 254, 0.56));
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.mint-arena-banner__copy {
  display: grid;
  gap: 6px;
}

.mint-arena-banner__title {
  margin: 0;
  font-size: clamp(1.45rem, 3vw, 2.4rem);
}

.mint-arena-banner__subtitle {
  margin: 0;
  font-size: 14px;
  color: #334155;
  font-weight: 700;
}

.mint-arena-quickplay {
  padding: 12px;
  display: grid;
  gap: 8px;
  align-content: start;
}

.mint-arena-quickplay__header {
  font-size: 18px;
  font-weight: 900;
  color: #0f766e;
}

.mint-arena-quickplay__link {
  font-size: 13px;
  font-weight: 700;
  color: #0f766e;
  text-decoration: none;
}

.mint-page-guide {
  padding: 12px;
  display: grid;
  gap: 10px;
}

.mint-page-guide__head {
  display: grid;
  gap: 4px;
}

.mint-page-guide__title {
  margin: 0;
  font-size: clamp(1.25rem, 2.4vw, 1.65rem);
  color: #0f172a;
}

.mint-page-guide__subtitle {
  margin: 0;
  font-size: 13px;
  font-weight: 700;
  color: #334155;
}

.mint-page-guide__grid {
  display: grid;
  gap: 8px;
  grid-template-columns: repeat(3, minmax(0, 1fr));
}

.mint-page-guide__item {
  min-height: 76px;
  padding: 10px;
  display: grid;
  grid-template-columns: 22px minmax(0, 1fr);
  align-items: start;
  gap: 8px;
}

.mint-page-guide__item-copy {
  display: grid;
  gap: 2px;
}

.mint-page-guide__item-title {
  font-size: 13px;
  font-weight: 900;
  color: #0f172a;
}

.mint-page-guide__item-detail {
  font-size: 12px;
  line-height: 1.35;
  color: #475569;
}

.mint-arena-difficulty {
  display: grid;
  gap: 10px;
  grid-template-columns: repeat(4, minmax(0, 1fr));
}

.mint-arena-difficulty__card {
  min-height: 126px;
  border-radius: 28px;
  display: grid;
  align-content: center;
  justify-items: center;
  gap: 6px;
  color: #334155;
}

.mint-arena-difficulty__card--active {
  border-color: rgba(14, 165, 233, 0.58);
  box-shadow:
    0 0 0 2px rgba(14, 165, 233, 0.24),
    0 20px 28px -24px rgba(14, 116, 144, 0.92);
}

.mint-arena-difficulty__top {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-size: 12px;
  font-weight: 800;
  color: #0f766e;
}

.mint-arena-difficulty__hint {
  line-height: 1.2;
}

.mint-arena-difficulty__ja {
  font-size: clamp(1.4rem, 3.2vw, 2.2rem);
  font-weight: 900;
  line-height: 1;
}

.mint-arena-difficulty__en {
  font-size: 14px;
  font-weight: 800;
  opacity: 0.78;
}

.mint-arena-difficulty__assist {
  margin: 8px 0 0;
  text-align: center;
  font-size: 13px;
  font-weight: 700;
  color: #0f766e;
}

.mint-decks-screen {
  display: grid;
  gap: 12px;
}

.mint-decks-header {
  display: grid;
  gap: 8px;
}

.mint-decks-header__title {
  margin: 0;
  font-size: clamp(1.75rem, 4.2vw, 2.95rem);
}

.mint-decks-header__tabs {
  margin-top: 2px;
}

.mint-decks-layout {
  display: grid;
  gap: 10px;
  grid-template-columns: 240px minmax(0, 1fr) 290px;
  align-items: start;
}

.mint-decks-left,
.mint-decks-main,
.mint-decks-right {
  display: grid;
  gap: 10px;
  align-content: start;
}

.mint-decks-panel {
  padding: 12px;
}

.mint-decks-panel__title {
  margin: 0;
  font-size: 1.3rem;
}

.mint-decks-stats {
  margin-top: 10px;
  display: grid;
  gap: 8px;
}

.mint-decks-stats > div {
  display: flex;
  justify-content: space-between;
  gap: 10px;
  font-size: 14px;
  font-weight: 800;
  color: #334155;
}

.mint-decks-stats > div > strong {
  color: #1d4ed8;
}

.mint-decks-filters {
  margin-top: 10px;
  display: grid;
  gap: 7px;
}

.mint-decks-filter {
  min-height: 40px;
  border-radius: 999px;
  font-size: 15px;
}

.mint-decks-filter--active {
  border-color: rgba(167, 139, 250, 0.54);
  box-shadow: 0 0 0 2px rgba(167, 139, 250, 0.2);
}

.mint-decks-quickdeck {
  margin-top: 10px;
  display: grid;
  gap: 7px;
}

.mint-decks-import-export {
  margin-top: 10px;
  display: grid;
  gap: 8px;
}

.mint-decks-textarea {
  min-height: 130px;
  width: 100%;
  border-radius: 14px;
  border: 1px solid rgba(148, 163, 184, 0.4);
  background: rgba(255, 255, 255, 0.75);
  padding: 10px;
  font-family: "JetBrains Mono", monospace;
  font-size: 11px;
  color: #334155;
}

.mint-decks-form-grid {
  display: grid;
  gap: 10px;
}

.mint-decks-label {
  display: grid;
  gap: 6px;
  font-size: 12px;
  font-weight: 800;
  color: #475569;
}

.mint-decks-input {
  width: 100%;
  min-height: 42px;
  border-radius: 14px;
  border: 1px solid rgba(148, 163, 184, 0.42);
  background: rgba(255, 255, 255, 0.78);
  padding: 9px 12px;
  font-size: 14px;
  color: #334155;
  outline: none;
}

.mint-decks-input:focus {
  border-color: rgba(56, 189, 248, 0.65);
  box-shadow: 0 0 0 3px rgba(125, 211, 252, 0.24);
}

.mint-decks-form-actions {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.mint-decks-error {
  margin-top: 10px;
  border: 1px solid rgba(244, 63, 94, 0.44);
  border-radius: 14px;
  background: rgba(255, 228, 230, 0.84);
  padding: 8px 10px;
  font-size: 13px;
  color: #be123c;
  font-weight: 700;
}

.mint-decks-preview-grid {
  margin-top: 10px;
  display: grid;
  gap: 8px;
  grid-template-columns: repeat(5, minmax(0, 1fr));
}

.mint-decks-browser-header {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
}

.mint-decks-browser-filter {
  font-size: 12px;
  font-weight: 800;
  color: #475569;
}

.mint-decks-loading {
  margin-top: 10px;
  font-size: 13px;
  color: #64748b;
}

.mint-card-browser {
  margin-top: 10px;
  display: grid;
  gap: 10px;
}

.mint-card-browser__filters {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 8px;
}

.mint-card-browser__field {
  min-width: 0;
  display: grid;
  gap: 4px;
}

.mint-card-browser__field--wide {
  grid-column: span 2;
}

.mint-card-browser__label {
  font-size: 11px;
  font-weight: 800;
  color: #475569;
}

.mint-card-browser__hand-pills {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
}

.mint-card-browser__hand-pill {
  min-height: 40px;
  padding-inline: 11px;
  font-size: 12px;
  line-height: 1;
}

.mint-card-browser__hand-pill--active {
  --mint-surface-border-local: rgba(125, 211, 252, 0.78);
  --mint-surface-border-2-local: rgba(56, 189, 248, 0.32);
}

.mint-card-browser__edge-pills {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
}

.mint-card-browser__edge-pill {
  min-height: 36px;
  min-width: 44px;
  padding-inline: 9px;
  font-size: 12px;
  line-height: 1;
}

.mint-card-browser__edge-pill--active {
  --mint-surface-border-local: rgba(125, 211, 252, 0.78);
  --mint-surface-border-2-local: rgba(56, 189, 248, 0.32);
}

.mint-card-browser__select,
.mint-card-browser__input {
  width: 100%;
  min-height: 42px;
  border-radius: 12px;
  border: 1px solid rgba(148, 163, 184, 0.4);
  background:
    linear-gradient(180deg, rgba(255, 255, 255, 0.9), rgba(241, 245, 249, 0.74));
  padding: 8px 10px;
  font-size: 13px;
  color: #334155;
  outline: none;
}

.mint-card-browser__select:focus,
.mint-card-browser__input:focus {
  border-color: rgba(56, 189, 248, 0.66);
  box-shadow: 0 0 0 3px rgba(125, 211, 252, 0.24);
}

.mint-card-browser__range {
  width: 100%;
  min-height: 42px;
  accent-color: #14b8a6;
}

.mint-card-browser__chips {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  align-items: center;
}

.mint-card-browser__chip {
  border-radius: 999px;
  padding: 4px 10px;
  font-size: 11px;
  font-weight: 800;
  color: #155e75;
  border: 1px solid rgba(125, 211, 252, 0.52);
  background:
    linear-gradient(180deg, rgba(255, 255, 255, 0.9), rgba(224, 242, 254, 0.74));
}

.mint-card-browser__count {
  font-size: 12px;
  font-weight: 800;
  color: #0369a1;
}

.mint-card-browser__reset {
  margin-left: auto;
  min-height: 34px;
  padding-inline: 10px;
  font-size: 11px;
}

.mint-card-browser__empty {
  border-radius: 14px;
  border: 1px dashed rgba(148, 163, 184, 0.54);
  background: rgba(248, 250, 252, 0.78);
  padding: 12px;
  text-align: center;
  font-size: 13px;
  color: #64748b;
}

.mint-card-browser__grid {
  display: grid;
  gap: 8px;
  grid-template-columns: repeat(auto-fill, minmax(74px, 1fr));
}

.mint-card-browser__card {
  position: relative;
  border: 1px solid rgba(191, 219, 254, 0.76);
  border-radius: 14px;
  padding: 2px;
  overflow: hidden;
  background:
    linear-gradient(165deg, rgba(255, 255, 255, 0.74), rgba(219, 234, 254, 0.56));
  box-shadow:
    0 10px 14px -14px rgba(15, 23, 42, 0.72),
    inset 0 1px 0 rgba(255, 255, 255, 0.84);
  cursor: pointer;
  transition: transform var(--mint-press-transition), box-shadow var(--mint-press-transition), border-color var(--mint-press-transition);
}

.mint-card-browser__card:hover {
  border-color: rgba(45, 212, 191, 0.72);
  transform: translateY(-1px);
  box-shadow:
    0 14px 18px -16px rgba(15, 23, 42, 0.76),
    0 0 0 2px rgba(45, 212, 191, 0.2);
}

.mint-card-browser__card:focus-visible {
  outline: none;
  box-shadow:
    0 0 0 2px rgba(255, 255, 255, 0.9),
    0 0 0 4px rgba(56, 189, 248, 0.4);
}

.mint-card-browser__token {
  position: absolute;
  left: 6px;
  right: 6px;
  bottom: 6px;
  border-radius: 999px;
  background: rgba(15, 23, 42, 0.72);
  color: rgba(255, 255, 255, 0.9);
  text-align: center;
  font-size: 10px;
  font-family: "JetBrains Mono", monospace;
  padding: 2px 6px;
}

.mint-card-browser__load-more {
  display: flex;
  justify-content: center;
}

.mint-decks-summary__cards {
  margin-top: 10px;
  display: grid;
  gap: 8px;
}

.mint-decks-summary__slot {
  min-height: 88px;
  border-radius: 14px;
  border: 1px solid rgba(255, 255, 255, 0.72);
  background: linear-gradient(160deg, rgba(255, 255, 255, 0.66), rgba(226, 232, 255, 0.5));
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 6px;
  color: #475569;
  font-size: 12px;
  font-weight: 700;
}

.mint-decks-summary__empty {
  font-size: 12px;
  color: #64748b;
}

.mint-decks-saved__empty {
  margin-top: 10px;
  font-size: 13px;
  color: #64748b;
}

.mint-decks-saved__list {
  margin-top: 10px;
  display: grid;
  gap: 8px;
  max-height: min(72vh, 760px);
  overflow: auto;
  padding-right: 2px;
}

.mint-decks-saved__item {
  padding: 10px;
  display: grid;
  gap: 4px;
}

.mint-decks-saved__name {
  font-size: 14px;
  font-weight: 900;
  color: #1f2937;
}

.mint-decks-saved__meta {
  font-size: 11px;
  color: #64748b;
  word-break: break-all;
}

.mint-decks-saved__actions {
  margin-top: 2px;
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
}

.mint-decks-saved__quickplay {
  margin-top: 10px;
  display: inline-flex;
  font-size: 12px;
  font-weight: 700;
  color: #0f766e;
  text-decoration: none;
}

.mint-start-screen {
  display: grid;
  gap: 12px;
}

.mint-start-header {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
}

.mint-start-header__title {
  margin: 0;
  font-size: clamp(1.9rem, 5vw, 3.2rem);
}

.mint-start-header__progress {
  padding: 8px 14px;
  font-size: 14px;
  font-weight: 900;
  color: #155e75;
}

.mint-start-grid {
  display: grid;
  gap: 10px;
  grid-template-columns: repeat(3, minmax(0, 1fr));
}

.mint-start-card {
  padding: 14px;
  display: grid;
  justify-items: center;
  gap: 8px;
  text-align: center;
}

.mint-start-card__icon {
  width: 72px;
  height: 72px;
  border-radius: 20px;
  border: 1px solid rgba(255, 255, 255, 0.75);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: #6366f1;
  background: rgba(255, 255, 255, 0.66);
}

.mint-start-card__title {
  margin: 0;
  font-size: clamp(1.05rem, 2.4vw, 1.6rem);
}

.mint-start-card__status {
  border-radius: 999px;
  padding: 3px 10px;
  font-size: 11px;
  font-weight: 800;
  color: #475569;
  background: rgba(255, 255, 255, 0.66);
}

.mint-start-footer__panel {
  padding: 12px;
  display: grid;
  gap: 8px;
}

.mint-start-footer__links {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.mint-start-footer__state {
  font-size: 13px;
  font-weight: 700;
  color: #334155;
}

.mint-start-footer__back {
  font-size: 13px;
  font-weight: 700;
  color: #0f766e;
  text-decoration: none;
}

.mint-start-footer__back:hover {
  color: #155e75;
}

/* ============================================================
   Mint Secondary Screens (Events / Replay / Stream)
   ============================================================ */

[data-theme="mint"] .events-page,
[data-theme="mint"] .replay-page--standard,
[data-theme="mint"] .replay-page--focus,
[data-theme="mint"] .stream-page {
  position: relative;
}

[data-theme="mint"] .events-page .card,
[data-theme="mint"] .replay-page--standard .card,
[data-theme="mint"] .replay-page--focus .card,
[data-theme="mint"] .stream-page .card {
  border: 1px solid rgba(255, 255, 255, 0.74);
  background:
    linear-gradient(180deg, rgba(255, 255, 255, 0.82), rgba(236, 247, 255, 0.7));
  box-shadow:
    0 12px 30px rgba(15, 23, 42, 0.08),
    inset 0 1px 0 rgba(255, 255, 255, 0.92);
}

[data-theme="mint"] .events-page .card-hd,
[data-theme="mint"] .replay-page .card-hd,
[data-theme="mint"] .stream-page .card-hd {
  border-bottom-color: rgba(148, 163, 184, 0.2);
}

[data-theme="mint"] .events-page .btn,
[data-theme="mint"] .replay-page .btn,
[data-theme="mint"] .stream-page .btn {
  border-radius: 999px;
  border-color: rgba(134, 239, 213, 0.64);
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.9), rgba(209, 250, 229, 0.7));
  color: #115e59;
  font-weight: 700;
}

[data-theme="mint"] .events-page .btn:hover,
[data-theme="mint"] .replay-page .btn:hover,
[data-theme="mint"] .stream-page .btn:hover {
  border-color: rgba(45, 212, 191, 0.7);
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.96), rgba(167, 243, 208, 0.74));
  transform: translateY(-1px);
}

[data-theme="mint"] .events-page .btn:active,
[data-theme="mint"] .replay-page .btn:active,
[data-theme="mint"] .stream-page .btn:active {
  transform: translateY(0);
}

[data-theme="mint"] .events-page__hero {
  border-color: rgba(196, 181, 253, 0.56);
  background:
    radial-gradient(circle at 16% -12%, rgba(167, 243, 208, 0.5), transparent 54%),
    radial-gradient(circle at 100% 10%, rgba(221, 214, 254, 0.46), transparent 48%),
    linear-gradient(180deg, rgba(255, 255, 255, 0.86), rgba(243, 244, 255, 0.76));
}

[data-theme="mint"] .events-page__event-card {
  border-color: rgba(125, 211, 252, 0.44);
}

[data-theme="mint"] .events-page__event-card .badge {
  border-radius: 999px;
}

[data-theme="mint"] .events-page__season-card {
  border-color: rgba(103, 232, 249, 0.42);
}

[data-theme="mint"] .events-page__memo {
  border-color: rgba(147, 197, 253, 0.44);
}

[data-theme="mint"] .replay-page__focus-toolbar {
  border-color: rgba(134, 239, 213, 0.66);
  background:
    radial-gradient(circle at 0% -10%, rgba(167, 243, 208, 0.34), transparent 50%),
    linear-gradient(180deg, rgba(255, 255, 255, 0.92), rgba(219, 234, 254, 0.74));
  box-shadow:
    0 12px 24px rgba(15, 23, 42, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.94);
}

[data-theme="mint"] .replay-page__focus-label {
  color: #334155;
}

[data-theme="mint"] .replay-page__setup-card {
  border-color: rgba(125, 211, 252, 0.5);
}

[data-theme="mint"] .replay-page__setup-card .input,
[data-theme="mint"] .replay-page__setup-card .select {
  border-color: rgba(148, 163, 184, 0.35);
  background: rgba(255, 255, 255, 0.85);
}

[data-theme="mint"] .replay-page__board-card,
[data-theme="mint"] .replay-page__turnlog-card,
[data-theme="mint"] .replay-page__deck-card {
  border-color: rgba(134, 239, 213, 0.48);
}

[data-theme="mint"] .replay-page__result-banner .result-banner-shimmer {
  opacity: 0.25;
}

[data-theme="mint"] .replay-page__focus-empty {
  border-color: rgba(251, 191, 36, 0.44);
  background: linear-gradient(180deg, rgba(254, 252, 232, 0.96), rgba(254, 243, 199, 0.88));
}

[data-theme="mint"] .stream-page__studio-card {
  border-color: rgba(147, 197, 253, 0.5);
}

[data-theme="mint"] .stream-page__step {
  border-color: rgba(191, 219, 254, 0.52);
  background:
    radial-gradient(circle at 10% -20%, rgba(167, 243, 208, 0.26), transparent 52%),
    linear-gradient(180deg, rgba(255, 255, 255, 0.9), rgba(224, 242, 254, 0.74));
}

[data-theme="mint"] .stream-page__callout {
  border-color: rgba(165, 243, 252, 0.64);
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.86), rgba(207, 250, 254, 0.68));
}

[data-theme="mint"] .stream-page__live-status {
  border-color: rgba(186, 230, 253, 0.66);
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.88), rgba(239, 246, 255, 0.84));
}

[data-theme="mint"] .stream-page__recovery {
  border-color: rgba(251, 191, 36, 0.42);
  background: linear-gradient(180deg, rgba(255, 251, 235, 0.92), rgba(254, 243, 199, 0.72));
}

[data-theme="mint"] .stream-page__links {
  border-color: rgba(165, 243, 252, 0.5);
}

[data-theme="mint"] .events-page__hero .card-bd p,
[data-theme="mint"] .events-page__hero .card-bd > div,
[data-theme="mint"] .replay-page__setup-card .card-bd,
[data-theme="mint"] .stream-page__studio-card .card-bd {
  line-height: 1.6;
}

/* Shared quick navigation rails for secondary Mint screens */
.mint-events-quicknav,
.mint-replay-quicknav,
.mint-stream-quicknav {
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 10px;
}

.mint-events-quicknav__card,
.mint-replay-quicknav__card,
.mint-stream-quicknav__card {
  min-height: 88px;
}

.mint-events-quicknav__action,
.mint-replay-quicknav__action,
.mint-stream-quicknav__action {
  display: grid;
  grid-template-columns: auto minmax(0, 1fr);
  grid-template-rows: auto auto;
  column-gap: 8px;
  row-gap: 2px;
  align-items: center;
  justify-items: start;
  min-height: 78px;
  border-radius: 16px;
  border: 1px solid rgba(191, 219, 254, 0.56);
  background:
    radial-gradient(circle at 8% 0%, rgba(167, 243, 208, 0.18), transparent 46%),
    linear-gradient(180deg, rgba(255, 255, 255, 0.82), rgba(241, 245, 249, 0.56));
}

.mint-events-quicknav__action .mint-icon,
.mint-replay-quicknav__action .mint-icon,
.mint-stream-quicknav__action .mint-icon {
  grid-row: span 2;
  width: 32px;
  height: 32px;
  padding: 6px;
  border-radius: 999px;
  border: 1px solid rgba(255, 255, 255, 0.84);
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.92), rgba(219, 234, 254, 0.74));
  color: var(--mint-text-primary, #1F2937);
}

.mint-events-quicknav__label,
.mint-replay-quicknav__label,
.mint-stream-quicknav__label {
  font-family: var(--font-display, "Baloo 2", sans-serif);
  font-size: 17px;
  line-height: 1.1;
  font-weight: 700;
}

.mint-events-quicknav__sub,
.mint-replay-quicknav__sub,
.mint-stream-quicknav__sub {
  color: var(--mint-text-secondary, #4B5563);
  font-size: 11px;
  font-weight: 600;
  overflow-wrap: anywhere;
}

[data-theme="mint"] .mint-events-quicknav__card,
[data-theme="mint"] .mint-replay-quicknav__card,
[data-theme="mint"] .mint-stream-quicknav__card {
  border-color: rgba(191, 219, 254, 0.62);
  background:
    radial-gradient(circle at 15% -30%, rgba(167, 243, 208, 0.32), transparent 52%),
    linear-gradient(180deg, rgba(255, 255, 255, 0.9), rgba(236, 254, 255, 0.72));
}

[data-theme="mint"] .mint-events-quicknav__action:hover,
[data-theme="mint"] .mint-replay-quicknav__action:hover,
[data-theme="mint"] .mint-stream-quicknav__action:hover {
  border-color: rgba(125, 211, 252, 0.68);
  background:
    radial-gradient(circle at 8% 0%, rgba(167, 243, 208, 0.24), transparent 46%),
    linear-gradient(180deg, rgba(255, 255, 255, 0.9), rgba(224, 242, 254, 0.64));
}

/* Status summary strips for secondary Mint screens */
.mint-events-summary,
.mint-replay-summary,
.mint-stream-summary {
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 10px;
}

.mint-replay-summary,
.mint-stream-summary {
  grid-template-columns: repeat(6, minmax(0, 1fr));
}

.mint-events-summary__item,
.mint-replay-summary__item,
.mint-stream-summary__item {
  min-height: 60px;
  display: grid;
  align-content: center;
  gap: 2px;
  padding: 8px 12px;
}

.mint-replay-summary__item--wide,
.mint-stream-summary__item--wide {
  grid-column: span 2;
}

.mint-events-summary__label,
.mint-replay-summary__label,
.mint-stream-summary__label {
  font-size: 11px;
  color: var(--mint-text-secondary, #4B5563);
  font-weight: 700;
}

.mint-events-summary__value,
.mint-replay-summary__value,
.mint-stream-summary__value {
  font-family: var(--font-display, "Baloo 2", sans-serif);
  font-size: 18px;
  line-height: 1.15;
  color: var(--mint-text-primary, #1F2937);
  font-weight: 700;
  overflow-wrap: anywhere;
}

[data-theme="mint"] .mint-events-summary__item,
[data-theme="mint"] .mint-replay-summary__item,
[data-theme="mint"] .mint-stream-summary__item {
  border-color: rgba(191, 219, 254, 0.62);
  background:
    radial-gradient(circle at 4% -30%, rgba(167, 243, 208, 0.24), transparent 52%),
    linear-gradient(180deg, rgba(255, 255, 255, 0.88), rgba(239, 246, 255, 0.72));
}

/* Ruleset picker material (Mint) */
.mint-ruleset-picker {
  --mint-ruleset-border: rgba(186, 230, 253, 0.7);
  --mint-ruleset-border-strong: rgba(125, 211, 252, 0.74);
  --mint-ruleset-text: #334155;
  --mint-ruleset-text-strong: #0f172a;
  --mint-ruleset-surface: linear-gradient(180deg, rgba(255, 255, 255, 0.94), rgba(239, 246, 255, 0.84));
  --mint-ruleset-chip-surface: linear-gradient(180deg, rgba(255, 255, 255, 0.96), rgba(241, 245, 249, 0.86));
  --mint-ruleset-chip-active: linear-gradient(180deg, rgba(236, 253, 245, 0.96), rgba(209, 250, 229, 0.88));
  display: grid;
  gap: 10px;
  border-radius: 14px;
  border: 1px solid var(--mint-ruleset-border);
  padding: 12px;
  background:
    radial-gradient(circle at 8% -30%, rgba(167, 243, 208, 0.24), transparent 48%),
    var(--mint-ruleset-surface);
}

.mint-ruleset-picker__title {
  font-size: 12px;
  font-weight: 700;
  color: var(--mint-ruleset-text);
}

.mint-ruleset-picker__family {
  display: inline-flex;
  flex-wrap: wrap;
  width: 100%;
  gap: 4px;
  border-radius: 12px;
  border: 1px solid var(--mint-ruleset-border);
  background: rgba(255, 255, 255, 0.85);
  padding: 4px;
}

.mint-ruleset-picker__segment {
  border: 1px solid transparent;
  border-radius: 10px;
  padding: 8px 12px;
  background: transparent;
  color: var(--mint-ruleset-text);
  font-size: 12px;
  line-height: 1;
  font-weight: 700;
  transition: background-color 160ms ease, border-color 160ms ease, color 160ms ease;
}

.mint-ruleset-picker__segment:hover:not(:disabled) {
  border-color: rgba(191, 219, 254, 0.72);
  background: rgba(239, 246, 255, 0.8);
}

.mint-ruleset-picker__segment--active {
  border-color: var(--mint-ruleset-border-strong);
  color: var(--mint-ruleset-text-strong);
  background: linear-gradient(180deg, rgba(240, 253, 250, 0.98), rgba(224, 242, 254, 0.9));
}

.mint-ruleset-picker__summary {
  border-radius: 10px;
  border: 1px solid var(--mint-ruleset-border);
  background: rgba(255, 255, 255, 0.88);
  color: var(--mint-ruleset-text);
  font-size: 12px;
  padding: 8px 10px;
}

.mint-ruleset-picker__summary-key {
  color: var(--mint-ruleset-text-strong);
  font-weight: 700;
}

.mint-ruleset-picker__classic-panel {
  display: grid;
  gap: 10px;
  border-radius: 12px;
  border: 1px solid var(--mint-ruleset-border);
  background:
    radial-gradient(circle at 0% -20%, rgba(191, 219, 254, 0.18), transparent 48%),
    rgba(255, 255, 255, 0.86);
  padding: 10px;
}

.mint-ruleset-picker__custom-grid {
  display: grid;
  gap: 10px;
}

.mint-ruleset-picker__group {
  display: grid;
  gap: 6px;
}

.mint-ruleset-picker__group-title {
  color: #64748b;
  font-size: 11px;
  line-height: 1.2;
  font-weight: 700;
  letter-spacing: 0.04em;
  text-transform: uppercase;
}

.mint-ruleset-picker__chip-row {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
}

.mint-ruleset-picker__chip {
  border: 1px solid var(--mint-ruleset-border);
  border-radius: 10px;
  padding: 5px 9px;
  background: var(--mint-ruleset-chip-surface);
  color: var(--mint-ruleset-text);
  font-size: 12px;
  line-height: 1;
  font-weight: 600;
  transition: background-color 160ms ease, border-color 160ms ease, color 160ms ease;
}

.mint-ruleset-picker__chip:hover:not(:disabled) {
  border-color: var(--mint-ruleset-border-strong);
}

.mint-ruleset-picker__chip--active {
  border-color: rgba(52, 211, 153, 0.7);
  color: #065f46;
  background: var(--mint-ruleset-chip-active);
}

.mint-ruleset-picker__toggle {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  border: 1px solid var(--mint-ruleset-border);
  border-radius: 10px;
  padding: 6px 9px;
  background: rgba(248, 250, 252, 0.88);
  color: #334155;
  font-size: 12px;
  line-height: 1.1;
}

.mint-ruleset-picker__toggle input {
  accent-color: #0ea5e9;
}

.mint-ruleset-picker__help {
  border-radius: 10px;
  border: 1px solid rgba(226, 232, 240, 0.9);
  background: rgba(248, 250, 252, 0.82);
  color: #475569;
  font-size: 12px;
  padding: 8px 10px;
}

.mint-ruleset-picker__help-summary {
  cursor: pointer;
  font-weight: 700;
  color: #334155;
}

.mint-ruleset-picker__help-body {
  margin-top: 4px;
}

.mint-ruleset-picker button:disabled,
.mint-ruleset-picker input:disabled {
  cursor: not-allowed;
  opacity: 0.62;
}

[data-vfx="off"] .mint-ruleset-picker,
[data-vfx="off"] .mint-ruleset-picker__classic-panel {
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.94), rgba(241, 245, 249, 0.9));
}

/* Match board-side visual polish for Mint mode */
[data-theme="mint"] .mint-match-board-shell {
  border-radius: 20px;
  padding: 8px;
  border: 1px solid rgba(186, 230, 253, 0.62);
  background:
    radial-gradient(circle at 0% -30%, rgba(167, 243, 208, 0.28), transparent 48%),
    linear-gradient(165deg, rgba(255, 255, 255, 0.62), rgba(224, 242, 254, 0.5));
  box-shadow:
    0 16px 28px -24px rgba(2, 132, 199, 0.66),
    inset 0 1px 0 rgba(255, 255, 255, 0.84);
}

[data-theme="mint"] .mint-match-board-center {
  min-width: 0;
}

[data-theme="mint"] .mint-match-quick-commit {
  border-color: rgba(167, 243, 208, 0.64);
  background:
    radial-gradient(circle at 12% -24%, rgba(167, 243, 208, 0.24), transparent 48%),
    linear-gradient(180deg, rgba(255, 255, 255, 0.92), rgba(219, 234, 254, 0.72));
  box-shadow:
    0 14px 24px -22px rgba(15, 23, 42, 0.54),
    inset 0 1px 0 rgba(255, 255, 255, 0.88);
}

[data-theme="mint"] .mint-match-quick-commit__title {
  color: var(--mint-text-primary, #1F2937);
}

[data-theme="mint"] .mint-match-quick-commit__hint {
  color: var(--mint-text-secondary, #4B5563);
}

/* Board polish for Match/Replay mint board skins (no layout changes) */
[data-theme="mint"] .mint-board-view--match .mint-board-frame,
[data-theme="mint"] .mint-board-view--replay .mint-board-frame {
  border-color: rgba(167, 243, 208, 0.66);
  box-shadow:
    0 20px 32px rgba(15, 23, 42, 0.22),
    0 0 0 1px rgba(255, 255, 255, 0.44) inset;
}

[data-theme="mint"] .mint-board-view--match .mint-board-inner,
[data-theme="mint"] .mint-board-view--replay .mint-board-inner {
  background:
    radial-gradient(circle at 15% -20%, rgba(236, 253, 245, 0.62), transparent 56%),
    linear-gradient(180deg, rgba(240, 253, 250, 0.88), rgba(224, 242, 254, 0.82)),
    linear-gradient(120deg, rgba(167, 243, 208, 0.08), rgba(165, 243, 252, 0.04)),
    url('/board-bg.webp');
  background-size: cover, cover, cover, cover;
  background-position: center, center, center, center;
  background-blend-mode: screen, normal, soft-light, normal;
}

[data-theme="mint"] .mint-board-view--match .mint-scorebar,
[data-theme="mint"] .mint-board-view--replay .mint-scorebar {
  border-color: rgba(186, 230, 253, 0.74);
  background:
    linear-gradient(180deg, rgba(255, 255, 255, 0.92), rgba(224, 242, 254, 0.82));
}

[data-theme="mint"] .mint-board-view--match .mint-prompt,
[data-theme="mint"] .mint-board-view--replay .mint-prompt {
  border-color: rgba(191, 219, 254, 0.62);
  background:
    linear-gradient(180deg, rgba(255, 255, 255, 0.94), rgba(219, 234, 254, 0.82));
}

[data-theme="mint"] .events-page .btn,
[data-theme="mint"] .replay-page .btn,
  [data-theme="mint"] .stream-page .btn,
  [data-theme="mint"] .stream-page__step,
  [data-theme="mint"] .events-page__event-card,
  [data-theme="mint"] .replay-page__focus-toolbar,
  [data-theme="mint"] .mint-events-summary__item,
  [data-theme="mint"] .mint-replay-summary__item,
  [data-theme="mint"] .mint-stream-summary__item {
  transition: background-color 160ms ease, border-color 160ms ease, transform 140ms ease, box-shadow 180ms ease;
}

@media (prefers-reduced-motion: reduce) {
  [data-theme="mint"] .events-page .btn,
  [data-theme="mint"] .replay-page .btn,
  [data-theme="mint"] .stream-page .btn,
  [data-theme="mint"] .stream-page__step,
  [data-theme="mint"] .events-page__event-card,
  [data-theme="mint"] .replay-page__focus-toolbar,
  [data-theme="mint"] .mint-match-quick-commit,
  [data-theme="mint"] .mint-events-summary__item,
  [data-theme="mint"] .mint-replay-summary__item,
  [data-theme="mint"] .mint-stream-summary__item,
  .mint-ruleset-picker__segment,
  .mint-ruleset-picker__chip {
    transition: none !important;
  }
}

[data-vfx="off"] .stream-page__step,
[data-vfx="off"] .events-page__hero,
[data-vfx="off"] .replay-page__focus-toolbar,
[data-vfx="off"] .mint-match-quick-commit,
[data-vfx="off"] .mint-match-board-shell,
[data-vfx="off"] .mint-events-summary__item,
[data-vfx="off"] .mint-replay-summary__item,
[data-vfx="off"] .mint-stream-summary__item {
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.92), rgba(241, 245, 249, 0.84));
}

@media (max-width: 1100px) {
  .replay-page__main {
    grid-template-columns: 1fr;
  }

  .stream-page__lock-row {
    justify-content: flex-start;
  }

  .mint-events-quicknav,
  .mint-replay-quicknav,
  .mint-stream-quicknav {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .mint-events-summary {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .mint-replay-summary,
  .mint-stream-summary {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }

  .mint-replay-summary__item--wide,
  .mint-stream-summary__item--wide {
    grid-column: span 3;
  }

  .mint-home-menu-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .mint-arena-layout {
    grid-template-columns: 1fr;
  }

  .mint-arena-sidenav {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .mint-page-guide__grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .mint-decks-layout {
    grid-template-columns: 1fr;
  }

  .mint-decks-left {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .mint-decks-right {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .mint-card-browser__filters {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .mint-card-browser__field:last-child {
    grid-column: span 2;
  }

  .mint-card-browser__field--wide {
    grid-column: span 2;
  }

  .mint-start-grid {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 760px) {
  .events-page__content {
    gap: 10px;
  }

  .mint-events-quicknav,
  .mint-replay-quicknav,
  .mint-stream-quicknav {
    grid-template-columns: 1fr;
  }

  .mint-events-summary,
  .mint-replay-summary,
  .mint-stream-summary {
    grid-template-columns: 1fr;
  }

  .mint-replay-summary__item--wide,
  .mint-stream-summary__item--wide {
    grid-column: span 1;
  }

  .replay-page .card-hd,
  .stream-page .card-hd {
    gap: 8px;
  }

  .stream-page__step {
    padding: 12px;
  }

  .mint-home-quickplay__difficulty {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .mint-home-onboarding__grid,
  .mint-home-infobar,
  .mint-home-metrics-grid,
  .mint-home-targets,
  .mint-home-snapshots {
    grid-template-columns: 1fr;
  }

  .mint-home-menu-grid {
    grid-template-columns: 1fr;
  }

  .mint-arena-sidenav {
    grid-template-columns: 1fr;
  }

  .mint-arena-difficulty {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .mint-page-guide__grid {
    grid-template-columns: 1fr;
  }

  .mint-decks-left,
  .mint-decks-right {
    grid-template-columns: 1fr;
  }

  .mint-card-browser__filters {
    grid-template-columns: 1fr;
  }

  .mint-card-browser__field:last-child {
    grid-column: span 1;
  }

  .mint-card-browser__field--wide {
    grid-column: span 1;
  }

  .mint-card-browser__count {
    margin-left: 0;
    width: auto;
  }

  .mint-card-browser__reset {
    margin-left: 0;
    width: auto;
  }

  .mint-decks-preview-grid {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }

  .mint-decks-saved__list {
    max-height: none;
  }
}
