/**
 * game-animations.css
 * 
 * Additional CSS for the three UI improvements.
 * Add to index.css (after existing @layer utilities block).
 */

@layer utilities {
  /* ═══════════════════════════════════════════════════════════════
     BOARD FLIP ANIMATION ENHANCEMENTS
     ═══════════════════════════════════════════════════════════════ */

  /* Placed cell: pop-in with glow */
  @keyframes cell-place {
    0% {
      transform: scale(0.85);
      opacity: 0.5;
      box-shadow: 0 0 0 0 rgba(245, 158, 11, 0.6);
    }
    40% {
      transform: scale(1.08);
      opacity: 1;
      box-shadow: 0 0 24px -2px rgba(245, 158, 11, 0.5);
    }
    100% {
      transform: scale(1);
      opacity: 1;
      box-shadow: 0 0 8px -2px rgba(245, 158, 11, 0.2);
    }
  }

  .animate-cell-place {
    animation: cell-place 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) both;
  }

  /* Flipped cell: owner-color swap flash */
  @keyframes cell-flip {
    0% {
      transform: perspective(400px) rotateY(0deg);
      filter: brightness(1);
    }
    30% {
      transform: perspective(400px) rotateY(90deg);
      filter: brightness(1.3);
    }
    60% {
      transform: perspective(400px) rotateY(180deg);
      filter: brightness(1.1);
    }
    100% {
      transform: perspective(400px) rotateY(360deg);
      filter: brightness(1);
    }
  }

  .animate-cell-flip {
    animation: cell-flip 0.55s cubic-bezier(0.4, 0, 0.2, 1) both;
  }

  /* Staggered flip delays for chain effects */
  .flip-delay-1 { animation-delay: 150ms; }
  .flip-delay-2 { animation-delay: 300ms; }
  .flip-delay-3 { animation-delay: 450ms; }

  /* Flip glow ring */
  @keyframes flip-glow {
    0% { box-shadow: 0 0 0 0 rgba(139, 92, 246, 0.7); }
    50% { box-shadow: 0 0 16px 4px rgba(139, 92, 246, 0.3); }
    100% { box-shadow: 0 0 0 0 rgba(139, 92, 246, 0); }
  }

  .animate-flip-glow {
    animation: flip-glow 0.8s ease-out;
  }

  /* ═══════════════════════════════════════════════════════════════
     RESULT BANNER (PERSISTENT) ANIMATIONS
     ═══════════════════════════════════════════════════════════════ */

  @keyframes banner-slide-in {
    0% {
      transform: translateY(-16px);
      opacity: 0;
      max-height: 0;
    }
    100% {
      transform: translateY(0);
      opacity: 1;
      max-height: 200px;
    }
  }

  .animate-banner-enter {
    animation: banner-slide-in 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) both;
  }

  /* Winner shimmer effect */
  @keyframes winner-shimmer {
    0% { background-position: -200% center; }
    100% { background-position: 200% center; }
  }

  .result-banner-shimmer {
    background-size: 200% auto;
    animation: winner-shimmer 3s linear infinite;
  }

  /* ═══════════════════════════════════════════════════════════════
     STREAM OPS HUD EFFECTS
     ═══════════════════════════════════════════════════════════════ */

  /* Pulsing border for active vote */
  @keyframes hud-border-pulse {
    0%, 100% {
      border-color: rgba(255, 138, 80, 0.6);
      box-shadow: 0 0 12px -2px rgba(255, 138, 80, 0.3);
    }
    50% {
      border-color: rgba(255, 138, 80, 1);
      box-shadow: 0 0 24px -2px rgba(255, 138, 80, 0.5);
    }
  }

  .hud-vote-active {
    animation: hud-border-pulse 1.5s ease-in-out infinite;
  }

  /* Counter tick animation */
  @keyframes counter-tick {
    0% { transform: scale(1); }
    50% { transform: scale(1.15); }
    100% { transform: scale(1); }
  }

  .animate-counter-tick {
    animation: counter-tick 0.2s ease-out;
  }

  /* Live indicator dot */
  @keyframes live-dot {
    0%, 100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.4; transform: scale(0.8); }
  }

  .animate-live-dot {
    animation: live-dot 2s ease-in-out infinite;
  }
}
