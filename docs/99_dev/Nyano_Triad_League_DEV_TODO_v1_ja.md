# Nyano Triad League 窶・髢狗匱TODO・・1・・

縺薙・繝輔ぃ繧､繝ｫ縺ｯ縲御ｻ翫↑縺ｫ繧剃ｽ懊▲縺ｦ縺・ｋ縺九阪梧ｬ｡縺ｫ縺ｪ縺ｫ繧剃ｽ懊ｋ縺九阪ｒ縲√さ繝溘Η繝九ユ繧｣縺ｨ蜈ｱ譛峨☆繧九◆繧√・螳溯｣・ODO縺ｧ縺吶・

---

## 笨・Done

- 笨・Commit0001: 蛻晄悄繧ｻ繝・ヨ繧｢繝・・・・ocs髮帛ｽ｢縲》riad-engine skeleton・・
- 笨・Commit0002: 繝医Λ繝ｳ繧ｹ繧ｯ繝ｪ繝励ヨv1・・IP-712 / matchId譁ｹ驥晢ｼ・ ruleset config spec・域ｦょｿｵ・・
- 笨・Commit0003: 繧ｪ繝ｼ繝医ヮ繝溘・隕也せ・磯°蝟ｶ荳榊惠縺ｧ繧ょ屓繧倶ｻ慕ｵ・∩・峨・繝ｭ繝ｼ繝峨・繝・・闕画｡・+ ERC-6551 / staking讀懆ｨ弱Γ繝｢
- 笨・Commit0004: triad-engine Layer2・・arning mark / combo bonus / second-player balance・牙ｮ溯｣・+ 繧ｴ繝ｼ繝ｫ繝・Φ繝・せ繝・
- 笨・Commit0005: triad-engine Layer3・・rait蜉ｹ譫・v1・牙ｮ溯｣・+ 莉墓ｧ俶峩譁ｰ
- 笨・Commit0006: Nyano Peace 繧ｪ繝ｳ繝√ぉ繝ｼ繝ｳ Trait 竊・繧ｲ繝ｼ繝蜀・TraitType 縺ｮ蟆主・・・1・・
  - `synergy.traitDerivation` 繧・ruleset 縺ｫ霑ｽ蜉
  - TS繝倥Ν繝托ｼ・makeCardDataFromNyano` / `deriveTraitTypeFromNyanoTraitV1`・・
  - `TRAIT_DERIVATION_SPEC` 霑ｽ蜉

  - Shadow / Forest / Earth / Thunder / Light
  - Cosmic / Metal / Flame / Aqua / Wind
  - `TRAIT_EFFECTS_SPEC` 霑ｽ蜉縲∵里蟄倅ｻ墓ｧ假ｼ・uleset/transcript・峨ｒ螳溯｣・↓霑ｽ蠕・

---

- 笨・Commit0007: Formation bonuses・・ayer3諡｡蠑ｵ・益1 螳溯｣・+ 莉墓ｧ倩ｿｽ蜉
  - 莠碑｡瑚ｪｿ蜥鯉ｼ・ive Elements Harmony・会ｼ喞omboBonus 縺ｮ triadPlus 繧貞咲紫驕ｩ逕ｨ
  - 譌･鬟滂ｼ・clipse・会ｼ哭ight+Shadow 縺ｮ繧ｯ繝ｭ繧ｹ・・ight縺瑚ｭｦ謌堤┌蜉ｹ・輯hadow縺鍬ight蜈画ｺ撰ｼ・
  - MatchResult 縺ｫ `formations` 繧定ｿｽ蜉・・I/隗｣譫舌′ 窶憺°蝟ｶ縺ｪ縺冷・縺ｧ繧ゆｽ懊ｊ繧・☆縺・ｼ・
  - `FORMATION_BONUS_SPEC` 霑ｽ蜉縲〉uleset/transcript 霑ｽ蠕・


- 笨・Commit0008: rulesetId 蜿ら・螳溯｣・ｼ亥崋螳哂BI繧ｨ繝ｳ繧ｳ繝ｼ繝会ｼ・ RULESET_ID_SPEC + 繝・せ繝医・繧ｯ繧ｿ
  - 辟｡蜉ｹ蛹悶そ繧ｯ繧ｷ繝ｧ繝ｳ繧呈ｭ｣隕丞喧・亥酔謖吝虚縺ｧID縺悟・陬ゅ＠縺ｪ縺・ｼ・
  - 莠碑｡瑚ｪｿ蜥後・ requiredElements 繧帝寔蜷域桶縺・ｼ磯・ｺ上ｒ辟｡隕厄ｼ・
  - `computeRulesetIdV1(ruleset)` 繧定ｿｽ蜉・・S蜿ら・螳溯｣・ｼ・
- 笨・Sprint UX: Home縲後☆縺宣♀縺ｶ縲坂・蛻晄焔驟咲ｽｮ縺ｾ縺ｧ縺ｮ譎る俣險域ｸｬ繧定ｿｽ蜉・・quickplay_to_first_place_ms`・・
- 笨・Sprint UX: Home LCP 縺ｮ繝ｭ繝ｼ繧ｫ繝ｫ險域ｸｬ繧定ｿｽ蜉・・home_lcp_ms`・・
- 笨・Sprint UX: Home Settings 縺ｫ UX逶ｮ讓吶・ PASS/FAIL 蛻､螳壹ｒ霑ｽ蜉・・-1/B-1/B-4/G-3・・
- 笨・Sprint UX: `Copy Snapshot` 縺ｨ `PLAYTEST_LOG.md` 繧定ｿｽ蜉縺励∬ｨ域ｸｬ繝ｭ繧ｰ驕狗畑繧貞崋螳・
- 笨・Sprint UX: web lint warning 2莉ｶ繧定ｧ｣豸茨ｼ・pnpm -C apps/web lint` warning 0・・
- 笨・Sprint UX: Snapshot縺ｫ迺ｰ蠅・さ繝ｳ繝・く繧ｹ繝茨ｼ・oute/viewport/language/UA・峨ｒ蜷ｫ繧√∵ｯ碑ｼ・Ο繧ｰ邊ｾ蠎ｦ繧貞髄荳・
- 笨・Sprint UX: NyanoCardArt 縺ｮ螟ｱ謨玲凾縺ｫ Retry 蟆守ｷ壹ｒ霑ｽ蜉・・etry nonce 莉倥″蜀崎ｪｭ霎ｼ・・
- 笨・Commit0104: 縲後す繝ｼ繧ｺ繝ｳ縺ｮ隴ｰ莨壹肴怙蟆上・繝ｭ繝医さ繝ｫ・・roposal / vote / adopt・峨ｒ TS 蜿ら・螳溯｣・
  - `season_council.ts` 繧定ｿｽ蜉・・roposalId / vote hash / EIP-712 vote verify / tally / adopt・・
  - 豎ｺ螳夊ｫ悶Ν繝ｼ繝ｫ繧貞崋螳夲ｼ亥呵｣憺寔蜷・canonicalize縲∝酔荳voter縺ｯ譛螟ｧnonce謗｡逕ｨ縲∝酔邇・・ rulesetId 譏・・ｼ・
  - 莉墓ｧ俶嶌 `SEASON_COUNCIL_SPEC` 繧定ｿｽ蜉
- 笨・Commit0105: permissionless ladder format v1・・ranscript + settled event + 荳｡鄂ｲ蜷搾ｼ峨ｒ TS 蜿ら・螳溯｣・
  - `ladder.ts` 繧定ｿｽ蜉・・IP-712 attestation / record verify / deterministic standings・・
  - indexer 髱樔ｾ晏ｭ倥・ tie-break 繧貞崋螳夲ｼ・oints 竊・wins 竊・tileDiff 竊・losses 竊・address・・
  - 莉墓ｧ俶嶌 `LADDER_FORMAT_SPEC` 繧定ｿｽ蜉
- 笨・Commit0106: Phase 3 hardening・・rror tracking + release runbook・峨ｒ譛蟆丞ｮ溯｣・
  - `apps/web/src/lib/error_tracking.ts` 繧定ｿｽ蜉・・lobal error / unhandledrejection 縺ｮ蜿朱寔・・
  - sink 繧貞・譖ｿ蜿ｯ閭ｽ蛹厄ｼ・ocal / console / remote, env險ｭ螳夲ｼ・
  - `docs/99_dev/RELEASE_RUNBOOK_v1_ja.md` 繧定ｿｽ蜉・・ersioning/changelog/rollback/feature flag・・
  - `pnpm run release:check` 繧定ｿｽ蜉・亥・闕ｷ蜑阪メ繧ｧ繝・け縺ｮ讓呎ｺ門喧・・
- 笨・Commit0107: 譁ｰ隕丞盾蜉閠・髄縺・quickstart 蟆守ｷ夲ｼ・繧ｹ繝・ャ繝鈴ｲ謐暦ｼ峨ｒ螳溯｣・
  - `apps/web/src/lib/onboarding.ts` 繧定ｿｽ蜉・・ocalStorage豌ｸ邯壼喧繝ｻ騾ｲ謐鈴寔險医・繝ｪ繧ｻ繝・ヨ・・
  - Home 縺ｫ縲後・縺倥ａ縺ｦ縺ｮ1蛻・せ繧ｿ繝ｼ繝医阪メ繧ｧ繝・け繝ｪ繧ｹ繝医→1蛻・Ν繝ｼ繝ｫ繝｢繝ｼ繝繝ｫ繧定ｿｽ蜉
  - Match 縺ｮ繧ｲ繧ｹ繝亥ｯｾ謌ｦ蟆守ｷ壹〒 `start_first_match` / `commit_first_move` 繧定・蜍墓峩譁ｰ
  - `onboarding.test.ts` 繧定ｿｽ蜉・域里螳壼､縲∵ｰｸ邯壼喧縲∫焚蟶ｸ蛟､fallback縲〉eset・・
- 笨・Commit0108: /stream 繝｢繝・Ξ繝ｼ繧ｷ繝ｧ繝ｳ・・G繝ｯ繝ｼ繝・/ BAN / slow mode・峨ｒ螳溯｣・
  - `stream_moderation.ts` 繧定ｿｽ蜉・亥愛螳壹Ο繧ｸ繝・け繧・pure function 蛹厄ｼ・
  - VoteControlPanel 縺ｫ moderation 險ｭ螳啅I・・low mode遘呈焚 / banned users / blocked words・峨ｒ霑ｽ蜉
  - 謚慕･ｨ蜿礼炊蜑阪↓ BAN / NG繝ｯ繝ｼ繝・/ slow mode 繧帝←逕ｨ縺励∥udit 縺ｫ reject 逅・罰繧定ｨ倬鹸
  - `local_settings` 縺ｫ moderation 豌ｸ邯壼喧繧ｭ繝ｼ繧定ｿｽ蜉・・oundtrip test 莉倥″・・
- 笨・Commit0109: /events 縺ｫ Season Archive・・ocal・峨ｒ霑ｽ蜉
  - `season_archive.ts` 繧定ｿｽ蜉・・eason/event蜊倅ｽ阪・髮・ｨ医ｒ pure function 蛹厄ｼ・
  - Events 縺ｫ season 蛻・崛繝ｻ蜍晉紫/謖第姶謨ｰ繧ｵ繝槭Μ繝ｼ繝ｻ譛譁ｰReplay蟆守ｷ壹・Markdown繧ｳ繝斐・繧定ｿｽ蜉
  - `event_attempts` 縺ｫ蜈ｨ莉ｶ蜿門ｾ・蜈ｨ豸亥悉 API 繧定ｿｽ蜉・医Ο繝ｼ繧ｫ繝ｫ驕狗畑縺ｮ菫晏ｮ域ｧ蜷台ｸ奇ｼ・
  - `season_archive.test.ts` / `event_attempts.test.ts` 縺ｧ髮・ｨ医→ storage API 繧呈､懆ｨｼ
- 笨・WO005-A follow-up: Stage route query豁｣隕丞喧 + Stage E2E繧ｹ繝｢繝ｼ繧ｯ繧定ｿｽ蜉
  - `normalizeStageFocusParams` 繧貞ｰ主・縺励～ui=engine` + `focus=1` + `layout`髯､蜴ｻ繧貞・騾壼喧
  - `/battle-stage` `/replay-stage` 蜷代￠ `stage-focus.spec.ts` 繧定ｿｽ蜉縺励ゞRL豁｣隕丞喧縺ｨ荳ｻ隕ゞI蜃ｺ迴ｾ繧呈､懆ｨｼ
- 笨・WO005-B follow-up: Stage陬懷勧繧ｳ繝ｳ繝医Ο繝ｼ繝ｫ縺ｮ繝ｬ繧ｹ繝昴Φ繧ｷ繝冶ｿｽ蠕薙ｒ蠑ｷ蛹・
  - `shouldShowStageSecondaryControls` 繧貞ｰ主・縺励√せ繝・・繧ｸ陬懷勧UI縺ｮ陦ｨ遉ｺ髢ｾ蛟､繧貞・騾壼喧
  - Match/Replay 縺ｮ stage route 縺ｧ resize 霑ｽ蠕・+ 謇句虚繝医げ繝ｫ蜆ｪ蜈茨ｼ・anual override・峨ｒ螳溯｣・
  - mobile replay-stage 縺ｧ transport 髱櫁｡ｨ遉ｺ繝・ヵ繧ｩ繝ｫ繝・+ Show controls 蠕ｩ蟶ｰ繧・E2E 縺ｧ讀懆ｨｼ
- 笨・WO005-C follow-up: 375px蟷・〒 Commit 蟆守ｷ壹・蜿ｯ隕匁ｧ繧脱2E蝗ｺ螳・
  - battle-stage focus 謇区惆繝峨ャ繧ｯ縺ｮ Commit 繝懊ち繝ｳ縺・viewport 蜀・↓蜿弱∪繧九％縺ｨ繧呈､懆ｨｼ
  - 讓ｪ譁ｹ蜷代が繝ｼ繝舌・繝輔Ο繝ｼ・・scrollWidth - clientWidth`・峨′逋ｺ逕溘＠縺ｪ縺・％縺ｨ繧呈､懆ｨｼ
- 笨・WO005-D follow-up: replay-stage 縺ｮ螟ｱ謨玲凾繝ｪ繧ｫ繝舌Μ蟆守ｷ壹ｒE2E蝗ｺ螳・
  - game index / RPC 螟ｱ謨玲凾縺ｧ繧・replay-stage 縺ｮ `Load replay` 蟆守ｷ壹′谿九ｋ縺薙→繧呈､懆ｨｼ
  - `Retry load` 縺ｨ `Clear share params` 縺瑚｡ｨ遉ｺ縺輔ｌ縲∝・隧ｦ陦悟庄閭ｽ縺ｧ縺ゅｋ縺薙→繧呈､懆ｨｼ
- 笨・WO005-E follow-up: Nyano AI 縺ｮ諤晁・ｾ・ｩ溘ユ繝ｳ繝昴ｒ隱ｿ謨ｴ
  - `computeAiAutoMoveDelayMs` 縺ｮ蝓ｺ貅門､/髮｣譏灘ｺｦ菫よ焚/繧ｸ繝・ち繝ｼ繧定ｦ狗峩縺励∝叉謇薙■諢溘ｒ謚大宛
  - `turn_timing.test.ts` 縺ｮ蠅・阜繝ｻ荳企剞譛溷ｾ・､繧呈峩譁ｰ縺励∵ｱｺ螳夊ｫ悶ｒ邯ｭ謖・
- 笨・WO005-F follow-up: Nyano cut-in 繧・reduced-motion / low-vfx 縺ｧ霆ｽ驥丞喧
  - `NyanoReaction` 縺ｮ cut-in timing 繧・`reduced-motion` 縺ｨ `data-vfx` 縺ｧ谿ｵ髫主宛蠕｡
  - `vfx=off/low` 譎ゅ↓ burst 貍泌・繧呈椛蛻ｶ縺励∬｡ｨ遉ｺ譎る俣繧堤洒邵ｮ
  - `NyanoReaction.timing.test.ts` 繧定ｿｽ蜉縺励∵嫌蜍輔ｒ繝ｦ繝九ャ繝域､懆ｨｼ
- 笨・WO005-G follow-up: Game Index 螟ｱ謨玲凾縺ｮ guest battle 繝輔か繝ｼ繝ｫ繝舌ャ繧ｯ繧定ｿｽ蜉
  - Game Index 隱ｭ霎ｼ螟ｱ謨玲凾縺ｫ guest mode 縺ｧ邱頑･繝・ャ繧ｭ縺ｸ閾ｪ蜍輔ヵ繧ｩ繝ｼ繝ｫ繝舌ャ繧ｯ
  - stage battle 縺檎ｶ咏ｶ壼庄閭ｽ・医き繝ｼ繝峨Ο繝ｼ繝牙､ｱ謨励〒隧ｰ縺ｾ繧峨↑縺・ｼ峨％縺ｨ繧・E2E 縺ｧ讀懆ｨｼ
- 笨・Commit0110: /events 縺ｫ Local Season Points・医Λ繝ｳ繧ｭ繝ｳ繧ｰ/蝣ｱ驟ｬ蟆守ｷ夲ｼ峨ｒ霑ｽ蜉
  - `season_progress.ts` 繧定ｿｽ蜉・・oints邂怜・繝ｻtier蛻､螳壹・event蛻･繝ｩ繝ｳ繧ｭ繝ｳ繧ｰ繧・pure function 蛹厄ｼ・
  - Events 縺ｫ `Local season points (provisional)` 繝代ロ繝ｫ・・ier/谺｡Tier縺ｾ縺ｧ/騾ｲ謐励ヰ繝ｼ・峨ｒ霑ｽ蜉
  - `Season points board` 縺ｨ markdown 蜃ｺ蜉幢ｼ・rchive + progress・峨ｒ霑ｽ蜉
  - `season_progress.test.ts` 繧定ｿｽ蜉・・oints/tier/tie-break/markdown・・
- 笨・Commit0111: /events 縺ｮ season points 繧・pointsDelta 谿ｵ髫朱｣謳ｺ縺ｸ諡｡蠑ｵ
  - Replay URL 縺ｮ `pda`・・ointsDeltaA・峨ｒ Event attempt 縺ｫ菫晏ｭ伜庄閭ｽ蛹・
  - `season_archive.ts` 縺ｫ pointsDelta 蜷郁ｨ・繧ｫ繝舌Ξ繝・ず髮・ｨ医ｒ霑ｽ蜉
  - `season_progress.ts` 縺ｧ縲憩vent蜀・・蜈ｨattempt縺ｫ pointsDelta 縺後≠繧句ｴ蜷医・縺ｿ縲膏ointsDelta謗｡逕ｨ・域悴蜈・ｶｳ縺ｯ provisional 邯ｭ謖・ｼ・
  - Events UI 縺ｨ markdown 縺ｫ source mix・・ointsDelta/provisional・芽｡ｨ遉ｺ繧定ｿｽ蜉
- 笨・Commit0112: /events 縺ｫ settled event JSON 蜿悶ｊ霎ｼ縺ｿ繧定ｿｽ蜉・医Ο繝ｼ繧ｫ繝ｫ pointsDelta 蜿肴丐・・
  - `settled_points_import.ts` 繧定ｿｽ蜉・・chema蟇ｾ蠢懊・settled event讀懆ｨｼ繝ｻwinner/tiles謨ｴ蜷医メ繧ｧ繝・け・・
  - Events 縺ｫ `Settled points import (local)` UI 繧定ｿｽ蜉・郁ｲｼ繧贋ｻ倥￠竊帝←逕ｨ竊帝寔險育ｵ先棡陦ｨ遉ｺ・・
  - matchId 荳閾ｴ縺九▽邨先棡謨ｴ蜷医・ local attempt 縺ｫ `pointsDeltaA` / `pointsDeltaSource=settled_attested` 繧貞渚譏
- 笨・Commit0113: /events 縺ｮ settled import 繧偵悟叙蠕苓・蜍募喧 + 鄂ｲ蜷肴､懆ｨｼ繝｢繝ｼ繝峨阪↓諡｡蠑ｵ
  - `parseVerifiedLadderRecordsImportJson` 繧定ｿｽ蜉・・{domain, records}` 繧・`verifyLadderMatchRecordV1` 縺ｧ讀懆ｨｼ・・
  - import UI 縺ｫ mode 蛻・崛・・settled events` / `verified records`・峨ｒ霑ｽ蜉
  - `/game/settled_events.json` 閾ｪ蜍戊ｪｭ霎ｼ繝懊ち繝ｳ繧定ｿｽ蜉
  - verified import 縺ｮ螟ｱ謨礼炊逕ｱ・・attestation_invalid`・峨ｒ issue 縺ｫ髮・ｴ・
## 圦 Doing (now)

- 肌 Phase 4 縺ｮ驕狗畑髱｢・医Λ繝ｳ繧ｭ繝ｳ繧ｰ / 蝣ｱ驟ｬ蟆守ｷ夲ｼ峨ｒ pointsDelta 騾｣謳ｺ縺ｸ谿ｵ髫取僑蠑ｵ縺吶ｋ・域焔蜍募叙繧願ｾｼ縺ｿ/讀懆ｨｼUI縺ｾ縺ｧ螳御ｺ・よｬ｡縺ｯ繝舌ャ繧ｯ繧ｨ繝ｳ繝臥ｵ檎罰縺ｮ閾ｪ蜍穂ｾ帷ｵｦ縺ｨ螳壽悄蜷梧悄・・
- 肌 WO005・・tage UI/UX蝓ｺ逶､・・ `/battle-stage` `/replay-stage` 縺ｮ菴朱・螟ｱ謨玲凾菴馴ｨ薙→蟆守ｷ壽､懆ｨｼ繧堤ｶ咏ｶ壹☆繧・

## ｧｩ Next (high priority)


### A. 繝ｫ繝ｼ繝ｫ繝ｻ繝励Ο繝医さ繝ｫ縺ｮ螳牙ｮ壼喧
- [x] 蜈ｬ蠑乗姶蜷代￠・售olidity蛛ｴ縺ｮTranscript讀懆ｨｼ・・1 ABI-encode hash・・
- [x] RulesetRegistry・・ermissionless・画怙蟆丞ｮ溯｣・ｼ嗷ulesetId -> config hash / metadata 繧堤匳骭ｲ縺ｧ縺阪ｋ
- [x] 縲係ind・亥・謾ｻ/蠕梧判驕ｸ謚橸ｼ峨阪・蜈ｬ蟷ｳ縺ｪ陦ｨ迴ｾ・・ommit-reveal / seed / 荳｡閠・粋諢上↑縺ｩ・・

### B. 繧ｲ繝ｼ繝縺ｮ窶憺擇逋ｽ縺補昴ｒ遨阪∩蠅励☆・医◆縺縺玲ｱｺ螳夊ｫ悶〒・・
- [x] 繝｡繧ｿ・・ayer4・峨・蟆上＆縺ｪ蜿ｯ螟会ｼ井ｾ具ｼ喞orner boost / center locked / chain cap・峨ｒ1縺､霑ｽ蜉
  - `meta.chainCapPerTurn` 繧・TS蜿ら・繧ｨ繝ｳ繧ｸ繝ｳ縺ｫ霑ｽ蜉・・繧ｿ繝ｼ繝ｳ縺ｮ謌仙粥繝輔Μ繝・・謨ｰ繧剃ｸ企剞蛹門庄閭ｽ・・
  - v1縺ｧ縺ｯ engine-only・・ulesetId canonicalization 縺ｫ縺ｯ譛ｪ蜿肴丐・・

### C. 閾ｪ襍ｰ縺吶ｋ繧ｳ繝溘Η繝九ユ繧｣險ｭ險茨ｼ磯°蝟ｶ縺梧ｶ医∴縺ｦ繧ょ屓繧具ｼ・
- [x] 縲後す繝ｼ繧ｺ繝ｳ縺ｮ隴ｰ莨壹搾ｼ嗷uleset proposal / vote / adopt 縺ｮ譛蟆上・繝ｭ繝医さ繝ｫ
- [x] 繝ｩ繝繝ｼ・医Λ繝ｳ繧ｭ繝ｳ繧ｰ・峨ｒ窶懆ｨｱ蜿ｯ荳崎ｦ≫昴〒隨ｬ荳芽・′驕狗畑縺ｧ縺阪ｋ繝輔か繝ｼ繝槭ャ繝・
  - transcript + settled event + EIP-712 attestation 縺ｧ蜀崎ｨ育ｮ怜庄閭ｽ
  - indexer 髱樔ｾ晏ｭ倥・蝗ｺ螳・tie-break 繧貞ｮ溯｣・ｼ・buildLadderStandingsV1`・・

---

## 溌 Research / Optional

- [ ] ERC-6551・・yano繝医・繧ｯ繝ｳ蠅・阜縺ｮ繧｢繧ｫ繧ｦ繝ｳ繝茨ｼ峨ｒ菴ｿ縺｣縺溘後メ繝ｼ繝/繧ｮ繝ｫ繝峨・
- [ ] NFT繧ｹ繝・・繧ｭ繝ｳ繧ｰ縺ｧ Season Pass / 繝ｫ繝ｼ繝ｫ謚慕･ｨ讓ｩ / 蜿ょ刈譫・・ybil蟇ｾ遲厄ｼ峨ｒ謠蝉ｾ帙☆繧玖ｨｭ險・
- [ ] 莠呈鋤諤ｧ・夐℃蜴ｻ縺ｮOasys繧ｨ繧ｳ繧ｷ繧ｹ繝・Β縺九ｉ縺ｮ雉・肇遘ｻ陦梧婿驥晢ｼ亥ｿ・ｦ√↑繧会ｼ・
- Sprint UX: Home Settings now keeps local UX snapshot history (save on copy, view recent 5, clear history).
- 笨・WO005-H follow-up: Pixi card-art texture failure guidance + manual retry
  - `BattleStageEngine` 縺ｫ card-art 縺ｮ隱ｭ縺ｿ霎ｼ縺ｿ迥ｶ諷・螟ｱ謨礼憾諷九ｒ陦ｨ遉ｺ縺励～Retry card art` 繧定ｿｽ蜉
  - `TextureResolver` 縺ｫ failed/pending 迥ｶ諷狗ｮ｡逅・→ status event 繧定ｿｽ蜉縺励※縲∝､ｱ謨玲凾縺ｮ辟｡髯仙・隧ｦ陦後ｒ髦ｲ豁｢
  - `textureResolverPreload.test.ts` 縺ｫ failed->retry success 縺ｮ讀懆ｨｼ繧定ｿｽ蜉
- 笨・WO005-I follow-up: Pixi/WebGL init failure auto fallback
  - `ui=engine` 縺ｧ Pixi 蛻晄悄蛹門､ｱ謨玲凾縺ｫ `BoardViewMint` 縺ｸ閾ｪ蜍輔ヵ繧ｩ繝ｼ繝ｫ繝舌ャ繧ｯ縺励※騾ｲ陦檎ｶ咏ｶ・
  - `/battle-stage` `/replay-stage` 縺ｫ `Retry Pixi` 蟆守ｷ壹ｒ霑ｽ蜉
  - stage-focus E2E 縺ｫ WebGL unavailable 繧ｱ繝ｼ繧ｹ繧定ｿｽ蜉縺励※蝗槫ｸｰ髦ｲ豁｢
- ✅ WO005-J follow-up: replay-stage WebGL fallback の E2E回帰防止を追加
  - `/replay-stage` の WebGL unavailable 時に Mint fallback + retry導線を stage-focus E2Eで固定
  - 375px commit可視性テストを fallback モードも許容する判定へ強化

- [x] 2026-02-14 WO006/WO007 Classic Rules implemented (engine + web): RulesetConfigV2, classic RNG, Order/Chaos/Swap/Reverse/AceKiller/Plus/Same/Type Ascend/Descend, Match UI integration, and classic test coverage.
- [x] Follow-up: update stream strict allowlist for Order/Chaos in `apps/web/src/lib/triad_vote_utils.ts` if Classic is enabled in stream voting mode.
- [x] Follow-up: replay `mode=auto` now resolves known Classic `rulesetId` via local ruleset registry instead of falling back to v1/v2 compare.
- [x] Follow-up: show deterministic Classic Swap slot mapping (`A{n} ↔ B{m}`) in Match setup and Replay details when swap is active.
- [x] Follow-up: add deterministic Classic Open visibility (`allOpen` / `threeOpen`) metadata in Match/Replay, and expose `classic_swap`, `classic_all_open`, `classic_three_open` presets in ruleset selector.
- [x] Follow-up: in Guest Match deck preview, hide Nyano cards unless revealed by Classic Open rules (`allOpen` / `threeOpen`).
- [x] Follow-up: in Replay Deck inspector, mask unrevealed slots for both players under Classic Three Open (and keep all visible under All Open).
- [x] Follow-up: add Replay Deck inspector toggle to reveal hidden Three Open slots for post-match analysis.
- [x] Follow-up: hide Replay owners mapping under Three Open by default, and reveal it together with the hidden-slot toggle.
- [x] Follow-up: extract hidden deck-slot UI into shared `HiddenDeckPreviewCard` component and reuse in Match/Replay.
- [x] Follow-up: show resolved Classic Open metadata in Stream live status (from `protocolV1.header` + ruleset registry).
- [x] Follow-up: show resolved Classic Open metadata in Overlay “Now Playing” panel for operator/OBS visibility.
- [x] Follow-up: add additive Classic metadata (`classic.open` / `classic.swap`) to `/stream` `state_json v1` and ai_prompt context for nyano-warudo/operator parity.
- [x] Follow-up: show deterministic Classic Swap mapping in Stream live status and Overlay “Now Playing”.
