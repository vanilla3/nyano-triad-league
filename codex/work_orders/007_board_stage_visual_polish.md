# Work Order: 007 窶・逶､髱｢/繧ｹ繝・・繧ｸ縺ｮ繝薙ず繝･繧｢繝ｫ逎ｨ縺崎ｾｼ縺ｿ・医き繝ｼ繝峨↓雋縺代↑縺・懆・蜿ｰ窶昴ｒ菴懊ｋ・・
## 1) 閭梧勹 / 逶ｮ逧・ｼ医Θ繝ｼ繧ｶ繝ｼ隕也せ・・
繧ｫ繝ｼ繝峨・縺九↑繧願憶縺上↑縺｣縺ｦ縺阪◆荳譁ｹ縺ｧ縲∫乢髱｢・医・繝ｼ繝会ｼ峨ｄ蜻ｨ霎ｺ縺ｮ闊槫床・医せ繝・・繧ｸ/閭梧勹/譫・峨′
縺ｾ縺 窶懈､懆ｨｼ繝・・繝ｫ諢溪・繧呈ｮ九＠縺ｦ縺・∪縺吶・
繝ｦ繝ｼ繧ｶ繝ｼ縺梧怙繧る聞縺剰ｦ九ｋ縺ｮ縺ｯ逶､髱｢縺ｪ縺ｮ縺ｧ縲・縺薙％縺悟ｼｱ縺・→繧ｲ繝ｼ繝蜈ｨ菴薙・蜩∬ｳｪ蜊ｰ雎｡縺碁ｭ謇薙■縺ｫ縺ｪ繧翫∪縺吶・
迢吶＞縺ｯ縲梧ｴｾ謇九↓縺吶ｋ縲阪〒縺ｯ縺ｪ縺上・**邏譚先─繝ｻ螂･陦後″繝ｻ隕也ｷ夊ｪ伜ｰ弱・邨ｱ荳諢・*繧剃ｸ翫￡縺ｦ 窶懃ｽｮ縺阪◆縺上↑繧玖・蜿ｰ窶・縺ｫ縺吶ｋ縺薙→縺ｧ縺吶・
## 2) 謌先棡迚ｩ・・eliverables・・
- [x] Mint UI 縺ｮ逶､髱｢・・oardViewMint + DuelStageMint・峨・閭梧勹/繝輔Ξ繝ｼ繝/繧ｻ繝ｫ繧剃ｸ雁刀縺ｫ繧｢繝・・繝・・繝・- [x] 驥崎ｦ∫憾諷具ｼ育ｽｮ縺代ｋ/鄂ｮ縺代↑縺・驕ｸ謚・遒ｺ螳・繝輔Μ繝・・/騾｣骼厄ｼ峨・隕冶ｦ夐嚴螻､縺梧・遒ｺ縺ｪ縺ｾ縺ｾ縲∬ｳｪ諢溘′荳翫′繧・- [x] `data-vfx` 縺ｫ蠢懊§縺ｦ貍泌・蟇・ｺｦ縺悟､峨ｏ繧具ｼ・ff/low 縺ｯ霆ｽ驥上［edium/high 縺ｯ蟆代＠雎ｪ闖ｯ・・- [x] 繝｢繝舌う繝ｫ蟷・ｼ・90px・峨〒遐ｴ邯ｻ縺励↑縺・- [x] 譌｢蟄倥・ reduced-motion 蟆企㍾縺悟ｴｩ繧後↑縺・
## 3) 隕∽ｻｶ・・equirements・・
### MUST

- 繧ｻ繝ｫ縺ｮ蜿ｯ隱ｭ諤ｧ繧定誠縺ｨ縺輔↑縺・ｼ域焚蟄・繧｢繧､繧ｳ繝ｳ縺瑚ｪｭ繧√ｋ・・- 窶懃ｽｮ縺代ｋ繧ｻ繝ｫ窶・縺ｨ 窶懃ｽｮ縺代↑縺・そ繝ｫ窶・縺ｮ蟾ｮ縺ｯ濶ｲ縺縺代↓萓晏ｭ倥＠縺ｪ縺・ｼ亥ｽ｢/髯ｰ蠖ｱ/蜍輔″・・- 譁ｰ隕上・逕ｻ蜒上い繧ｻ繝・ヨ蟆主・縺ｯ蜴溷援縺ｪ縺暦ｼ亥ｿ・ｦ√↑繧・**閾ｪ菴・讓ｩ蛻ｩ繧ｯ繝ｪ繧｢**縺ｮ縺ｿ・・- 繝代ヵ繧ｩ繝ｼ繝槭Φ繧ｹ繧呈が蛹悶＆縺帙↑縺・ｼ磯㍾縺・filter 繧・ｷｨ螟ｧ box-shadow 縺ｮ螟夂畑繧帝∩縺代ｋ・・
### SHOULD

- 逶､髱｢蜈ｨ菴薙′ 1 縺､縺ｮ繧ｪ繝悶ず繧ｧ繧ｯ繝医↓隕九∴繧九ヵ繝ｬ繝ｼ繝・育ｸ・隗剃ｸｸ/蜀・・繝上う繝ｩ繧､繝茨ｼ・- 閭梧勹縺ｯ 窶懊・繧ｿ蝪励ｊ窶・繧帝∩縺代∬埋縺・げ繝ｩ繝・+ 謗ｧ縺医ａ縺ｪ繝代ち繝ｼ繝ｳ縺ｧ遨ｺ豌玲─
- 驕ｸ謚・遒ｺ螳・繝輔Μ繝・・縺ｮ隕冶ｦ壹′繧医ｊ豌玲戟縺｡繧医￥・育洒縺上・譏主ｿｫ・・
### COULD

- `vfx=high` 縺ｮ縺ｿ縲∝ｾｮ邏ｰ縺ｪ繧ｰ繝ｪ繝ｳ繝医ｄ繝代Ν繧ｹ縺ｪ縺ｩ繧定ｿｽ蜉・・SS 縺縺代〒・・
## 4) 髱櫁ｦ∽ｻｶ・・on-goals・・
- 繝ｫ繝ｼ繝ｫ/繧ｨ繝ｳ繧ｸ繝ｳ縺ｮ螟画峩
- Pixi renderer 蛛ｴ縺ｮ螟ｧ隕乗ｨ｡謾ｹ菫ｮ・亥ｿ・ｦ√↑繧牙挨 WO・・- 繧ｫ繝ｼ繝峨ョ繧ｶ繧､繝ｳ縺ｮ蜀崎ｪｿ謨ｴ・井ｻ雁屓縺ｯ逶､髱｢蜆ｪ蜈茨ｼ・
## 5) 蜿励￠蜈･繧梧擅莉ｶ・・cceptance Criteria・・
1. `/match?ui=mint` 縺ｮ逶､髱｢縺後・   - 閭梧勹/譫/繧ｻ繝ｫ縺ｫ邏譚先─縺後≠繧翫√き繝ｼ繝峨↓雋縺代↑縺・   - 鄂ｮ縺代ｋ繧ｻ繝ｫ縺・窶懆ｧｦ繧翫◆縺上↑繧銀・蠖｢迥ｶ縺ｧ蛻・°繧・   - 鄂ｮ縺代↑縺・そ繝ｫ縺・窶懈款縺帙↑縺・・縺ｨ蛻・°繧・
2. `data-vfx=off` 縺ｾ縺溘・ reduced-motion 縺ｧ繧ゅ・   - 驕主臆縺ｪ繧｢繝九Γ/繧ｰ繝ｪ繝ｳ繝医′辟｡蜉ｹ蛹悶＆繧後∬ｻｽ縺・   - 縺昴ｌ縺ｧ繧ら乢髱｢縺ｮ隕九◆逶ｮ縺梧・遶九☆繧・
3. 繝・せ繝・繝薙Ν繝峨′騾壹ｋ

## 6) 隱ｿ譟ｻ繝昴う繝ｳ繝茨ｼ・nvestigation・・
- `apps/web/src/components/BoardViewMint.tsx`
- `apps/web/src/components/DuelStageMint.tsx`
- `apps/web/src/mint-theme/mint-theme.css`
  - `.mint-stage*`, `.mint-board*`, `.mint-cell*` 邉ｻ

迴ｾ迥ｶ縺ｮ險ｭ險域晄Φ:

- 窶應ｻｻ螟ｩ蝣ゅΞ繝吶ΝUX窶・縺ｮ affordance・郁・繧峨∩/豐医∩/蜻ｼ蜷ｸ・峨ｒ譌｢縺ｫ謖√▲縺ｦ縺・ｋ
- 縺薙％縺ｫ **邏譚先─/邨ｱ荳諢・*繧定ｶｳ縺励※縲∵ュ蝣ｱ險ｭ險医ｒ螢翫＆縺夊ｳｪ繧剃ｸ翫￡繧・
## 7) 螳溯｣・婿驥晢ｼ・pproach・・
### 逶､髱｢・・oard・・
- `mint-board` 縺ｫ縲・  - 蜀・・繝上う繝ｩ繧､繝・+ 縺・▲縺吶ｉ譬ｼ蟄・繝弱う繧ｺ・・SS 繝代ち繝ｼ繝ｳ・・  - 隗偵・繧｢繧ｯ繧ｻ繝ｳ繝茨ｼ・orner glow・・  繧定ｿｽ蜉

### 繧ｻ繝ｫ・・ell・・
- selectable: 窶懈沐繧峨°縺・・繧峨∩窶・+ 霆ｽ縺・せ繝壹く繝･繝ｩ
- flat: 窶懈ｲ医∩窶・+ 繧ｯ繝ｪ繝・け縺ｧ縺阪↑縺・ｳｪ諢・- selected/placed: 蠑ｷ縺吶℃縺ｪ縺・′ 窶懷享縺｡遒ｺ縺ｮ豌玲戟縺｡繧医＆窶・縺悟・繧狗洒縺・ｼｷ隱ｿ

### VFX tier

- `data-vfx` 繧貞盾辣ｧ縺励※
  - off/low: 繧｢繝九Γ/蠖ｱ縺ｮ蠑ｷ縺輔ｒ謚代∴繧・  - medium/high: 縺ｻ繧薙・蟆代＠縺縺・窶懷・窶・繧定ｶｳ縺・
## 8) 繧ｿ繧ｹ繧ｯ繝ｪ繧ｹ繝茨ｼ育ｴｰ蛻・喧・・
- [x] `mint-theme.css` 縺ｫ 窶廝oard Surface / Frame窶・繧ｻ繧ｯ繧ｷ繝ｧ繝ｳ繧定ｿｽ蜉
- [x] `mint-cell` 縺ｮ shadow / highlight 繧呈紛逅・ｼ育憾諷句挨縺ｫ荳雋ｫ諤ｧ・・- [x] `data-vfx` 譚｡莉ｶ縺ｧ陬・｣ｾ驥上ｒ蛻・ｲ・- [x] 譌｢蟄・UI・・coreBar/Hand/Overlay・峨→縺ｮ鬥ｴ譟薙∩繧堤｢ｺ隱・- [x] 謇句虚遒ｺ隱搾ｼ医Δ繝舌う繝ｫ/ reduced-motion / vfx=off・・
## 9) 讀懆ｨｼ・・erification・・
### 閾ｪ蜍・
- `pnpm -C apps/web test`
- `pnpm -C apps/web typecheck`
- `pnpm -C apps/web build`

### 謇句虚

- `/match?ui=mint` 縺ｧ 1縲・ 隧ｦ蜷・- `?vfx=off` / `?vfx=low` / `?vfx=high` 縺ｮ隕九∴譁ｹ豈碑ｼ・ｼ磯㍾縺上↑繧峨↑縺・ｼ・- 390px 蟷・〒繧ら乢髱｢縺瑚ｩｰ縺ｾ繧翫☆縺弱↑縺・
## 10) 繝ｪ繧ｹ繧ｯ / 繝ｭ繝ｼ繝ｫ繝舌ャ繧ｯ

- 繝ｪ繧ｹ繧ｯ: CSS 縺ｮ隕冶ｪ肴ｧ菴惹ｸ九∝ｽｱ縺悟ｼｷ縺吶℃縺ｦ繝√・繝励↓縺ｪ繧・  - 蟇ｾ遲・ 窶懈而縺医ａ窶・繧貞次蜑・↓縲∝ｼｷ隱ｿ縺ｯ遏ｭ縺上・螻謇
- 繝ｭ繝ｼ繝ｫ繝舌ャ繧ｯ: 譁ｰ隕・CSS 繧ｻ繧ｯ繧ｷ繝ｧ繝ｳ繧・revert縲∵立繧ｹ繧ｿ繧､繝ｫ縺ｸ

## 11) PR隱ｬ譏趣ｼ・R body 髮帛ｽ｢・・
- What: Mint 逶､髱｢/繧ｹ繝・・繧ｸ縺ｮ閭梧勹繝ｻ譫繝ｻ繧ｻ繝ｫ縺ｮ邏譚先─縺ｨ邨ｱ荳諢溘ｒ蜷台ｸ・- Why: 繧ｫ繝ｼ繝峨↓豈斐∋逶､髱｢縺悟ｼｱ縺上∝・菴薙・蜩∬ｳｪ蜊ｰ雎｡縺碁ｭ謇薙■縺縺｣縺溘◆繧・- How: CSS 繝代ち繝ｼ繝ｳ/蜀・・繝上う繝ｩ繧､繝・迥ｶ諷句挨 shadow 謨ｴ逅・+ vfx tier 蛻・ｲ・- Test: `pnpm -C apps/web test && pnpm -C apps/web build` + 謇句虚・・fx/reduced-motion/繝｢繝舌う繝ｫ・・
## 12) 2026-02-15 Follow-up (Manual Checks -> E2E Guardrails)

- [x] Added `apps/web/e2e/mint-stage-visual-guardrails.spec.ts`
  - `vfx=off` keeps board usable while hiding heavy atmosphere layers.
  - `prefers-reduced-motion` resolves document `data-vfx=off`.
  - `390px` mobile viewport keeps stage/commit flow reachable and avoids horizontal overflow.
- [x] Added to fast guardrail command:
  - `pnpm -C apps/web e2e:ux` now runs both
    - `e2e/ux-guardrails.spec.ts`
    - `e2e/mint-stage-visual-guardrails.spec.ts`
- [x] Verification:
  - `pnpm.cmd -C apps/web e2e:ux` -> 5 passed


