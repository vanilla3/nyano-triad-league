{
  "schema": "nyano-triad-league.test-vectors.core_tactics_shadow_v2",
  "version": 1,
  "notes": "Core+Tactics subset with a single Synergy behavior: Shadow ignores warning mark penalty (on-chain settlement engine v2 candidate). Earth boost edges remain unsupported (must be 0xFF).",
  "cases": [
    {
      "name": "non_shadow_warning_mark_still_prevents_flip",
      "transcript": {
        "version": 1,
        "seasonId": 0,
        "rulesetId": "0x2222222222222222222222222222222222222222222222222222222222222222",
        "playerA": "0xaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
        "playerB": "0xbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb",
        "deckA": [
          1,
          2,
          3,
          4,
          5
        ],
        "deckB": [
          6,
          7,
          8,
          9,
          10
        ],
        "firstPlayer": 0,
        "deadline": 9999999999,
        "salt": "0x3333333333333333333333333333333333333333333333333333333333333333",
        "movesHex": "405001811272236334",
        "warningMarksHex": "05ffffffffffffffff",
        "earthBoostEdgesHex": "ffffffffffffffffff"
      },
      "tokens": {
        "1": {
          "triad": {
            "up": 5,
            "right": 5,
            "left": 5,
            "down": 5
          },
          "hand": 0,
          "power": 10,
          "trait": {
            "classId": 1,
            "seasonId": 1,
            "rarity": 1
          }
        },
        "2": {
          "triad": {
            "up": 4,
            "right": 4,
            "left": 4,
            "down": 4
          },
          "hand": 0,
          "power": 10,
          "trait": {
            "classId": 1,
            "seasonId": 1,
            "rarity": 1
          }
        },
        "3": {
          "triad": {
            "up": 4,
            "right": 4,
            "left": 4,
            "down": 4
          },
          "hand": 0,
          "power": 10,
          "trait": {
            "classId": 1,
            "seasonId": 1,
            "rarity": 1
          }
        },
        "4": {
          "triad": {
            "up": 4,
            "right": 4,
            "left": 4,
            "down": 4
          },
          "hand": 0,
          "power": 10,
          "trait": {
            "classId": 1,
            "seasonId": 1,
            "rarity": 1
          }
        },
        "5": {
          "triad": {
            "up": 4,
            "right": 4,
            "left": 4,
            "down": 4
          },
          "hand": 0,
          "power": 10,
          "trait": {
            "classId": 1,
            "seasonId": 1,
            "rarity": 1
          }
        },
        "6": {
          "triad": {
            "up": 5,
            "right": 5,
            "left": 5,
            "down": 5
          },
          "hand": 1,
          "power": 10,
          "trait": {
            "classId": 1,
            "seasonId": 1,
            "rarity": 1
          }
        },
        "7": {
          "triad": {
            "up": 4,
            "right": 4,
            "left": 4,
            "down": 4
          },
          "hand": 0,
          "power": 10,
          "trait": {
            "classId": 1,
            "seasonId": 1,
            "rarity": 1
          }
        },
        "8": {
          "triad": {
            "up": 4,
            "right": 4,
            "left": 4,
            "down": 4
          },
          "hand": 0,
          "power": 10,
          "trait": {
            "classId": 1,
            "seasonId": 1,
            "rarity": 1
          }
        },
        "9": {
          "triad": {
            "up": 4,
            "right": 4,
            "left": 4,
            "down": 4
          },
          "hand": 0,
          "power": 10,
          "trait": {
            "classId": 1,
            "seasonId": 1,
            "rarity": 1
          }
        },
        "10": {
          "triad": {
            "up": 4,
            "right": 4,
            "left": 4,
            "down": 4
          },
          "hand": 0,
          "power": 10,
          "trait": {
            "classId": 1,
            "seasonId": 1,
            "rarity": 1
          }
        }
      },
      "expected": {
        "winner": "A",
        "tilesA": 5,
        "tilesB": 4,
        "tieScoreA": 50,
        "tieScoreB": 40
      }
    },
    {
      "name": "shadow_ignores_warning_mark_allows_flip",
      "transcript": {
        "version": 1,
        "seasonId": 0,
        "rulesetId": "0x2222222222222222222222222222222222222222222222222222222222222222",
        "playerA": "0xaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
        "playerB": "0xbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb",
        "deckA": [
          1,
          2,
          3,
          4,
          5
        ],
        "deckB": [
          6,
          7,
          8,
          9,
          10
        ],
        "firstPlayer": 0,
        "deadline": 9999999999,
        "salt": "0x4444444444444444444444444444444444444444444444444444444444444444",
        "movesHex": "405001811272236334",
        "warningMarksHex": "05ffffffffffffffff",
        "earthBoostEdgesHex": "ffffffffffffffffff"
      },
      "tokens": {
        "1": {
          "triad": {
            "up": 5,
            "right": 5,
            "left": 5,
            "down": 5
          },
          "hand": 0,
          "power": 10,
          "trait": {
            "classId": 1,
            "seasonId": 1,
            "rarity": 1
          }
        },
        "2": {
          "triad": {
            "up": 4,
            "right": 4,
            "left": 4,
            "down": 4
          },
          "hand": 0,
          "power": 10,
          "trait": {
            "classId": 1,
            "seasonId": 1,
            "rarity": 1
          }
        },
        "3": {
          "triad": {
            "up": 4,
            "right": 4,
            "left": 4,
            "down": 4
          },
          "hand": 0,
          "power": 10,
          "trait": {
            "classId": 1,
            "seasonId": 1,
            "rarity": 1
          }
        },
        "4": {
          "triad": {
            "up": 4,
            "right": 4,
            "left": 4,
            "down": 4
          },
          "hand": 0,
          "power": 10,
          "trait": {
            "classId": 1,
            "seasonId": 1,
            "rarity": 1
          }
        },
        "5": {
          "triad": {
            "up": 4,
            "right": 4,
            "left": 4,
            "down": 4
          },
          "hand": 0,
          "power": 10,
          "trait": {
            "classId": 1,
            "seasonId": 1,
            "rarity": 1
          }
        },
        "6": {
          "triad": {
            "up": 5,
            "right": 5,
            "left": 5,
            "down": 5
          },
          "hand": 1,
          "power": 10,
          "trait": {
            "classId": 5,
            "seasonId": 1,
            "rarity": 3
          }
        },
        "7": {
          "triad": {
            "up": 4,
            "right": 4,
            "left": 4,
            "down": 4
          },
          "hand": 0,
          "power": 10,
          "trait": {
            "classId": 1,
            "seasonId": 1,
            "rarity": 1
          }
        },
        "8": {
          "triad": {
            "up": 4,
            "right": 4,
            "left": 4,
            "down": 4
          },
          "hand": 0,
          "power": 10,
          "trait": {
            "classId": 1,
            "seasonId": 1,
            "rarity": 1
          }
        },
        "9": {
          "triad": {
            "up": 4,
            "right": 4,
            "left": 4,
            "down": 4
          },
          "hand": 0,
          "power": 10,
          "trait": {
            "classId": 1,
            "seasonId": 1,
            "rarity": 1
          }
        },
        "10": {
          "triad": {
            "up": 4,
            "right": 4,
            "left": 4,
            "down": 4
          },
          "hand": 0,
          "power": 10,
          "trait": {
            "classId": 1,
            "seasonId": 1,
            "rarity": 1
          }
        }
      },
      "expected": {
        "winner": "B",
        "tilesA": 4,
        "tilesB": 5,
        "tieScoreA": 40,
        "tieScoreB": 50
      }
    }
  ]
}